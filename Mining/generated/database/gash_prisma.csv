Project,Author,Author Acc Type,Author Email,Commiter,Commiter Acc Type,Commiter Email,Commit,Commit Parent,Commit Date,Commit Message,Number of Files Changed by Commit,Release,Files Names,Type Of Commit,Added lines,Deleted lines,Token Count,Issue Tracker,Issue Creator,Issue Creator Acc type,Issue Creator Association,Issue Closer,Issue Closer Acc Type,Issue Created At,Issue Closed At,Issue State,Issue Labels,Issue Reviewers,Issue Reviewers Acc Type,Issue Body,Path Src Code Current,Path Src Code Before,Path Src Code After,DMM_Unit,DMM_Complexity,DMM_Interfacing,Diff,vul,glb,retries,coe,cq,conditions,wd
prisma,Luca Steeb,User,contact@luca-steeb.com,Tim Suchanek,User,Tim.Suchanek@gmail.com,aae83f965bd2f97e8d8512159f55655c8ba1d5f2,a77c47c38a447b8e86580161d61f530b7e29fd07,2019-12-17 17:02:37+01:00,ci(actions): add e2e check (#1169),2,,e2e.yaml,ADD,14,0,,1169,steebchen,User,CONTRIBUTOR,timsuchanek,User,2019-12-17T15:03:20Z,2019-12-17T16:02:38Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/e2e.yaml,../Mining/generated/scripts/prisma/files_src_before/aae83f9_e2e.yaml,../Mining/generated/scripts/prisma/files_src_after/aae83f9_e2e.yaml,None,None,None,"@@ -0,0 +1,14 @@
+name: e2e
+on:
+  schedule:
+    - cron: '*/5 * * * *'
+jobs:
+  e2e:
+    runs-on: ubuntu-latest
+    steps:
+      - uses: actions/checkout@v1
+
+      - name: e2e
+        run: sh .github/workflows/e2e.sh
+        env:
+          SSH_KEY: ${{ secrets.SSH_KEY }}
",False,False,False,False,False,False,False
prisma,Luca Steeb,User,contact@luca-steeb.com,Tim Suchanek,User,Tim.Suchanek@gmail.com,7252749866d3a97630ecd8577dcbaf7de5b7047a,3617965f767dc6d65093f7b09f184d177f984fb7,2019-12-18 13:41:18+01:00,"ci(github): fix e2e workflow (#1179)

remove an old env variable which is not required for this repository",1,,e2e.yaml,MODIFY,0,2,,1179,steebchen,User,CONTRIBUTOR,timsuchanek,User,2019-12-18T11:59:17Z,2019-12-18T12:41:19Z,closed,,,,remove an old env variable which is not required for this repository,../Mining/generated/scripts/prisma/current_code/e2e.yaml,../Mining/generated/scripts/prisma/files_src_before/7252749_e2e.yaml,../Mining/generated/scripts/prisma/files_src_after/7252749_e2e.yaml,None,None,None,"@@ -10,5 +10,3 @@ jobs:
 
       - name: e2e
         run: sh .github/workflows/e2e.sh
-        env:
-          SSH_KEY: ${{ secrets.SSH_KEY }}
",False,False,False,False,False,False,False
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,87614a1483b74ac82b4ff7a8a640dbf4276e8b5e,18b3aa2b850fdb81e1bb6573c687ce90c46b95b8,2020-07-22 19:29:32+02:00,chore: Add Stale GitHub action (#3111),2,2.4.0,label-stale-issues.yml,ADD,20,0,,3111,pantharshit00,User,CONTRIBUTOR,janpio,User,2020-07-22T17:26:34Z,2020-07-22T17:29:33Z,closed,,,,"This PR create a github action for labeling issue which runs everyday. This also removes stalebot.

Config is the same as stalebot",../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/87614a1_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/87614a1_label-stale-issues.yml,None,None,None,"@@ -0,0 +1,20 @@
+name: ""Close stale issues""
+on:
+  schedule:
+  - cron: ""0 0 * * *""
+
+jobs:
+  stale:
+    runs-on: ubuntu-latest
+    steps:
+    - uses: pantharshit00/stale
+      with:
+        repo-token: ${{ secrets.GITHUB_TOKEN }}
+        stale-issue-message: 'DUMMY, FOR ENABLING'
+        days-before-stale: 60
+        days-before-close: -1
+        exemptLabels: 'kind/discussion,kind/docs,kind/feature,kind/improvement,kind/question,kind/regression'
+        staleLabel: 'status/needs-action'
+        skip-stale-issue-message: true
+        skip-stale-pr-message: true
+        
",False,False,False,False,False,False,False
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,ae6c6064da946b6768950e114e60fa9e2a37ac44,87614a1483b74ac82b4ff7a8a640dbf4276e8b5e,2020-07-22 20:04:49+02:00,fix: enable workflow dispatch on stale bot (#3113),1,2.4.0,label-stale-issues.yml,MODIFY,2,1,,3113,pantharshit00,User,CONTRIBUTOR,janpio,User,2020-07-22T17:56:11Z,2020-07-22T18:04:50Z,closed,,,,This option is needed for triggering this workflow via a webhook,../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/ae6c606_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/ae6c606_label-stale-issues.yml,None,None,None,"@@ -1,7 +1,8 @@
 name: ""Close stale issues""
 on:
   schedule:
-  - cron: ""0 0 * * *""
+    - cron: ""0 0 * * *""
+  workflow_dispatch:
 
 jobs:
   stale:
",False,False,False,False,False,False,True
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,1d439753a4034f1bf399681119c48e42530630a3,ae6c6064da946b6768950e114e60fa9e2a37ac44,2020-07-22 20:11:02+02:00,fix: add tag to worflow (#3114),1,2.4.0,label-stale-issues.yml,MODIFY,1,1,,3114,pantharshit00,User,CONTRIBUTOR,janpio,User,2020-07-22T18:09:05Z,2020-07-22T18:11:03Z,closed,,,,Hopefully this will do it,../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/1d43975_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/1d43975_label-stale-issues.yml,None,None,None,"@@ -8,7 +8,7 @@ jobs:
   stale:
     runs-on: ubuntu-latest
     steps:
-    - uses: pantharshit00/stale
+    - uses: pantharshit00/stale@v3.1
       with:
         repo-token: ${{ secrets.GITHUB_TOKEN }}
         stale-issue-message: 'DUMMY, FOR ENABLING'
",False,False,False,False,False,False,True
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,980d4a51b369b2b33d00e0888556e6fc365972ef,1d439753a4034f1bf399681119c48e42530630a3,2020-07-22 20:22:17+02:00,fix: parameter for stale label (#3115),1,2.4.0,label-stale-issues.yml,MODIFY,2,2,,3115,pantharshit00,User,CONTRIBUTOR,janpio,User,2020-07-22T18:19:29Z,2020-07-22T18:22:17Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/980d4a5_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/980d4a5_label-stale-issues.yml,None,None,None,"@@ -1,4 +1,4 @@
-name: ""Close stale issues""
+name: ""Labels stale issues""
 on:
   schedule:
     - cron: ""0 0 * * *""
@@ -15,7 +15,7 @@ jobs:
         days-before-stale: 60
         days-before-close: -1
         exemptLabels: 'kind/discussion,kind/docs,kind/feature,kind/improvement,kind/question,kind/regression'
-        staleLabel: 'status/needs-action'
+        stale-issue-label: 'status/needs-action'
         skip-stale-issue-message: true
         skip-stale-pr-message: true
         
",False,False,False,False,False,False,True
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,8652c651a30061cde1198617aac4f6e6debf104f,980d4a51b369b2b33d00e0888556e6fc365972ef,2020-07-22 21:12:39+02:00,"fix: dash case exempt labels (#3116)

This is now getting embarrassing but hopefully this PR is the final one",1,2.4.0,label-stale-issues.yml,MODIFY,1,1,,3116,pantharshit00,User,CONTRIBUTOR,janpio,User,2020-07-22T18:33:03Z,2020-07-22T19:12:40Z,closed,,,,This is now getting embarrassing but hopefully this PR is the final one,../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/8652c65_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/8652c65_label-stale-issues.yml,None,None,None,"@@ -14,7 +14,7 @@ jobs:
         stale-issue-message: 'DUMMY, FOR ENABLING'
         days-before-stale: 60
         days-before-close: -1
-        exemptLabels: 'kind/discussion,kind/docs,kind/feature,kind/improvement,kind/question,kind/regression'
+        exempt-issue-labels: 'kind/discussion,kind/docs,kind/feature,kind/improvement,kind/question,kind/regression'
         stale-issue-label: 'status/needs-action'
         skip-stale-issue-message: true
         skip-stale-pr-message: true
",False,False,False,False,False,False,True
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,00ca1ee1f0bcf874b6c738f30b5f5032483c4868,b4399a1799b913dbe0d2953cc462d903202ba15a,2020-07-23 11:05:08+02:00,"chore: increase limit on number of issues processed (#3117)

Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>",1,2.4.0,label-stale-issues.yml,MODIFY,2,0,,3117,pantharshit00,User,CONTRIBUTOR,janpio,User,2020-07-23T08:56:01Z,2020-07-23T09:05:08Z,closed,,,,"Considering the size of our repo I have increased the rate limiting parameter. Also, added the `ascending` parameter which fetches older ones first.",../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/00ca1ee_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/00ca1ee_label-stale-issues.yml,None,None,None,"@@ -18,4 +18,6 @@ jobs:
         stale-issue-label: 'status/needs-action'
         skip-stale-issue-message: true
         skip-stale-pr-message: true
+        ascending: true
+        operations-per-run: 100
         
",False,False,False,False,False,False,True
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,f6b7d421b39b8d575472474e83148cdc3f35a84b,00ca1ee1f0bcf874b6c738f30b5f5032483c4868,2020-07-23 11:19:57+02:00,fix: remove regression from exempt list of stale bot (#3118),1,2.4.0,label-stale-issues.yml,MODIFY,1,1,,3118,pantharshit00,User,CONTRIBUTOR,janpio,User,2020-07-23T09:17:44Z,2020-07-23T09:19:57Z,closed,,,,They also need some attention ,../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/f6b7d42_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/f6b7d42_label-stale-issues.yml,None,None,None,"@@ -14,7 +14,7 @@ jobs:
         stale-issue-message: 'DUMMY, FOR ENABLING'
         days-before-stale: 60
         days-before-close: -1
-        exempt-issue-labels: 'kind/discussion,kind/docs,kind/feature,kind/improvement,kind/question,kind/regression'
+        exempt-issue-labels: 'kind/discussion,kind/docs,kind/feature,kind/improvement,kind/question'
         stale-issue-label: 'status/needs-action'
         skip-stale-issue-message: true
         skip-stale-pr-message: true
",False,False,False,False,False,False,True
prisma,Tim Suchanek,User,Tim.Suchanek@gmail.com,GitHub,User,noreply@github.com,bf48083d484d8c7b561d89d76138fe2c8bd41fc9,665e9ad35aca722af4a1ebb423ccf149bb0b4227,2020-09-07 09:43:46+02:00,"GitHub Actions CI (#3273)

Co-authored-by: Joël <joel.galeran@gmail.com>",6,Release 2.7.0,test.yml,ADD,69,0,,3273,timsuchanek,User,CONTRIBUTOR,Jolg42,User,2020-08-12T12:21:04Z,2020-09-07T07:43:47Z,closed,,"timsuchanek, Jolg42","User, User",,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/bf48083_test.yml,../Mining/generated/scripts/prisma/files_src_after/bf48083_test.yml,0.0,1.0,1.0,"@@ -0,0 +1,69 @@
+name: Node.js CI
+
+on: [push]
+
+jobs:
+  test:
+    runs-on: ubuntu-latest
+    # container:
+    #   image: 'node:12'
+
+    services:
+      postgres:
+        image: postgres:10.3
+        env:
+          POSTGRES_USER: prisma
+          POSTGRES_PASSWORD: prisma
+        options: >-
+          --health-cmd pg_isready
+          --health-interval 10s
+          --health-timeout 5s
+          --health-retries 5
+        ports:
+          - 5432/tcp
+
+      # https://stackoverflow.com/questions/60902904/how-to-pass-mysql-native-password-to-mysql-service-in-github-actions
+      # mysql:
+      #   image: mysql:8.0
+      #   env:
+      #     MYSQL_ROOT_PASSWORD: root
+      #     MYSQL_DATABASE: tests
+      #     MYSQL_USER: prisma
+      #     MYSQL_PASSWORD: prisma
+      #   volumes:
+      #     - mysql:/var/lib/mysql
+      #   ports:
+      #     - 3306/tcp
+      #   options: >-
+      #     --health-cmd=""mysqladmin ping""
+      #     --health-interval=10s
+      #     --health-timeout=5s
+      #     --health-retries=3
+      mysql:
+        image: bitnami/mysql:8.0
+        env:
+          MYSQL_ROOT_PASSWORD: root
+          MYSQL_DATABASE: tests
+          MYSQL_USER: prisma
+          MYSQL_PASSWORD: prisma
+          MYSQL_AUTHENTICATION_PLUGIN: mysql_native_password
+        ports:
+          - 3306
+        options: >-
+          --health-cmd=""mysqladmin ping"" 
+          --health-interval=10s 
+          --health-timeout=5s 
+          --health-retries=3
+
+    steps:
+      - uses: actions/checkout@v2
+      - uses: actions/setup-node@v2-beta
+        with:
+          node-version: ""12""
+      - run: bash src/.buildkite/test/run.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/postgres
+          TEST_MYSQL_URI: mysql://prisma:prisma@localhost:${{ job.services.mysql.ports[3306] }}/tests
",True,False,False,False,False,False,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,a530b160ee7cb226de21e2041208348457356fc2,e1b741088d4763ea66683770f18afddcbe374b5a,2020-09-11 11:01:39+02:00,"ci: fail-fast: false (#3589)

Right now all matrix jobs are cancelled when one of them fails. This is not necessarily wanted for `os`.",1,Release 2.7.0,test.yml,MODIFY,14,0,,3589,janpio,User,MEMBER,Jolg42,User,2020-09-10T19:45:54Z,2020-09-11T09:01:40Z,closed,,,,"Right now all matrix jobs are cancelled when one of them fails. This is not necessarily wanted for `os`.

Or is it?",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/a530b16_test.yml,../Mining/generated/scripts/prisma/files_src_after/a530b16_test.yml,None,None,None,"@@ -15,6 +15,7 @@ jobs:
     runs-on: ubuntu-latest
 
     strategy:
+      fail-fast: false
       matrix:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
@@ -70,6 +71,7 @@ jobs:
     runs-on: ubuntu-latest
 
     strategy:
+      fail-fast: false
       matrix:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
@@ -130,6 +132,7 @@ jobs:
     runs-on: ubuntu-latest
 
     strategy:
+      fail-fast: false
       matrix:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
@@ -186,6 +189,7 @@ jobs:
     runs-on: ubuntu-latest
 
     strategy:
+      fail-fast: false
       matrix:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
@@ -233,6 +237,7 @@ jobs:
     runs-on: ubuntu-latest
 
     strategy:
+      fail-fast: false
       matrix:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
@@ -277,6 +282,7 @@ jobs:
     runs-on: ubuntu-latest
 
     strategy:
+      fail-fast: false
       matrix:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
@@ -332,6 +338,7 @@ jobs:
     runs-on: ubuntu-latest
 
     strategy:
+      fail-fast: false
       matrix:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
@@ -376,6 +383,7 @@ jobs:
     runs-on: ubuntu-latest
 
     strategy:
+      fail-fast: false
       matrix:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
@@ -420,6 +428,7 @@ jobs:
     runs-on: ubuntu-latest
 
     strategy:
+      fail-fast: false
       matrix:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
@@ -464,6 +473,7 @@ jobs:
     runs-on: ubuntu-latest
 
     strategy:
+      fail-fast: false
       matrix:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
@@ -508,6 +518,7 @@ jobs:
     runs-on: ubuntu-latest
 
     strategy:
+      fail-fast: false
       matrix:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
@@ -552,6 +563,7 @@ jobs:
     runs-on: ubuntu-latest
 
     strategy:
+      fail-fast: false
       matrix:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
@@ -596,6 +608,7 @@ jobs:
     runs-on: ubuntu-latest
 
     strategy:
+      fail-fast: false
       matrix:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
@@ -643,6 +656,7 @@ jobs:
     runs-on: ubuntu-latest
 
     strategy:
+      fail-fast: false
       matrix:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
",True,False,False,False,False,False,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,dd380f5ba508c1878a8e2b690bcb9913dca60a0d,1d05528b367ff33c3b2e8fb5612b91b3c27480d3,2020-09-14 15:25:47+02:00,ci: add workflow identification (#3641),1,Release 2.7.0,test.yml,MODIFY,4,1,,3641,janpio,User,MEMBER,Jolg42,User,2020-09-12T16:57:31Z,2020-09-14T13:25:48Z,closed,,,,This adds identification for our CI workflows running on Github Actions.,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/dd380f5_test.yml,../Mining/generated/scripts/prisma/files_src_after/dd380f5_test.yml,None,None,None,"@@ -1,12 +1,15 @@
 name: Node.js CI
 
-# Run on push only for master, if not it will trigger push & pull_request on PRs
+# Run on push only for master, if not it will trigger push & pull_request on PRs at the same time
 on:
   push:
     branches:
       - master
   pull_request:
 
+env:
+  PRISMA_TELEMETRY_INFORMATION: ""prisma test.yml""
+  
 jobs:
   #
   # CLI-POSTGRESQL
",True,False,False,False,False,False,False
prisma,Tim Suchanek,User,Tim.Suchanek@gmail.com,GitHub,User,noreply@github.com,cd8361cf5a1e4c8786f40075db9888e188e701c1,28919532f3a81e8e1dcee3d99e79e4986b7609b2,2020-09-23 10:56:21+02:00,"test(client): add mysql & postgres integration tests (#3683)

Co-authored-by: Emily Morgan <emily.morgan@code.berlin>
Co-authored-by: Joël <joel.galeran@gmail.com>",15,Release 2.8.0,test.yml,MODIFY,16,1,,3683,timsuchanek,User,CONTRIBUTOR,timsuchanek,User,2020-09-17T08:39:28Z,2020-09-23T08:56:22Z,closed,,,,"Resolves #3654
Resolves prisma/prisma-client-js#820",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/cd8361c_test.yml,../Mining/generated/scripts/prisma/files_src_after/cd8361c_test.yml,0.8073394495412844,1.0,1.0,"@@ -148,7 +148,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_MYSQL_URI: mysql://prisma:prisma@localhost:${{ job.services.mysql.ports[3306] }}/tests
+          TEST_MYSQL_URI: mysql://root:root@localhost:${{ job.services.mysql.ports[3306] }}/tests
 
   #
   # CLI-MARIADB
@@ -326,6 +326,20 @@ jobs:
           - 5432/tcp
         options: --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5
 
+      # mysql:8.0 would not work as we use `mariadb` node lib and it doesn't support the latest default password algorithm
+      # https://stackoverflow.com/questions/60902904/how-to-pass-mysql-native-password-to-mysql-service-in-github-actions
+      mysql:
+        image: bitnami/mysql:8.0
+        env:
+          MYSQL_ROOT_PASSWORD: root
+          MYSQL_DATABASE: tests
+          MYSQL_USER: prisma
+          MYSQL_PASSWORD: prisma
+          MYSQL_AUTHENTICATION_PLUGIN: mysql_native_password
+        ports:
+          - 3306
+        options: --health-cmd=""mysqladmin ping"" --health-interval 10s --health-timeout 5s --health-retries 3 
+
     steps:
       - uses: actions/checkout@v2
 
@@ -359,6 +373,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/postgres
+          TEST_MYSQL_URI: mysql://root:root@localhost:${{ job.services.mysql.ports[3306] }}/tests
 
   #
   # SDK
",True,False,False,False,False,True,False
prisma,Jason Kuhrt,,jason.kuhrt@dialogue.co,GitHub,User,noreply@github.com,31ae100ba9413bdef71aa5131417036d7655ebb7,788053296891f6ec688077d2d0184b5fa51dd6b0,2020-10-06 16:41:31+02:00,test: split introspect and runtime (#3767),38,Release 2.9.0,test.yml,MODIFY,25,18,,3767,jasonkuhrt,User,MEMBER,timsuchanek,User,2020-09-26T01:43:44Z,2020-10-06T14:41:32Z,closed,,jasonkuhrt,User,"Example perf sample:

Runtime integration test for postgresql now takes: `29.6 s` on my machine. Before it took: `60.7 s`.
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/31ae100_test.yml,../Mining/generated/scripts/prisma/files_src_after/31ae100_test.yml,1.0,0.8426966292134831,0.9213483146067416,"@@ -6,18 +6,18 @@ on:
     branches:
       - master
     paths-ignore:
-      - ""*.md""
-      - "".buildkite/**""
-      - ""docs/**""
-      - ""scripts/**""
-      - "".prettierrc.yml""
-      - "".dockerignore""
-      - ""LICENSE""
+      - '*.md'
+      - '.buildkite/**'
+      - 'docs/**'
+      - 'scripts/**'
+      - '.prettierrc.yml'
+      - '.dockerignore'
+      - 'LICENSE'
   pull_request:
 
 env:
-  PRISMA_TELEMETRY_INFORMATION: ""prisma test.yml""
-  GITHUB_TOKEN: ""${{ secrets.GITHUB_TOKEN }}""
+  PRISMA_TELEMETRY_INFORMATION: 'prisma test.yml'
+  GITHUB_TOKEN: '${{ secrets.GITHUB_TOKEN }}'
 
 jobs:
   # From https://github.com/marketplace/actions/workflow-run-cleanup-action
@@ -29,7 +29,7 @@ jobs:
     steps:
       - uses: rokroskar/workflow-run-cleanup-action@master
         env:
-          GITHUB_TOKEN: ""${{ secrets.GITHUB_TOKEN }}""
+          GITHUB_TOKEN: '${{ secrets.GITHUB_TOKEN }}'
     if: ""!startsWith(github.ref, 'refs/tags/') && github.ref != 'refs/heads/master'""
 
   #
@@ -114,15 +114,22 @@ jobs:
         if: ${{ matrix.test == 'sqlite' }}
         working-directory: src/packages/cli
 
-      - run: pnpm run jest integration.${{ matrix.test }}.test.ts -- --forceExit
+      # temp
+      # - name: Setup tmate session
+      #   uses: mxschmitt/action-tmate@v3
+
+      - run: pnpm run jest integration/${{ matrix.test }} -- --forceExit --maxConcurrency=1
         working-directory: src/packages/cli
         env:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/postgres
+          TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}
+          TEST_MYSQL_BASE_URI: mysql://root:root@localhost:${{ job.services.mysql.ports[3306] }}
+          TEST_MARIADB_BASE_URI: mysql://root:root@localhost:${{ job.services.mariadb.ports[3306] }}
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/tests
           TEST_MYSQL_URI: mysql://root:root@localhost:${{ job.services.mysql.ports[3306] }}/tests
-          TEST_MARIADB_URI: mysql://prisma:prisma@localhost:${{ job.services.mariadb.ports[3306] }}/tests
+          TEST_MARIADB_URI: mysql://root:root@localhost:${{ job.services.mariadb.ports[3306] }}/tests
 
   #
   # CLI-COMMANDS
@@ -436,7 +443,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
-        name: ""debug""
+        name: 'debug'
         working-directory: src/packages/debug
         env:
           CI: true
@@ -444,7 +451,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
-        name: ""engine-core""
+        name: 'engine-core'
         working-directory: src/packages/engine-core
         env:
           CI: true
@@ -452,7 +459,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
-        name: ""fetch-engine""
+        name: 'fetch-engine'
         working-directory: src/packages/fetch-engine
         env:
           CI: true
@@ -460,7 +467,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
-        name: ""generator-helper""
+        name: 'generator-helper'
         working-directory: src/packages/generator-helper
         env:
           CI: true
@@ -468,7 +475,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
-        name: ""get-platform""
+        name: 'get-platform'
         working-directory: src/packages/get-platform
         env:
           CI: true
",True,True,False,False,False,True,False
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,f50765d2c05f355a42317c05f62fdf7fab997252,db0af08ba0c698d51dee8db5ce02f582ff7aac24,2020-10-07 09:29:32+02:00,chore: update to stable actions/stale (#3855),1,Release 2.9.0,label-stale-issues.yml,MODIFY,1,1,,3855,pantharshit00,User,CONTRIBUTOR,Jolg42,User,2020-10-05T11:04:06Z,2020-10-07T07:29:33Z,closed,,,,closes: #3112 ,../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/f50765d_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/f50765d_label-stale-issues.yml,None,None,None,"@@ -8,7 +8,7 @@ jobs:
   stale:
     runs-on: ubuntu-latest
     steps:
-    - uses: pantharshit00/stale@v3.1
+    - uses: actions/stale@v3
       with:
         repo-token: ${{ secrets.GITHUB_TOKEN }}
         stale-issue-message: 'DUMMY, FOR ENABLING'
",False,False,False,False,False,False,True
prisma,Jason Kuhrt,,jason.kuhrt@dialogue.co,GitHub,User,noreply@github.com,d8c2629e4f5046685bc5e02fff4ea959c0915df7,ccfe3b55612f5a97a71dcde5edcf8488f247d54c,2020-10-08 18:10:56+02:00,test: enable coverage reporting (#3848),19,Release 2.9.0,test.yml,MODIFY,41,2,,3848,jasonkuhrt,User,MEMBER,timsuchanek,User,2020-10-02T18:19:16Z,2020-10-08T16:10:57Z,closed,,,,relates to #3722,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/d8c2629_test.yml,../Mining/generated/scripts/prisma/files_src_after/d8c2629_test.yml,None,None,None,"@@ -36,7 +36,7 @@ jobs:
   # CLI-INTEGRATION
   #
   cli-integration:
-    timeout-minutes: 8
+    timeout-minutes: 10
     runs-on: ubuntu-latest
 
     strategy:
@@ -181,7 +181,7 @@ jobs:
   # CLIENT
   #
   client:
-    timeout-minutes: 7
+    timeout-minutes: 20
     runs-on: ubuntu-latest
 
     strategy:
@@ -250,6 +250,11 @@ jobs:
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/tests
           TEST_MYSQL_URI: mysql://root:root@localhost:${{ job.services.mysql.ports[3306] }}/tests
 
+      - name: Upload coverage report
+        working-directory: src/packages/client
+        run: |
+          bash <(curl -s https://codecov.io/bash) -F client -f ./src/__tests__/coverage/clover.xml
+
   #
   # SDK
   #
@@ -296,6 +301,11 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
+      - name: Upload coverage report
+        working-directory: src/packages/sdk
+        run: |
+          bash <(curl -s https://codecov.io/bash) -F sdk -f ./src/__tests__/coverage/clover.xml
+
   #
   # MIGRATE
   #
@@ -345,6 +355,11 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
+      - name: Upload coverage report
+        working-directory: src/packages/migrate
+        run: |
+          bash <(curl -s https://codecov.io/bash) -F migrate -f ./src/__tests__/coverage/clover.xml
+
   #
   # INTROSPECTION
   #
@@ -403,6 +418,10 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/tests
 
+      - name: Upload coverage report
+        working-directory: src/packages/introspection
+        run: |
+          bash <(curl -s https://codecov.io/bash) -F introspection -f ./src/__tests__/coverage/clover.xml
   #
   # All the other packages!
   #
@@ -449,6 +468,10 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+      - name: Upload coverage report
+        working-directory: src/packages/debug
+        run: |
+          bash <(curl -s https://codecov.io/bash) -F debug -f ./src/__tests__/coverage/clover.xml
 
       - run: pnpm run test
         name: 'engine-core'
@@ -457,6 +480,10 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+      - name: Upload coverage report
+        working-directory: src/packages/engine-core
+        run: |
+          bash <(curl -s https://codecov.io/bash) -F engine-core -f ./src/__tests__/coverage/clover.xml
 
       - run: pnpm run test
         name: 'fetch-engine'
@@ -465,6 +492,10 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+      - name: Upload coverage report
+        working-directory: src/packages/fetch-engine
+        run: |
+          bash <(curl -s https://codecov.io/bash) -F fetch-engine -f ./src/__tests__/coverage/clover.xml
 
       - run: pnpm run test
         name: 'generator-helper'
@@ -473,6 +504,10 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+      - name: Upload coverage report
+        working-directory: src/packages/generator-helper
+        run: |
+          bash <(curl -s https://codecov.io/bash) -F generator-helper -f ./src/__tests__/coverage/clover.xml
 
       - run: pnpm run test
         name: 'get-platform'
@@ -481,3 +516,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+      - name: Upload coverage report
+        working-directory: src/packages/get-platform
+        run: |
+          bash <(curl -s https://codecov.io/bash) -F get-platform -f ./src/__tests__/coverage/clover.xml
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,44ad35374ce05c33f2142ea8da0615546d00ff37,3595711374d674c8a70aad29e8b9cc55b6207413,2020-10-09 12:17:51+02:00,test(*): GH Actions only run codecov on ubuntu matrix and not renovate (#3882),4,Release 2.9.0,label-stale-issues.yml,MODIFY,12,13,,3882,Jolg42,User,MEMBER,Jolg42,User,2020-10-09T10:06:14Z,2020-10-09T10:17:52Z,closed,,,,contains operator from https://docs.github.com/en/free-pro-team@latest/actions/reference/context-and-expression-syntax-for-github-actions#operators,../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/44ad353_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/44ad353_label-stale-issues.yml,None,None,None,"@@ -8,16 +8,15 @@ jobs:
   stale:
     runs-on: ubuntu-latest
     steps:
-    - uses: actions/stale@v3
-      with:
-        repo-token: ${{ secrets.GITHUB_TOKEN }}
-        stale-issue-message: 'DUMMY, FOR ENABLING'
-        days-before-stale: 60
-        days-before-close: -1
-        exempt-issue-labels: 'kind/discussion,kind/docs,kind/feature,kind/improvement,kind/question'
-        stale-issue-label: 'status/needs-action'
-        skip-stale-issue-message: true
-        skip-stale-pr-message: true
-        ascending: true
-        operations-per-run: 100
-        
+      - uses: actions/stale@v3
+        with:
+          repo-token: ${{ secrets.GITHUB_TOKEN }}
+          stale-issue-message: ""DUMMY, FOR ENABLING""
+          days-before-stale: 60
+          days-before-close: -1
+          exempt-issue-labels: ""kind/discussion,kind/docs,kind/feature,kind/improvement,kind/question""
+          stale-issue-label: ""status/needs-action""
+          skip-stale-issue-message: true
+          skip-stale-pr-message: true
+          ascending: true
+          operations-per-run: 100
",False,False,False,False,False,False,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,44ad35374ce05c33f2142ea8da0615546d00ff37,3595711374d674c8a70aad29e8b9cc55b6207413,2020-10-09 12:17:51+02:00,test(*): GH Actions only run codecov on ubuntu matrix and not renovate (#3882),4,Release 2.9.0,test.yml,MODIFY,23,15,,3882,Jolg42,User,MEMBER,Jolg42,User,2020-10-09T10:06:14Z,2020-10-09T10:17:52Z,closed,,,,contains operator from https://docs.github.com/en/free-pro-team@latest/actions/reference/context-and-expression-syntax-for-github-actions#operators,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/44ad353_test.yml,../Mining/generated/scripts/prisma/files_src_after/44ad353_test.yml,None,None,None,"@@ -6,18 +6,18 @@ on:
     branches:
       - master
     paths-ignore:
-      - '*.md'
-      - '.buildkite/**'
-      - 'docs/**'
-      - 'scripts/**'
-      - '.prettierrc.yml'
-      - '.dockerignore'
-      - 'LICENSE'
+      - ""*.md""
+      - "".buildkite/**""
+      - ""docs/**""
+      - ""scripts/**""
+      - "".prettierrc.yml""
+      - "".dockerignore""
+      - ""LICENSE""
   pull_request:
 
 env:
-  PRISMA_TELEMETRY_INFORMATION: 'prisma test.yml'
-  GITHUB_TOKEN: '${{ secrets.GITHUB_TOKEN }}'
+  PRISMA_TELEMETRY_INFORMATION: ""prisma test.yml""
+  GITHUB_TOKEN: ""${{ secrets.GITHUB_TOKEN }}""
 
 jobs:
   # From https://github.com/marketplace/actions/workflow-run-cleanup-action
@@ -29,7 +29,7 @@ jobs:
     steps:
       - uses: rokroskar/workflow-run-cleanup-action@master
         env:
-          GITHUB_TOKEN: '${{ secrets.GITHUB_TOKEN }}'
+          GITHUB_TOKEN: ""${{ secrets.GITHUB_TOKEN }}""
     if: ""!startsWith(github.ref, 'refs/tags/') && github.ref != 'refs/heads/master'""
 
   #
@@ -302,6 +302,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - name: Upload coverage report
+        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-latest' }}
         working-directory: src/packages/sdk
         run: |
           bash <(curl -s https://codecov.io/bash) -F sdk -f ./src/__tests__/coverage/clover.xml
@@ -356,6 +357,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - name: Upload coverage report
+        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-latest' }}
         working-directory: src/packages/migrate
         run: |
           bash <(curl -s https://codecov.io/bash) -F migrate -f ./src/__tests__/coverage/clover.xml
@@ -419,6 +421,7 @@ jobs:
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/tests
 
       - name: Upload coverage report
+        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-latest' }}
         working-directory: src/packages/introspection
         run: |
           bash <(curl -s https://codecov.io/bash) -F introspection -f ./src/__tests__/coverage/clover.xml
@@ -462,61 +465,66 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
-        name: 'debug'
+        name: ""debug""
         working-directory: src/packages/debug
         env:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
       - name: Upload coverage report
+        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-latest' }}
         working-directory: src/packages/debug
         run: |
           bash <(curl -s https://codecov.io/bash) -F debug -f ./src/__tests__/coverage/clover.xml
 
       - run: pnpm run test
-        name: 'engine-core'
+        name: ""engine-core""
         working-directory: src/packages/engine-core
         env:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
       - name: Upload coverage report
+        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-latest' }}
         working-directory: src/packages/engine-core
         run: |
           bash <(curl -s https://codecov.io/bash) -F engine-core -f ./src/__tests__/coverage/clover.xml
 
       - run: pnpm run test
-        name: 'fetch-engine'
+        name: ""fetch-engine""
         working-directory: src/packages/fetch-engine
         env:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
       - name: Upload coverage report
+        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-latest' }}
         working-directory: src/packages/fetch-engine
         run: |
           bash <(curl -s https://codecov.io/bash) -F fetch-engine -f ./src/__tests__/coverage/clover.xml
 
       - run: pnpm run test
-        name: 'generator-helper'
+        name: ""generator-helper""
         working-directory: src/packages/generator-helper
         env:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
       - name: Upload coverage report
+        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-latest' }}
         working-directory: src/packages/generator-helper
         run: |
           bash <(curl -s https://codecov.io/bash) -F generator-helper -f ./src/__tests__/coverage/clover.xml
 
       - run: pnpm run test
-        name: 'get-platform'
+        name: ""get-platform""
         working-directory: src/packages/get-platform
         env:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
       - name: Upload coverage report
+        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-latest' }}
         working-directory: src/packages/get-platform
         run: |
           bash <(curl -s https://codecov.io/bash) -F get-platform -f ./src/__tests__/coverage/clover.xml
",True,True,False,False,False,True,False
prisma,eemmiillyy,User,55739812+eemmiillyy@users.noreply.github.com,GitHub,User,noreply@github.com,5c1039d08545c3bbf41eaad6189a63fc0d2ed518,3b96fdd9b765ae972c80543095b8a80e1e6d893c,2020-10-13 10:46:05+02:00,"test(client): add postgres client connection limit test (#3820)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>
Co-authored-by: Tim Suchanek <Tim.Suchanek@gmail.com>
Co-authored-by: Joël <joel.galeran@gmail.com>",8,Release 2.9.0,test.yml,MODIFY,11,0,,3820,eemmiillyy,User,CONTRIBUTOR,Jolg42,User,2020-09-30T15:59:05Z,2020-10-13T08:46:06Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/5c1039d_test.yml,../Mining/generated/scripts/prisma/files_src_after/5c1039d_test.yml,0.375,1.0,1.0,"@@ -201,6 +201,16 @@ jobs:
           - 5432/tcp
         options: --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5
 
+      postgres_isolated:
+        image: postgres:10
+        env:
+          POSTGRES_DB: tests
+          POSTGRES_USER: prisma
+          POSTGRES_PASSWORD: prisma
+        ports:
+          - 5432/tcp
+        options: --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5
+
       # mysql:8.0 would not work as we use `mariadb` node lib and it doesn't support the latest default password algorithm
       # https://stackoverflow.com/questions/60902904/how-to-pass-mysql-native-password-to-mysql-service-in-github-actions
       mysql:
@@ -248,6 +258,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/tests
+          TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres_isolated.ports[5432] }}/tests
           TEST_MYSQL_URI: mysql://root:root@localhost:${{ job.services.mysql.ports[3306] }}/tests
 
       - name: Upload coverage report
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,d794c74fbe9e3dabb222a4feca5750d37fb44baf,966ea2ea490c15ae6ae5f232916a306ca5acbdb5,2020-10-20 16:31:32+02:00,feat: add dbVersion to introspection panic report & migrate (#3790),54,Release 2.10.0,test.yml,MODIFY,0,63,,3790,Jolg42,User,MEMBER,timsuchanek,User,2020-09-29T10:45:00Z,2020-10-20T14:31:33Z,closed,,,,Done in engines with https://github.com/prisma/prisma-engines/pull/1115/files,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/d794c74_test.yml,../Mining/generated/scripts/prisma/files_src_after/d794c74_test.yml,0.0,1.0,1.0,"@@ -374,69 +374,6 @@ jobs:
           bash <(curl -s https://codecov.io/bash) -F migrate -f ./src/__tests__/coverage/clover.xml
 
   #
-  # INTROSPECTION
-  #
-  introspection:
-    timeout-minutes: 5
-    runs-on: ubuntu-latest
-
-    strategy:
-      fail-fast: true
-      matrix:
-        os: [macos-latest, windows-latest, ubuntu-latest]
-        node: [12]
-
-    services:
-      postgres:
-        image: postgres:9
-        env:
-          POSTGRES_DB: tests
-          POSTGRES_USER: prisma
-          POSTGRES_PASSWORD: prisma
-        ports:
-          - 5432/tcp
-        options: --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5
-
-    steps:
-      - uses: actions/checkout@v2
-
-      # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
-      - name: Cache node modules
-        uses: actions/cache@v2
-        env:
-          cache-name: cache-node-modules
-        with:
-          path: ~/.pnpm-store
-          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-          restore-keys: |
-            ${{ runner.os }}-build-${{ env.cache-name }}-
-            ${{ runner.os }}-build-
-            ${{ runner.os }}-
-
-      - uses: actions/setup-node@v2-beta
-        with:
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - run: pnpm run test
-        working-directory: src/packages/introspection
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/tests
-
-      - name: Upload coverage report
-        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-latest' }}
-        working-directory: src/packages/introspection
-        run: |
-          bash <(curl -s https://codecov.io/bash) -F introspection -f ./src/__tests__/coverage/clover.xml
-  #
   # All the other packages!
   #
   others:
",True,True,False,False,False,True,False
prisma,Tim Suchanek,User,Tim.Suchanek@gmail.com,GitHub,User,noreply@github.com,71987dd4086343eded62fa27cf5349968d53d981,58a850652f6829f8c59022fc000170307a95e8f6,2020-10-21 16:43:04+02:00,"chore: Integration/prisma/engines (#3942)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",29,Release 2.10.0,publish-engines.yml,ADD,36,0,,3942,timsuchanek,User,CONTRIBUTOR,timsuchanek,User,2020-10-15T14:47:29Z,2020-10-21T14:43:05Z,closed,,,,Closes https://github.com/prisma/prisma/issues/3928,../Mining/generated/scripts/prisma/current_code/publish-engines.yml,../Mining/generated/scripts/prisma/files_src_before/71987dd_publish-engines.yml,../Mining/generated/scripts/prisma/files_src_after/71987dd_publish-engines.yml,0.6288659793814433,0.13402061855670103,0.0,"@@ -0,0 +1,36 @@
+name: publish-engines
+
+on:
+  repository_dispatch:
+    types:
+      - publish-engines
+
+jobs:
+  cli-commands:
+    timeout-minutes: 10
+    runs-on: ubuntu-latest
+
+    strategy:
+      fail-fast: false
+      node: [12]
+
+    steps:
+      - run: bash .github/workflows/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run publish
+        working-directory: src/packages/engines-version
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run publish
+        working-directory: src/packages/engines
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
",False,False,False,False,False,False,False
prisma,Tim Suchanek,User,Tim.Suchanek@gmail.com,GitHub,User,noreply@github.com,edc54947f430e3dc95f701f9003e62fbb592222d,8d343b047c850ff43a9d806bd2b9c7df06ed2a1a,2020-10-23 14:25:45+02:00,"test(cli): mssql integration test set up (#3970)

Co-authored-by: Siddhant <me@madebysid.com>
Co-authored-by: eemmiillyy <emily.morgan@code.berlin>",19,Release 2.10.0,test.yml,MODIFY,24,2,,3970,timsuchanek,User,CONTRIBUTOR,timsuchanek,User,2020-10-20T07:52:50Z,2020-10-23T12:25:46Z,closed,,"sdnts, eemmiillyy","User, User",,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/edc5494_test.yml,../Mining/generated/scripts/prisma/files_src_after/edc5494_test.yml,0.8221070811744386,1.0,0.9740932642487047,"@@ -47,6 +47,7 @@ jobs:
           - postgresql
           - mysql
           - mariadb
+          - mssql
         node: [12]
 
     services:
@@ -72,7 +73,7 @@ jobs:
           MYSQL_AUTHENTICATION_PLUGIN: mysql_native_password
         ports:
           - 3306
-        options: --health-cmd=""mysqladmin ping"" --health-interval 10s --health-timeout 5s --health-retries 3
+        options: --health-cmd=""mysqladmin ping"" --health-interval 10s --health-timeout 5s --health-retries 5
 
       mariadb:
         image: mariadb:10
@@ -84,6 +85,15 @@ jobs:
         ports:
           - 3306
 
+      mssql:
+        image: mcr.microsoft.com/mssql/server:2019-latest
+        env:
+          ACCEPT_EULA: Y
+          SA_PASSWORD: ""Prisma1-prisma""
+        ports:
+          - 1433:1433
+        options: --health-cmd=""/opt/mssql-tools/bin/sqlcmd -S localhost -U SA -P ${SA_PASSWORD} -Q 'SELECT 1' || exit 1""  --health-interval 10s --health-timeout 5s --health-retries 5
+
     steps:
       - uses: actions/checkout@v2
 
@@ -130,6 +140,7 @@ jobs:
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/tests
           TEST_MYSQL_URI: mysql://root:root@localhost:${{ job.services.mysql.ports[3306] }}/tests
           TEST_MARIADB_URI: mysql://root:root@localhost:${{ job.services.mariadb.ports[3306] }}/tests
+          TEST_MSSQL_URI: mssql://SA:Prisma1-prisma@localhost:1433/master
 
   #
   # CLI-COMMANDS
@@ -223,7 +234,16 @@ jobs:
           MYSQL_AUTHENTICATION_PLUGIN: mysql_native_password
         ports:
           - 3306
-        options: --health-cmd=""mysqladmin ping"" --health-interval 10s --health-timeout 5s --health-retries 3
+        options: --health-cmd=""mysqladmin ping"" --health-interval 10s --health-timeout 5s --health-retries 5
+
+      mssql:
+        image: mcr.microsoft.com/mssql/server:2019-latest
+        env:
+          ACCEPT_EULA: Y
+          SA_PASSWORD: ""Prisma1-prisma""
+        ports:
+          - 1433:1433
+        options: --health-cmd=""/opt/mssql-tools/bin/sqlcmd -S localhost -U SA -P ${SA_PASSWORD} -Q 'SELECT 1' || exit 1""  --health-interval 10s --health-timeout 5s --health-retries 5
 
     steps:
       - uses: actions/checkout@v2
@@ -260,6 +280,8 @@ jobs:
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/tests
           TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres_isolated.ports[5432] }}/tests
           TEST_MYSQL_URI: mysql://root:root@localhost:${{ job.services.mysql.ports[3306] }}/tests
+          TEST_MSSQL_URI: mssql://SA:Prisma1-prisma@localhost:1433/master
+          TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Prisma1-prisma;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT
 
       - name: Upload coverage report
         working-directory: src/packages/client
",True,True,False,False,False,True,False
prisma,Siddhant Sinha,,me@madebysid.com,GitHub,User,noreply@github.com,9c3e9e4102d6301c874c9e7396df8b22e890da88,edc54947f430e3dc95f701f9003e62fbb592222d,2020-10-23 15:20:02+02:00,test(cli): Fix publish pipeline (#4016),6,Release 2.10.0,test.yml,MODIFY,5,5,,4016,sdnts,User,CONTRIBUTOR,Jolg42,User,2020-10-23T12:41:57Z,2020-10-23T13:20:03Z,closed,,sdnts,User,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/9c3e9e4_test.yml,../Mining/generated/scripts/prisma/files_src_after/9c3e9e4_test.yml,None,None,None,"@@ -89,7 +89,7 @@ jobs:
         image: mcr.microsoft.com/mssql/server:2019-latest
         env:
           ACCEPT_EULA: Y
-          SA_PASSWORD: ""Prisma1-prisma""
+          SA_PASSWORD: ""Pr1sm4_Pr1sm4""
         ports:
           - 1433:1433
         options: --health-cmd=""/opt/mssql-tools/bin/sqlcmd -S localhost -U SA -P ${SA_PASSWORD} -Q 'SELECT 1' || exit 1""  --health-interval 10s --health-timeout 5s --health-retries 5
@@ -140,7 +140,7 @@ jobs:
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/tests
           TEST_MYSQL_URI: mysql://root:root@localhost:${{ job.services.mysql.ports[3306] }}/tests
           TEST_MARIADB_URI: mysql://root:root@localhost:${{ job.services.mariadb.ports[3306] }}/tests
-          TEST_MSSQL_URI: mssql://SA:Prisma1-prisma@localhost:1433/master
+          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
 
   #
   # CLI-COMMANDS
@@ -240,7 +240,7 @@ jobs:
         image: mcr.microsoft.com/mssql/server:2019-latest
         env:
           ACCEPT_EULA: Y
-          SA_PASSWORD: ""Prisma1-prisma""
+          SA_PASSWORD: ""Pr1sm4_Pr1sm4""
         ports:
           - 1433:1433
         options: --health-cmd=""/opt/mssql-tools/bin/sqlcmd -S localhost -U SA -P ${SA_PASSWORD} -Q 'SELECT 1' || exit 1""  --health-interval 10s --health-timeout 5s --health-retries 5
@@ -280,8 +280,8 @@ jobs:
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/tests
           TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres_isolated.ports[5432] }}/tests
           TEST_MYSQL_URI: mysql://root:root@localhost:${{ job.services.mysql.ports[3306] }}/tests
-          TEST_MSSQL_URI: mssql://SA:Prisma1-prisma@localhost:1433/master
-          TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Prisma1-prisma;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT
+          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
+          TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT
 
       - name: Upload coverage report
         working-directory: src/packages/client
",True,True,False,False,False,True,False
prisma,Tim Suchanek,User,Tim.Suchanek@gmail.com,GitHub,User,noreply@github.com,1ad61f48ab1c9541f63ed6639a919c83f553c92e,0ca4d265c7de9c317d6a76dbbb4c809fad9c343b,2020-10-26 16:42:08+01:00,chore: test package (#4024),53,Release 2.10.0,test.yml,MODIFY,22,22,,4024,timsuchanek,User,CONTRIBUTOR,timsuchanek,User,2020-10-23T15:16:29Z,2020-10-26T15:42:08Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/1ad61f4_test.yml,../Mining/generated/scripts/prisma/files_src_after/1ad61f4_test.yml,1.0,0.9206349206349206,1.0,"@@ -6,18 +6,18 @@ on:
     branches:
       - master
     paths-ignore:
-      - ""*.md""
-      - "".buildkite/**""
-      - ""docs/**""
-      - ""scripts/**""
-      - "".prettierrc.yml""
-      - "".dockerignore""
-      - ""LICENSE""
+      - '*.md'
+      - '.buildkite/**'
+      - 'docs/**'
+      - 'scripts/**'
+      - '.prettierrc.yml'
+      - '.dockerignore'
+      - 'LICENSE'
   pull_request:
 
 env:
-  PRISMA_TELEMETRY_INFORMATION: ""prisma test.yml""
-  GITHUB_TOKEN: ""${{ secrets.GITHUB_TOKEN }}""
+  PRISMA_TELEMETRY_INFORMATION: 'prisma test.yml'
+  GITHUB_TOKEN: '${{ secrets.GITHUB_TOKEN }}'
 
 jobs:
   # From https://github.com/marketplace/actions/workflow-run-cleanup-action
@@ -29,7 +29,7 @@ jobs:
     steps:
       - uses: rokroskar/workflow-run-cleanup-action@master
         env:
-          GITHUB_TOKEN: ""${{ secrets.GITHUB_TOKEN }}""
+          GITHUB_TOKEN: '${{ secrets.GITHUB_TOKEN }}'
     if: ""!startsWith(github.ref, 'refs/tags/') && github.ref != 'refs/heads/master'""
 
   #
@@ -112,14 +112,14 @@ jobs:
 
       - run: pnpm i sqlite3@4 --unsafe-perm --reporter=silent
         if: ${{ matrix.test == 'sqlite' }}
-        working-directory: src/packages/cli
+        working-directory: src/packages/tests
 
       # temp
       # - name: Setup tmate session
       #   uses: mxschmitt/action-tmate@v3
 
-      - run: pnpm run jest integration/${{ matrix.test }} -- --forceExit --maxConcurrency=1
-        working-directory: src/packages/cli
+      - run: pnpm run jest integration/${{ matrix.test }} -- --forceExit --maxConcurrency=10
+        working-directory: src/packages/tests
         env:
           CI: true
           SKIP_GIT: true
@@ -150,7 +150,7 @@ jobs:
         image: mcr.microsoft.com/mssql/server:2019-latest
         env:
           ACCEPT_EULA: Y
-          SA_PASSWORD: ""Pr1sm4_Pr1sm4""
+          SA_PASSWORD: 'Pr1sm4_Pr1sm4'
         ports:
           - 1433:1433
         options: --health-cmd=""/opt/mssql-tools/bin/sqlcmd -S localhost -U SA -P ${SA_PASSWORD} -Q 'SELECT 1' || exit 1""  --health-interval 10s --health-timeout 5s --health-retries 5
@@ -185,8 +185,8 @@ jobs:
       # - name: Setup tmate session
       #   uses: mxschmitt/action-tmate@v3
 
-      - run: pnpm run jest integration/${{ matrix.test }} -- --forceExit --maxConcurrency=1
-        working-directory: src/packages/cli
+      - run: pnpm run jest integration/${{ matrix.test }} -- --forceExit --maxConcurrency=10
+        working-directory: src/packages/tests
         env:
           CI: true
           SKIP_GIT: true
@@ -291,7 +291,7 @@ jobs:
         image: mcr.microsoft.com/mssql/server:2019-latest
         env:
           ACCEPT_EULA: Y
-          SA_PASSWORD: ""Pr1sm4_Pr1sm4""
+          SA_PASSWORD: 'Pr1sm4_Pr1sm4'
         ports:
           - 1433:1433
         options: --health-cmd=""/opt/mssql-tools/bin/sqlcmd -S localhost -U SA -P ${SA_PASSWORD} -Q 'SELECT 1' || exit 1""  --health-interval 10s --health-timeout 5s --health-retries 5
@@ -486,7 +486,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
-        name: ""debug""
+        name: 'debug'
         working-directory: src/packages/debug
         env:
           CI: true
@@ -499,7 +499,7 @@ jobs:
           bash <(curl -s https://codecov.io/bash) -F debug -f ./src/__tests__/coverage/clover.xml
 
       - run: pnpm run test
-        name: ""engine-core""
+        name: 'engine-core'
         working-directory: src/packages/engine-core
         env:
           CI: true
@@ -512,7 +512,7 @@ jobs:
           bash <(curl -s https://codecov.io/bash) -F engine-core -f ./src/__tests__/coverage/clover.xml
 
       - run: pnpm run test
-        name: ""fetch-engine""
+        name: 'fetch-engine'
         working-directory: src/packages/fetch-engine
         env:
           CI: true
@@ -525,7 +525,7 @@ jobs:
           bash <(curl -s https://codecov.io/bash) -F fetch-engine -f ./src/__tests__/coverage/clover.xml
 
       - run: pnpm run test
-        name: ""generator-helper""
+        name: 'generator-helper'
         working-directory: src/packages/generator-helper
         env:
           CI: true
@@ -538,7 +538,7 @@ jobs:
           bash <(curl -s https://codecov.io/bash) -F generator-helper -f ./src/__tests__/coverage/clover.xml
 
       - run: pnpm run test
-        name: ""get-platform""
+        name: 'get-platform'
         working-directory: src/packages/get-platform
         env:
           CI: true
",True,True,False,False,False,True,False
prisma,Tim Suchanek,User,Tim.Suchanek@gmail.com,GitHub,User,noreply@github.com,812bfd28a75620df7a2099e5a8e38c2061e4f0ee,e6d34cc959d437b98b2b8d838604894a53f195a6,2020-10-27 14:20:02+01:00,fix: remove xml (#4042),21,Release 2.10.0,test.yml,MODIFY,2,2,,4042,timsuchanek,User,CONTRIBUTOR,timsuchanek,User,2020-10-26T16:39:35Z,2020-10-27T13:20:03Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/812bfd2_test.yml,../Mining/generated/scripts/prisma/files_src_after/812bfd2_test.yml,0.0,0.0,0.6666666666666666,"@@ -118,7 +118,7 @@ jobs:
       # - name: Setup tmate session
       #   uses: mxschmitt/action-tmate@v3
 
-      - run: pnpm run jest integration/${{ matrix.test }} -- --forceExit --maxConcurrency=10
+      - run: pnpm run jest integration/${{ matrix.test }} -- --forceExit --maxConcurrency=8
         working-directory: src/packages/tests
         env:
           CI: true
@@ -185,7 +185,7 @@ jobs:
       # - name: Setup tmate session
       #   uses: mxschmitt/action-tmate@v3
 
-      - run: pnpm run jest integration/${{ matrix.test }} -- --forceExit --maxConcurrency=10
+      - run: pnpm run jest integration/${{ matrix.test }} -- --forceExit --maxConcurrency=8
         working-directory: src/packages/tests
         env:
           CI: true
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,ce166ea74876688d5e9e25d0bdaa13495b109535,d6d5aaede87ca83a13b546a2175b495827479367,2020-11-04 16:50:03+01:00,build: cleanup sqlite3 version to v5.0 (#4155),5,Release 2.11.0,test.yml,MODIFY,2,2,,4155,Jolg42,User,MEMBER,timsuchanek,User,2020-11-04T13:28:46Z,2020-11-04T15:50:03Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/ce166ea_test.yml,../Mining/generated/scripts/prisma/files_src_after/ce166ea_test.yml,None,None,None,"@@ -110,7 +110,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm i sqlite3@4 --unsafe-perm --reporter=silent
+      - run: pnpm i sqlite3@5.0 --unsafe-perm --reporter=silent
         if: ${{ matrix.test == 'sqlite' }}
         working-directory: src/packages/tests
 
@@ -437,7 +437,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm i sqlite3@4 --unsafe-perm --reporter=silent
+      - run: pnpm i sqlite3@5.0 --unsafe-perm --reporter=silent
         working-directory: src/packages/cli
 
       - run: pnpm run test
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,303e0a9fc81032b6fcaa66d16f7811f5a805bd20,74017fe82721bcbc69ca0ca6dd7b0c6fe46ed9bf,2020-11-25 14:39:24+01:00,"feat(migrate): Early Access Migrate (#3742)

Co-authored-by: eemmiillyy <55739812+eemmiillyy@users.noreply.github.com>",97,2.13.0,test.yml,MODIFY,14,1,,3742,Jolg42,User,MEMBER,timsuchanek,User,2020-09-23T10:47:26Z,2020-11-25T13:39:25Z,closed,,Jolg42,User,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/303e0a9_test.yml,../Mining/generated/scripts/prisma/files_src_after/303e0a9_test.yml,0.23345817727840198,0.8901373283395755,1.0,"@@ -402,7 +402,7 @@ jobs:
   # MIGRATE
   #
   migrate:
-    timeout-minutes: 5
+    timeout-minutes: 7
     runs-on: ubuntu-latest
 
     strategy:
@@ -411,6 +411,17 @@ jobs:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
 
+    services:
+      postgres:
+        image: postgres:9
+        env:
+          POSTGRES_DB: tests
+          POSTGRES_USER: prisma
+          POSTGRES_PASSWORD: prisma
+        ports:
+          - 5432/tcp
+        options: --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5
+
     steps:
       - uses: actions/checkout@v2
 
@@ -446,6 +457,8 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/tests
+          TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/tests-migrate
 
       - name: Upload coverage report
         if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-latest' }}
",True,True,False,False,False,True,False
prisma,Tim Suchanek,User,Tim.Suchanek@gmail.com,GitHub,User,noreply@github.com,aa17fbc65c403ecc7fb1bf887bc04a4917d53c86,6bf3c0bffac836eac05f4df6d6d16e8b15f49b17,2020-11-30 17:42:12+01:00,"chore: fix precommit hooks (#4316)

Co-authored-by: William Luke <william@ordino.ai>",144,2.12.0,test.yml,MODIFY,42,0,,4316,timsuchanek,User,CONTRIBUTOR,timsuchanek,User,2020-11-20T17:10:23Z,2020-11-30T16:42:12Z,closed,,,,"- Enable pre-commit hooks
- Add linting to Buildkite CI",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/aa17fbc_test.yml,../Mining/generated/scripts/prisma/files_src_after/aa17fbc_test.yml,0.28823529411764703,0.7529411764705882,0.8823529411764706,"@@ -32,6 +32,48 @@ jobs:
           GITHUB_TOKEN: ""${{ secrets.GITHUB_TOKEN }}""
     if: ""!startsWith(github.ref, 'refs/tags/') && github.ref != 'refs/heads/master'""
 
+  #
+  # Linting
+  #
+  lint:
+    timeout-minutes: 5
+    runs-on: ubuntu-latest
+
+    strategy:
+      fail-fast: false
+      matrix:
+        os: [ubuntu-latest]
+        node: [12]
+
+    steps:
+      - uses: actions/checkout@v2
+
+      # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
+      - name: Cache node modules
+        uses: actions/cache@v2
+        env:
+          cache-name: cache-node-modules
+        with:
+          path: ~/.pnpm-store
+          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
+          restore-keys: |
+            ${{ runner.os }}-build-${{ env.cache-name }}-
+            ${{ runner.os }}-build-
+            ${{ runner.os }}-
+
+      - uses: actions/setup-node@v2-beta
+        with:
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run lint
+        working-directory: ./
+
   #
   # CLI-INTEGRATION-1
   #
",True,True,False,False,False,True,False
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,da38ee93aedaf7ad574ac90d209aae1476e2e938,548951f7a8549830d389dc5e677959c98ab44016,2021-01-12 10:24:59+01:00,fix: pin stale action version (#4958),1,2.15.0,label-stale-issues.yml,MODIFY,1,1,,4958,pantharshit00,User,CONTRIBUTOR,janpio,User,2021-01-12T08:58:59Z,2021-01-12T09:25:00Z,closed,,,,"Until https://github.com/actions/stale/issues/173 is fixed, we pin the version. ",../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/da38ee9_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/da38ee9_label-stale-issues.yml,None,None,None,"@@ -8,7 +8,7 @@ jobs:
   stale:
     runs-on: ubuntu-latest
     steps:
-      - uses: actions/stale@v3
+      - uses: actions/stale@v3.0.9
         with:
           repo-token: ${{ secrets.GITHUB_TOKEN }}
           stale-issue-message: ""DUMMY, FOR ENABLING""
",False,False,False,False,False,False,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,da3628b412e158aed2b6ef231a9bb7e5093111aa,719ec9608d0f46d61db7fd50c102743699d95531,2021-01-13 17:49:38+01:00,improvement(migrate): create db if needed for migrate reset (#4995),3,2.15.0,test.yml,MODIFY,1,1,,4995,Jolg42,User,MEMBER,Jolg42,User,2021-01-13T16:18:22Z,2021-01-13T16:49:39Z,closed,,,,Closes https://github.com/prisma/prisma/issues/4974,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/da3628b_test.yml,../Mining/generated/scripts/prisma/files_src_after/da3628b_test.yml,1.0,0.0,0.0,"@@ -36,7 +36,7 @@ jobs:
   # Linting
   #
   lint:
-    timeout-minutes: 5
+    timeout-minutes: 7
     runs-on: ubuntu-latest
 
     strategy:
",True,True,False,False,False,True,False
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,737a0a50f17df10a3ad18f7b0755bc5891379434,10e9f6ad8a93c435b66b71a11ecdf0af3a60a8e0,2021-01-15 10:19:20+01:00,fix: pin correct version of stale action (#5115),1,2.15.0,label-stale-issues.yml,MODIFY,1,1,,5115,pantharshit00,User,CONTRIBUTOR,Jolg42,User,2021-01-15T08:39:49Z,2021-01-15T09:19:21Z,closed,,,,I messed up last time and actually it is version `3.0.9` which has the faulty code. This should fix the action. Sorry for the trouble. ,../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/737a0a5_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/737a0a5_label-stale-issues.yml,None,None,None,"@@ -8,7 +8,7 @@ jobs:
   stale:
     runs-on: ubuntu-latest
     steps:
-      - uses: actions/stale@v3.0.9
+      - uses: actions/stale@v3.0.8
         with:
           repo-token: ${{ secrets.GITHUB_TOKEN }}
           stale-issue-message: ""DUMMY, FOR ENABLING""
",False,False,False,False,False,False,True
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,75c301ac9bb18c02bccb9cb2d660f33aea8f65e8,737a0a50f17df10a3ad18f7b0755bc5891379434,2021-01-15 10:59:54+01:00,fix: switch back to fork for stale action (#5116),1,,label-stale-issues.yml,MODIFY,1,1,,5116,pantharshit00,User,CONTRIBUTOR,janpio,User,2021-01-15T09:48:02Z,2021-01-15T09:59:55Z,closed,,,,"I am mad now. 

`3.0.9` which introduced the label bug is also the release which has changes introduced my PR: https://github.com/actions/stale/pull/119. So `3.0.8` doesn't contains changes from my PR. 

This is final and I am reverting back to my fork. Not going to switch to main stale action unless there is a big release now. ",../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/75c301a_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/75c301a_label-stale-issues.yml,None,None,None,"@@ -8,7 +8,7 @@ jobs:
   stale:
     runs-on: ubuntu-latest
     steps:
-      - uses: actions/stale@v3.0.8
+      - uses: pantharshit00/stale@v3.1
         with:
           repo-token: ${{ secrets.GITHUB_TOKEN }}
           stale-issue-message: ""DUMMY, FOR ENABLING""
",False,False,False,False,False,False,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,058f89aab425b6c6baf8af2e937bf527f09d6d00,8cab01837312a92675996db975dcf800cde19b17,2021-01-15 18:27:40+01:00,ci: GitHub Actions updates (#5020),2,2.15.0,test.yml,MODIFY,50,193,,5020,Jolg42,User,MEMBER,Jolg42,User,2021-01-13T16:59:30Z,2021-01-15T17:27:41Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/058f89a_test.yml,../Mining/generated/scripts/prisma/files_src_after/058f89a_test.yml,None,None,None,"@@ -39,12 +39,6 @@ jobs:
     timeout-minutes: 7
     runs-on: ubuntu-latest
 
-    strategy:
-      fail-fast: false
-      matrix:
-        os: [ubuntu-latest]
-        node: [12]
-
     steps:
       - uses: actions/checkout@v2
 
@@ -61,9 +55,9 @@ jobs:
             ${{ runner.os }}-build-
             ${{ runner.os }}-
 
-      - uses: actions/setup-node@v2-beta
+      - uses: actions/setup-node@v2
         with:
-          node-version: ${{ matrix.node }}
+          node-version: '12'
 
       - run: bash .github/workflows/setup.sh
         env:
@@ -75,60 +69,29 @@ jobs:
         working-directory: ./
 
   #
-  # CLI-INTEGRATION-1
+  # CLI-INTEGRATION
   #
-  cli-integration-1:
+  cli-integration:
     timeout-minutes: 20
     runs-on: ubuntu-latest
 
     strategy:
       fail-fast: false
       matrix:
-        test:
+        database:
           - sqlite
-          - postgresql
+          - postgres
           - mysql
           - mariadb
+          - mssql 
         node: [12]
 
-    services:
-      postgres:
-        image: postgres:9
-        env:
-          POSTGRES_DB: tests
-          POSTGRES_USER: prisma
-          POSTGRES_PASSWORD: prisma
-        ports:
-          - 5432/tcp
-        options: --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5
-
-      # mysql:8.0 would not work as we use `mariadb` node lib and it doesn't support the latest default password algorithm
-      # https://stackoverflow.com/questions/60902904/how-to-pass-mysql-native-password-to-mysql-service-in-github-actions
-      mysql:
-        image: bitnami/mysql:8.0
-        env:
-          MYSQL_ROOT_PASSWORD: root
-          MYSQL_DATABASE: tests
-          MYSQL_USER: prisma
-          MYSQL_PASSWORD: prisma
-          MYSQL_AUTHENTICATION_PLUGIN: mysql_native_password
-        ports:
-          - 3306
-        options: --health-cmd=""mysqladmin ping"" --health-interval 10s --health-timeout 5s --health-retries 5
-
-      mariadb:
-        image: mariadb:10
-        env:
-          MYSQL_ROOT_PASSWORD: root
-          MYSQL_DATABASE: tests
-          MYSQL_USER: prisma
-          MYSQL_PASSWORD: prisma
-        ports:
-          - 3306
-
     steps:
       - uses: actions/checkout@v2
 
+      - run: docker-compose -f src/docker/docker-compose.yml up --detach ${{matrix.database}}
+        if: matrix.database != 'sqlite'
+          
       # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
       - name: Cache node modules
         uses: actions/cache@v2
@@ -142,7 +105,7 @@ jobs:
             ${{ runner.os }}-build-
             ${{ runner.os }}-
 
-      - uses: actions/setup-node@v2-beta
+      - uses: actions/setup-node@v2
         with:
           node-version: ${{ matrix.node }}
 
@@ -153,86 +116,25 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm i sqlite3@5.0 --unsafe-perm --reporter=silent
-        if: ${{ matrix.test == 'sqlite' }}
+        if: ${{ matrix.database == 'sqlite' }}
         working-directory: src/packages/tests
 
       # temp
       # - name: Setup tmate session
       #   uses: mxschmitt/action-tmate@v3
 
-      - run: pnpm run jest integration/${{ matrix.test }} -- --forceExit --maxConcurrency=8
-        working-directory: src/packages/tests
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}
-          TEST_MYSQL_BASE_URI: mysql://root:root@localhost:${{ job.services.mysql.ports[3306] }}
-          TEST_MARIADB_BASE_URI: mysql://root:root@localhost:${{ job.services.mariadb.ports[3306] }}
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/tests
-          TEST_MYSQL_URI: mysql://root:root@localhost:${{ job.services.mysql.ports[3306] }}/tests
-          TEST_MARIADB_URI: mysql://root:root@localhost:${{ job.services.mariadb.ports[3306] }}/tests
-
-  #
-  # CLI-INTEGRATION-2
-  #
-  cli-integration-2:
-    timeout-minutes: 20
-    runs-on: ubuntu-latest
-
-    strategy:
-      fail-fast: false
-      matrix:
-        test:
-          - mssql
-        node: [12]
-
-    services:
-      mssql:
-        image: mcr.microsoft.com/mssql/server:2019-latest
-        env:
-          ACCEPT_EULA: Y
-          SA_PASSWORD: ""Pr1sm4_Pr1sm4""
-        ports:
-          - 1433:1433
-        options: --health-cmd=""/opt/mssql-tools/bin/sqlcmd -S localhost -U SA -P ${SA_PASSWORD} -Q 'SELECT 1' || exit 1""  --health-interval 10s --health-timeout 5s --health-retries 5
-
-    steps:
-      - uses: actions/checkout@v2
-
-      # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
-      - name: Cache node modules
-        uses: actions/cache@v2
-        env:
-          cache-name: cache-node-modules
-        with:
-          path: ~/.pnpm-store
-          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-          restore-keys: |
-            ${{ runner.os }}-build-${{ env.cache-name }}-
-            ${{ runner.os }}-build-
-            ${{ runner.os }}-
-
-      - uses: actions/setup-node@v2-beta
-        with:
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      # temp
-      # - name: Setup tmate session
-      #   uses: mxschmitt/action-tmate@v3
-
-      - run: pnpm run jest integration/${{ matrix.test }} -- --forceExit --maxConcurrency=8
+      - run: pnpm run jest integration/${{ matrix.database }} -- --forceExit --maxConcurrency=8
         working-directory: src/packages/tests
         env:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+          TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@localhost:5432
+          TEST_MYSQL_BASE_URI: mysql://root:root@localhost:3306
+          TEST_MARIADB_BASE_URI: mysql://root:root@localhost:4306
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+          TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
 
   #
@@ -264,7 +166,7 @@ jobs:
             ${{ runner.os }}-build-
             ${{ runner.os }}-
 
-      - uses: actions/setup-node@v2-beta
+      - uses: actions/setup-node@v2
         with:
           node-version: ${{ matrix.node }}
 
@@ -294,53 +196,13 @@ jobs:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
 
-    services:
-      postgres:
-        image: postgres:9
-        env:
-          POSTGRES_DB: tests
-          POSTGRES_USER: prisma
-          POSTGRES_PASSWORD: prisma
-        ports:
-          - 5432/tcp
-        options: --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 10
-
-      postgres_isolated:
-        image: postgres:10
-        env:
-          POSTGRES_DB: tests
-          POSTGRES_USER: prisma
-          POSTGRES_PASSWORD: prisma
-        ports:
-          - 5432/tcp
-        options: --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 10
-
-      mssql:
-        image: mcr.microsoft.com/mssql/server:2019-latest
-        env:
-          ACCEPT_EULA: Y
-          SA_PASSWORD: ""Pr1sm4_Pr1sm4""
-        ports:
-          - 1433:1433
-        options: --health-cmd=""/opt/mssql-tools/bin/sqlcmd -S localhost -U SA -P ${SA_PASSWORD} -Q 'SELECT 1' || exit 1""  --health-interval 10s --health-timeout 5s --health-retries 10
-
-      # mysql:8.0 would not work as we use `mariadb` node lib and it doesn't support the latest default password algorithm
-      # https://stackoverflow.com/questions/60902904/how-to-pass-mysql-native-password-to-mysql-service-in-github-actions
-      mysql:
-        image: bitnami/mysql:8.0
-        env:
-          MYSQL_ROOT_PASSWORD: root
-          MYSQL_DATABASE: tests
-          MYSQL_USER: prisma
-          MYSQL_PASSWORD: prisma
-          MYSQL_AUTHENTICATION_PLUGIN: mysql_native_password
-        ports:
-          - 3306
-        options: --health-cmd=""mysqladmin ping"" --health-interval 10s --health-timeout 5s --health-retries 10
-
     steps:
       - uses: actions/checkout@v2
-
+        with:
+          fetch-depth: 5 # For codecov
+          
+      - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres postgres_isolated mysql mssql
+          
       # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
       - name: Cache node modules
         uses: actions/cache@v2
@@ -354,7 +216,7 @@ jobs:
             ${{ runner.os }}-build-
             ${{ runner.os }}-
 
-      - uses: actions/setup-node@v2-beta
+      - uses: actions/setup-node@v2
         with:
           node-version: ${{ matrix.node }}
 
@@ -364,22 +226,15 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      # MySQL tests sometimes exit with ""ERROR HY000 (1449): The user specified as a definer ('mysql.infoschema'@'localhost') does not exist""
-      # Maybe this can help
-      - name: Sleep for few seconds
-        uses: jakejarvis/wait-action@master
-        with:
-          time: ""15s""
-
       - run: pnpm run test
         working-directory: src/packages/client
         env:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/tests
-          TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres_isolated.ports[5432] }}/tests
-          TEST_MYSQL_URI: mysql://root:root@localhost:${{ job.services.mysql.ports[3306] }}/tests
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+          TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:5435/tests
+          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
           TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT
 
@@ -403,7 +258,9 @@ jobs:
 
     steps:
       - uses: actions/checkout@v2
-
+        with:
+          fetch-depth: 5 # For codecov
+          
       # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
       - name: Cache node modules
         uses: actions/cache@v2
@@ -417,7 +274,7 @@ jobs:
             ${{ runner.os }}-build-
             ${{ runner.os }}-
 
-      - uses: actions/setup-node@v2-beta
+      - uses: actions/setup-node@v2
         with:
           node-version: ${{ matrix.node }}
 
@@ -453,20 +310,13 @@ jobs:
         os: [macos-latest, windows-latest, ubuntu-latest]
         node: [12]
 
-    services:
-      postgres:
-        image: postgres:9
-        env:
-          POSTGRES_DB: tests
-          POSTGRES_USER: prisma
-          POSTGRES_PASSWORD: prisma
-        ports:
-          - 5432/tcp
-        options: --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5
-
     steps:
       - uses: actions/checkout@v2
-
+        with:
+          fetch-depth: 5 # For codecov
+          
+      - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres
+       
       # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
       - name: Cache node modules
         uses: actions/cache@v2
@@ -480,7 +330,7 @@ jobs:
             ${{ runner.os }}-build-
             ${{ runner.os }}-
 
-      - uses: actions/setup-node@v2-beta
+      - uses: actions/setup-node@v2
         with:
           node-version: ${{ matrix.node }}
 
@@ -499,8 +349,8 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/tests
-          TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@localhost:${{ job.services.postgres.ports[5432] }}/tests-migrate
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+          TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate
 
       - name: Upload coverage report
         if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-latest' }}
@@ -523,7 +373,9 @@ jobs:
 
     steps:
       - uses: actions/checkout@v2
-
+        with:
+          fetch-depth: 5 # For codecov
+          
       # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
       - name: Cache node modules
         uses: actions/cache@v2
@@ -537,7 +389,7 @@ jobs:
             ${{ runner.os }}-build-
             ${{ runner.os }}-
 
-      - uses: actions/setup-node@v2-beta
+      - uses: actions/setup-node@v2
         with:
           node-version: ${{ matrix.node }}
 
@@ -554,6 +406,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+
       - name: Upload coverage report
         if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-latest' }}
         working-directory: src/packages/debug
@@ -567,6 +420,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+
       - name: Upload coverage report
         if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-latest' }}
         working-directory: src/packages/engine-core
@@ -580,6 +434,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+          
       - name: Upload coverage report
         if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-latest' }}
         working-directory: src/packages/fetch-engine
@@ -593,6 +448,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+
       - name: Upload coverage report
         if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-latest' }}
         working-directory: src/packages/generator-helper
@@ -606,6 +462,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+
       - name: Upload coverage report
         if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-latest' }}
         working-directory: src/packages/get-platform
",True,True,False,False,False,True,False
prisma,William Luke,User,william@atto-byte.com,GitHub,User,noreply@github.com,f3be7faccb264e25a0fb9da5b968971e5d45f4c8,3c5616f6d8418a3d559b9b8fad393f70b1b54d16,2021-01-19 11:26:17+01:00,test(client): mysql connection limit (#5172),7,2.15.0,test.yml,MODIFY,2,1,,5172,williamluke4,User,CONTRIBUTOR,timsuchanek,User,2021-01-19T08:56:44Z,2021-01-19T10:26:18Z,closed,,,,closes https://github.com/prisma/prisma/issues/4576,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/f3be7fa_test.yml,../Mining/generated/scripts/prisma/files_src_after/f3be7fa_test.yml,0.2777777777777778,1.0,1.0,"@@ -201,7 +201,7 @@ jobs:
         with:
           fetch-depth: 5 # For codecov
           
-      - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres postgres_isolated mysql mssql
+      - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql
           
       # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
       - name: Cache node modules
@@ -235,6 +235,7 @@ jobs:
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
           TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:5435/tests
           TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+          TEST_MYSQL_ISOLATED_URI: mysql://root:root@localhost:3307/tests
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
           TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT
 
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,2b9efb67e0ceea44f2aefed42b569eae5c758b2d,12f7293d55aaba93637d882a6f65cb52b30af38a,2021-01-19 12:06:15+01:00,ci: split test types for gh action client step (#5177),1,2.15.0,test.yml,MODIFY,47,2,,5177,Jolg42,User,MEMBER,timsuchanek,User,2021-01-19T10:47:58Z,2021-01-19T11:06:16Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/2b9efb6_test.yml,../Mining/generated/scripts/prisma/files_src_after/2b9efb6_test.yml,None,None,None,"@@ -184,7 +184,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
   #
-  # CLIENT
+  # CLIENT (without types test)
   #
   client:
     timeout-minutes: 20
@@ -226,7 +226,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm run test
+      - run: pnpm run test -- --testPathIgnorePatterns src/__tests__/types/types.test.ts
         working-directory: src/packages/client
         env:
           CI: true
@@ -244,6 +244,51 @@ jobs:
         run: |
           bash <(curl -s https://codecov.io/bash) -F client -f ./src/__tests__/coverage/clover.xml
 
+  #
+  # CLIENT (types tests only)
+  #
+  client-types:
+    timeout-minutes: 10
+    runs-on: ubuntu-latest
+
+    strategy:
+      fail-fast: false
+      matrix:
+        node: [12]
+
+    steps:
+      - uses: actions/checkout@v2
+          
+      # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
+      - name: Cache node modules
+        uses: actions/cache@v2
+        env:
+          cache-name: cache-node-modules
+        with:
+          path: ~/.pnpm-store
+          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
+          restore-keys: |
+            ${{ runner.os }}-build-${{ env.cache-name }}-
+            ${{ runner.os }}-build-
+            ${{ runner.os }}-
+
+      - uses: actions/setup-node@v2
+        with:
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run test src/__tests__/types/types.test.ts
+        working-directory: src/packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
   #
   # SDK
   #
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,b5667e5118d62f627effb6d35bf22ee53d7f770a,2b9efb67e0ceea44f2aefed42b569eae5c758b2d,2021-01-19 12:38:11+01:00,ci: update paths-ignore for gh actions (#5178),3,2.15.0,test.yml,MODIFY,18,4,,5178,Jolg42,User,MEMBER,timsuchanek,User,2021-01-19T11:17:44Z,2021-01-19T11:38:12Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/b5667e5_test.yml,../Mining/generated/scripts/prisma/files_src_after/b5667e5_test.yml,None,None,None,"@@ -7,13 +7,27 @@ on:
       - master
     paths-ignore:
       - ""*.md""
-      - "".buildkite/**""
+      - "".vscode/**""
       - ""docs/**""
-      - ""scripts/**""
-      - "".prettierrc.yml""
-      - "".dockerignore""
+      - ""examples/**""
       - ""LICENSE""
+      - ""src/.buildkite/**""
+      - ""src/.dockerignore""
+      - ""src/scripts/**""
+      - ""src/graphs/**""
+      - ""src/scripts/**""
   pull_request:
+   paths-ignore:
+      - ""*.md""
+      - "".vscode/**""
+      - ""docs/**""
+      - ""examples/**""
+      - ""LICENSE""
+      - ""src/.buildkite/**""
+      - ""src/.dockerignore""
+      - ""src/scripts/**""
+      - ""src/graphs/**""
+      - ""src/scripts/**""
 
 env:
   PRISMA_TELEMETRY_INFORMATION: ""prisma test.yml""
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,cc46bc7af1219ddd8662559149fe7ebb3ecfc59e,d80015aa777cbd0f61d15774255481e872d01fca,2021-01-21 10:29:29+01:00,ci: buildkite parallelism (#5208),10,2.16.0,test.yml,MODIFY,2,4,,5208,Jolg42,User,MEMBER,timsuchanek,User,2021-01-20T11:43:45Z,2021-01-21T09:29:30Z,closed,,,,https://buildkite.com/docs/tutorials/parallel-builds,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/cc46bc7_test.yml,../Mining/generated/scripts/prisma/files_src_after/cc46bc7_test.yml,1.0,1.0,1.0,"@@ -15,7 +15,6 @@ on:
       - ""src/.dockerignore""
       - ""src/scripts/**""
       - ""src/graphs/**""
-      - ""src/scripts/**""
   pull_request:
    paths-ignore:
       - ""*.md""
@@ -27,7 +26,6 @@ on:
       - ""src/.dockerignore""
       - ""src/scripts/**""
       - ""src/graphs/**""
-      - ""src/scripts/**""
 
 env:
   PRISMA_TELEMETRY_INFORMATION: ""prisma test.yml""
@@ -129,7 +127,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm i sqlite3@5.0 --unsafe-perm --reporter=silent
+      - run: pnpm i sqlite3@5.0.0 --unsafe-perm --reporter=silent
         if: ${{ matrix.database == 'sqlite' }}
         working-directory: src/packages/tests
 
@@ -400,7 +398,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm i sqlite3@5.0 --unsafe-perm --reporter=silent
+      - run: pnpm i sqlite3@5.0.0 --unsafe-perm --reporter=silent
         working-directory: src/packages/cli
 
       - run: pnpm run test
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,19783dc0d381e79d36a68f5f07a50c63abebfde7,0d5cb519c6f51248af2582ee337eb0004a196d69,2021-01-25 11:40:37+01:00,feat(sdk): pass DEBUG env to dotenv config for DX (#5195),5,2.16.0,test.yml,MODIFY,10,2,,5195,Jolg42,User,MEMBER,timsuchanek,User,2021-01-19T18:16:06Z,2021-01-25T10:40:38Z,closed,,,,"From docs https://www.npmjs.com/package/dotenv#debug

>Debug
Default: false
You may turn on logging to help debug why certain keys or values are not being set as you expect.
require('dotenv').config({ debug: process.env.DEBUG })

Passing the DEBUG env has boolean means that you now get info about what's happening with dotenv in the CLI, example with a variable defined in the terminal env and in `prisma/.env`

```
[dotenv][DEBUG] did not match key and value when parsing line 2: 
[dotenv][DEBUG] ""TEST_MYSQL_URI"" is already defined in `process.env` and will not be overwritten
```

- parsing line 2 is because it's an empty line
- next line tells me that the variable is getting overrwritten which is good to know and helps debugging.
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/19783dc_test.yml,../Mining/generated/scripts/prisma/files_src_after/19783dc_test.yml,0.0,0.0,0.0,"@@ -6,6 +6,10 @@ on:
     branches:
       - master
     paths-ignore:
+      # Any update here needs to be done for 
+      # - `pull_request` see below
+      # - https://github.com/prisma/prisma/blob/master/src/.buildkite/test/buildkite-entry.sh
+      # - https://github.com/prisma/prisma/blob/master/src/.buildkite/publish/buildkite-entry.sh
       - ""*.md""
       - "".vscode/**""
       - ""docs/**""
@@ -13,10 +17,14 @@ on:
       - ""LICENSE""
       - ""src/.buildkite/**""
       - ""src/.dockerignore""
-      - ""src/scripts/**""
+      - ""src/scripts/ci/publish.ts""
       - ""src/graphs/**""
   pull_request:
    paths-ignore:
+      # Any update here needs to be done for 
+      # - `push`see before
+      # - https://github.com/prisma/prisma/blob/master/src/.buildkite/test/buildkite-entry.sh
+      # - https://github.com/prisma/prisma/blob/master/src/.buildkite/publish/buildkite-entry.sh
       - ""*.md""
       - "".vscode/**""
       - ""docs/**""
@@ -24,7 +32,7 @@ on:
       - ""LICENSE""
       - ""src/.buildkite/**""
       - ""src/.dockerignore""
-      - ""src/scripts/**""
+      - ""src/scripts/ci/publish.ts""
       - ""src/graphs/**""
 
 env:
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,1f3fcb8b052ea963c023d4d595577b88f23a886a,67a00f1550cf901db420ba4319ed4bf86b753439,2021-01-29 15:18:40+01:00,test(cli): cleanup tests (#5349),7,2.16.0,test.yml,MODIFY,1,1,,5349,Jolg42,User,MEMBER,Jolg42,User,2021-01-29T14:05:22Z,2021-01-29T14:18:40Z,closed,,,,Found that when I was working on https://github.com/prisma/prisma/pull/5347,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/1f3fcb8_test.yml,../Mining/generated/scripts/prisma/files_src_after/1f3fcb8_test.yml,None,None,None,"@@ -196,7 +196,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm run test:commands
+      - run: pnpm run test
         working-directory: src/packages/cli
         env:
           CI: true
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,c002070d8217ee7df8cf8096aaf265c1c7d02a45,8720baa06d889ac1e02ab75d5493803279813312,2021-02-04 17:58:22+01:00,ci: update uri for github actions (#5469),3,2.17.0,test.yml,MODIFY,15,15,,5469,Jolg42,User,MEMBER,Jolg42,User,2021-02-04T16:08:49Z,2021-02-04T16:58:23Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/c002070_test.yml,../Mining/generated/scripts/prisma/files_src_after/c002070_test.yml,None,None,None,"@@ -149,13 +149,13 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@localhost:5432
-          TEST_MYSQL_BASE_URI: mysql://root:root@localhost:3306
-          TEST_MARIADB_BASE_URI: mysql://root:root@localhost:4306
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-          TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
-          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
+          TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@127.0.0.1:5432
+          TEST_MYSQL_BASE_URI: mysql://root:root@127.0.0.1:3306
+          TEST_MARIADB_BASE_URI: mysql://root:root@127.0.0.1:4306
+          TEST_POSTGRES_URI: postgres://prisma:prisma@127.0.0.1:5432/tests
+          TEST_MYSQL_URI: mysql://root:root@127.0.0.1:3306/tests
+          TEST_MARIADB_URI: mysql://root:root@127.0.0.1:4306/tests
+          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@127.0.0.1:1433/master
 
   #
   # CLI-COMMANDS
@@ -252,12 +252,12 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-          TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:5435/tests
-          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-          TEST_MYSQL_ISOLATED_URI: mysql://root:root@localhost:3307/tests
-          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-          TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT
+          TEST_POSTGRES_URI: postgres://prisma:prisma@127.0.0.1:5432/tests
+          TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@127.0.0.1:5435/tests
+          TEST_MYSQL_URI: mysql://root:root@127.0.0.1:3306/tests
+          TEST_MYSQL_ISOLATED_URI: mysql://root:root@127.0.0.1:3307/tests
+          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@127.0.0.1:1433/master
+          TEST_MSSQL_JDBC_URI: sqlserver://127.0.0.1:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT
 
       - name: Upload coverage report
         working-directory: src/packages/client
@@ -415,8 +415,8 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-          TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate
+          TEST_POSTGRES_URI: postgres://prisma:prisma@127.0.0.1:5432/tests
+          TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@127.0.0.1:5432/tests-migrate
 
       - name: Upload coverage report
         if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-18.04' }}
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,c23995f6dec9ae02872d8a084902c66e65819c53,7bb9a40f65d3aaf3a55e3e2a5fd33a01782eb7af,2021-02-05 14:15:50+01:00,"ci: Revert ""ci: update uri for github actions"" (#5480)",3,2.17.0,test.yml,MODIFY,15,15,,5480,Jolg42,User,MEMBER,Jolg42,User,2021-02-05T08:59:03Z,2021-02-05T13:15:51Z,closed,,,,Reverts prisma/prisma#5469,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/c23995f_test.yml,../Mining/generated/scripts/prisma/files_src_after/c23995f_test.yml,None,None,None,"@@ -149,13 +149,13 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@127.0.0.1:5432
-          TEST_MYSQL_BASE_URI: mysql://root:root@127.0.0.1:3306
-          TEST_MARIADB_BASE_URI: mysql://root:root@127.0.0.1:4306
-          TEST_POSTGRES_URI: postgres://prisma:prisma@127.0.0.1:5432/tests
-          TEST_MYSQL_URI: mysql://root:root@127.0.0.1:3306/tests
-          TEST_MARIADB_URI: mysql://root:root@127.0.0.1:4306/tests
-          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@127.0.0.1:1433/master
+          TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@localhost:5432
+          TEST_MYSQL_BASE_URI: mysql://root:root@localhost:3306
+          TEST_MARIADB_BASE_URI: mysql://root:root@localhost:4306
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+          TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
+          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
 
   #
   # CLI-COMMANDS
@@ -252,12 +252,12 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_URI: postgres://prisma:prisma@127.0.0.1:5432/tests
-          TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@127.0.0.1:5435/tests
-          TEST_MYSQL_URI: mysql://root:root@127.0.0.1:3306/tests
-          TEST_MYSQL_ISOLATED_URI: mysql://root:root@127.0.0.1:3307/tests
-          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@127.0.0.1:1433/master
-          TEST_MSSQL_JDBC_URI: sqlserver://127.0.0.1:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+          TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:5435/tests
+          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+          TEST_MYSQL_ISOLATED_URI: mysql://root:root@localhost:3307/tests
+          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
+          TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT
 
       - name: Upload coverage report
         working-directory: src/packages/client
@@ -415,8 +415,8 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_URI: postgres://prisma:prisma@127.0.0.1:5432/tests
-          TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@127.0.0.1:5432/tests-migrate
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+          TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate
 
       - name: Upload coverage report
         if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-18.04' }}
",True,True,False,False,False,True,False
prisma,William Luke,User,william@atto-byte.com,GitHub,User,noreply@github.com,7ae3072de3ffaa290a1feb9efdc6429462bb3b10,957a356491f0a88354e8fe6a432e604ed9aaaabb,2021-02-08 10:42:06+01:00,"test(client): benchmark client compilation (#5301)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",16,2.17.0,benchmark.yml,ADD,81,0,,5301,williamluke4,User,CONTRIBUTOR,timsuchanek,User,2021-01-27T12:55:05Z,2021-02-08T09:42:07Z,closed,,,,"It adds the ability to define a `whatever.bench.ts` anywhere ([example](https://github.com/prisma/prisma/pull/5301/files#diff-f6f5eaf9d71d8fab68982f18e3fc9a7fbe2066f0563c884a11be89200d6ab2f1R1)) and will then run the benchmarks in gh actions and store results on the `gh-pages` branch.

[Charts](https://refined-github-html-preview.kidonng.workers.dev/prisma/prisma/raw/gh-pages/dev/bench/index.html)

closes https://github.com/prisma/prisma2-private/issues/131",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/7ae3072_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/7ae3072_benchmark.yml,1.0,1.0,1.0,"@@ -0,0 +1,81 @@
+name: Benchmark
+# Run on push only for master, if not it will trigger push & pull_request on PRs at the same time
+on:
+  push:
+    branches:
+      - master
+    paths-ignore:
+      # Any update here needs to be done for
+      # - `pull_request` see below
+      # - https://github.com/prisma/prisma/blob/master/src/.buildkite/test/buildkite-entry.sh
+      # - https://github.com/prisma/prisma/blob/master/src/.buildkite/publish/buildkite-entry.sh
+      - ""*.md""
+      - "".vscode/**""
+      - ""docs/**""
+      - ""examples/**""
+      - ""LICENSE""
+      - ""src/.buildkite/**""
+      - ""src/.dockerignore""
+      - ""src/scripts/ci/publish.ts""
+      - ""src/graphs/**""
+  pull_request:
+    paths-ignore:
+      # Any update here needs to be done for
+      # - `push`see before
+      # - https://github.com/prisma/prisma/blob/master/src/.buildkite/test/buildkite-entry.sh
+      # - https://github.com/prisma/prisma/blob/master/src/.buildkite/publish/buildkite-entry.sh
+      - ""*.md""
+      - "".vscode/**""
+      - ""docs/**""
+      - ""examples/**""
+      - ""LICENSE""
+      - ""src/.buildkite/**""
+      - ""src/.dockerignore""
+      - ""src/scripts/ci/publish.ts""
+      - ""src/graphs/**""
+jobs:
+  benchmark:
+    name: all
+    runs-on: ubuntu-latest
+    steps:
+      - uses: actions/checkout@v2
+      - name: Cache node modules
+        uses: actions/cache@v2
+        env:
+          cache-name: cache-node-modules
+        with:
+          path: ~/.pnpm-store
+          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
+          restore-keys: |
+            ${{ runner.os }}-build-${{ env.cache-name }}-
+            ${{ runner.os }}-build-
+            ${{ runner.os }}-
+
+      - uses: actions/setup-node@v2
+        with:
+          node-version: ""12""
+
+      - run: bash .github/workflows/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+      #  This is required as setup.sh can modify pnpm-lock.yml
+      - run: rm -f src/pnpm-lock.yaml
+      - run: rm -f ./pnpm-lock.yaml
+      - name: Run benchmarks
+        run: pnpm run bench
+      - name: Store benchmark result
+        uses: rhysd/github-action-benchmark@v1
+        with:
+          name: Benchmark.js Benchmark
+          tool: ""benchmarkjs""
+          output-file-path: output.txt
+          # Use personal access token instead of GITHUB_TOKEN due to https://github.community/t5/GitHub-Actions/Github-action-not-triggering-gh-pages-upon-push/td-p/26869/highlight/false
+          github-token: ${{ secrets.GITHUB_TOKEN }}
+          auto-push: true
+          # Show alert with commit comment on detecting possible performance regression
+          alert-threshold: ""200%""
+          comment-on-alert: true
+          fail-on-alert: true
+          alert-comment-cc-users: ""@williamluke4""
",True,False,False,False,False,False,False
prisma,William Luke,User,william@atto-byte.com,GitHub,User,noreply@github.com,7ae3072de3ffaa290a1feb9efdc6429462bb3b10,957a356491f0a88354e8fe6a432e604ed9aaaabb,2021-02-08 10:42:06+01:00,"test(client): benchmark client compilation (#5301)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",16,2.17.0,test.yml,MODIFY,2,0,,5301,williamluke4,User,CONTRIBUTOR,timsuchanek,User,2021-01-27T12:55:05Z,2021-02-08T09:42:07Z,closed,,,,"It adds the ability to define a `whatever.bench.ts` anywhere ([example](https://github.com/prisma/prisma/pull/5301/files#diff-f6f5eaf9d71d8fab68982f18e3fc9a7fbe2066f0563c884a11be89200d6ab2f1R1)) and will then run the benchmarks in gh actions and store results on the `gh-pages` branch.

[Charts](https://refined-github-html-preview.kidonng.workers.dev/prisma/prisma/raw/gh-pages/dev/bench/index.html)

closes https://github.com/prisma/prisma2-private/issues/131",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/7ae3072_test.yml,../Mining/generated/scripts/prisma/files_src_after/7ae3072_test.yml,1.0,1.0,1.0,"@@ -17,6 +17,7 @@ on:
       - ""LICENSE""
       - ""src/.buildkite/**""
       - ""src/.dockerignore""
+      - ""*.bench.ts""
       - ""src/scripts/ci/publish.ts""
       - ""src/graphs/**""
   pull_request:
@@ -32,6 +33,7 @@ on:
       - ""LICENSE""
       - ""src/.buildkite/**""
       - ""src/.dockerignore""
+      - ""*.bench.ts""
       - ""src/scripts/ci/publish.ts""
       - ""src/graphs/**""
 
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,c553b763944854d3dd94f624a452d627dcb807ec,258f80110fac661c51ab59d68bb82df2cefe1052,2021-02-09 15:05:55+01:00,ci: gh actions switch to ubuntu-20.04 (#5559),1,2.17.0,test.yml,MODIFY,21,21,,5559,Jolg42,User,MEMBER,Jolg42,User,2021-02-09T13:56:10Z,2021-02-09T14:05:56Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/c553b76_test.yml,../Mining/generated/scripts/prisma/files_src_after/c553b76_test.yml,None,None,None,"@@ -47,7 +47,7 @@ jobs:
   # This accomplishes the task of automatically cancelling CI runs on pushes to the same branch,
   # which is a common feature in most CI systems but currently not possible with GitHub actions.
   cleanup-runs:
-    runs-on: ubuntu-18.04
+    runs-on: ubuntu-20.04
     steps:
       - uses: rokroskar/workflow-run-cleanup-action@master
         env:
@@ -59,7 +59,7 @@ jobs:
   #
   lint:
     timeout-minutes: 7
-    runs-on: ubuntu-18.04
+    runs-on: ubuntu-20.04
 
     steps:
       - uses: actions/checkout@v2
@@ -95,7 +95,7 @@ jobs:
   #
   tests-integration:
     timeout-minutes: 20
-    runs-on: ubuntu-18.04
+    runs-on: ubuntu-20.04
 
     strategy:
       fail-fast: false
@@ -164,12 +164,12 @@ jobs:
   #
   cli-commands:
     timeout-minutes: 10
-    runs-on: ubuntu-18.04
+    runs-on: ubuntu-20.04
 
     strategy:
       fail-fast: false
       matrix:
-        os: [macos-latest, windows-latest, ubuntu-18.04]
+        os: [macos-latest, windows-latest, ubuntu-20.04]
         node: [12]
 
     steps:
@@ -210,12 +210,12 @@ jobs:
   #
   client:
     timeout-minutes: 20
-    runs-on: ubuntu-18.04
+    runs-on: ubuntu-20.04
 
     strategy:
       fail-fast: false
       matrix:
-        os: [macos-latest, windows-latest, ubuntu-18.04]
+        os: [macos-latest, windows-latest, ubuntu-20.04]
         node: [12]
 
     steps:
@@ -271,7 +271,7 @@ jobs:
   #
   client-types:
     timeout-minutes: 10
-    runs-on: ubuntu-18.04
+    runs-on: ubuntu-20.04
 
     strategy:
       fail-fast: false
@@ -316,12 +316,12 @@ jobs:
   #
   sdk:
     timeout-minutes: 5
-    runs-on: ubuntu-18.04
+    runs-on: ubuntu-20.04
 
     strategy:
       fail-fast: false
       matrix:
-        os: [macos-latest, windows-latest, ubuntu-18.04]
+        os: [macos-latest, windows-latest, ubuntu-20.04]
         node: [12]
 
     steps:
@@ -360,7 +360,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - name: Upload coverage report
-        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-18.04' }}
+        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-20.04' }}
         working-directory: src/packages/sdk
         run: |
           bash <(curl -s https://codecov.io/bash) -F sdk -f ./src/__tests__/coverage/clover.xml
@@ -370,12 +370,12 @@ jobs:
   #
   migrate:
     timeout-minutes: 7
-    runs-on: ubuntu-18.04
+    runs-on: ubuntu-20.04
 
     strategy:
       fail-fast: false
       matrix:
-        os: [macos-latest, windows-latest, ubuntu-18.04]
+        os: [macos-latest, windows-latest, ubuntu-20.04]
         node: [12]
 
     steps:
@@ -421,7 +421,7 @@ jobs:
           TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate
 
       - name: Upload coverage report
-        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-18.04' }}
+        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-20.04' }}
         working-directory: src/packages/migrate
         run: |
           bash <(curl -s https://codecov.io/bash) -F migrate -f ./src/__tests__/coverage/clover.xml
@@ -431,12 +431,12 @@ jobs:
   #
   others:
     timeout-minutes: 10
-    runs-on: ubuntu-18.04
+    runs-on: ubuntu-20.04
 
     strategy:
       fail-fast: false
       matrix:
-        os: [macos-latest, windows-latest, ubuntu-18.04]
+        os: [macos-latest, windows-latest, ubuntu-20.04]
         node: [12]
 
     steps:
@@ -476,7 +476,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - name: Upload coverage report
-        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-18.04' }}
+        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-20.04' }}
         working-directory: src/packages/debug
         run: |
           bash <(curl -s https://codecov.io/bash) -F debug -f ./src/__tests__/coverage/clover.xml
@@ -490,7 +490,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - name: Upload coverage report
-        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-18.04' }}
+        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-20.04' }}
         working-directory: src/packages/engine-core
         run: |
           bash <(curl -s https://codecov.io/bash) -F engine-core -f ./src/__tests__/coverage/clover.xml
@@ -504,7 +504,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
           
       - name: Upload coverage report
-        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-18.04' }}
+        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-20.04' }}
         working-directory: src/packages/fetch-engine
         run: |
           bash <(curl -s https://codecov.io/bash) -F fetch-engine -f ./src/__tests__/coverage/clover.xml
@@ -518,7 +518,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - name: Upload coverage report
-        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-18.04' }}
+        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-20.04' }}
         working-directory: src/packages/generator-helper
         run: |
           bash <(curl -s https://codecov.io/bash) -F generator-helper -f ./src/__tests__/coverage/clover.xml
@@ -532,7 +532,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - name: Upload coverage report
-        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-18.04' }}
+        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-20.04' }}
         working-directory: src/packages/get-platform
         run: |
           bash <(curl -s https://codecov.io/bash) -F get-platform -f ./src/__tests__/coverage/clover.xml
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,4bd1d2850f1dc7c09054fd7c776c3707fc601b55,75e7c7d0b7054589012628497eed1964db96b01c,2021-02-15 18:12:55+01:00,"test(migrate): add shadowdb test (#5667)

* test(migrate): add shadowdb test

* ci: fix gh actions env var",10,2.17.0,test.yml,MODIFY,1,0,,5667,Jolg42,User,MEMBER,Jolg42,User,2021-02-15T16:56:15Z,2021-02-15T17:12:55Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/4bd1d28_test.yml,../Mining/generated/scripts/prisma/files_src_after/4bd1d28_test.yml,0.3125,1.0,1.0,"@@ -419,6 +419,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
           TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate
+          TEST_POSTGRES_SHADOWDB_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate-shadowdb
 
       - name: Upload coverage report
         if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-20.04' }}
",True,True,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,78556b6b02872f2fb9291ffa179e1774cd9f8d9f,a3a39bc1a87eaacd74c9be7e19a0028c047e275c,2021-03-04 14:46:25+01:00,"chore(deps): update dependency sqlite3 to v5.0.2 (#5672)

Co-authored-by: Renovate Bot <bot@renovateapp.com>
Co-authored-by: Joël <joel.galeran@gmail.com>",4,,test.yml,MODIFY,2,2,,5672,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2021-02-15T22:57:22Z,2021-03-04T13:46:25Z,closed,,Jolg42,User,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Change | Age | Adoption | Passing | Confidence |
|---|---|---|---|---|---|
| [sqlite3](https://togithub.com/mapbox/node-sqlite3) | [`5.0.0` -> `5.0.2`](https://renovatebot.com/diffs/npm/sqlite3/5.0.0/5.0.2) | [![age](https://badges.renovateapi.com/packages/npm/sqlite3/5.0.2/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/sqlite3/5.0.2/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/sqlite3/5.0.2/compatibility-slim/5.0.0)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/sqlite3/5.0.2/confidence-slim/5.0.0)](https://docs.renovatebot.com/merge-confidence/) |

---

### Release Notes

<details>
<summary>mapbox/node-sqlite3</summary>

### [`v5.0.2`](https://togithub.com/mapbox/node-sqlite3/blob/master/CHANGELOG.md#&#8203;502)

[Compare Source](https://togithub.com/mapbox/node-sqlite3/compare/v5.0.1...v5.0.2)

-   build: rebuild binaries before publishing [#&#8203;1426](https://togithub.com/mapbox/node-sqlite3/pull/1426)

### [`v5.0.1`](https://togithub.com/mapbox/node-sqlite3/blob/master/CHANGELOG.md#&#8203;501)

[Compare Source](https://togithub.com/mapbox/node-sqlite3/compare/v5.0.0...v5.0.1)

-   dep: node-addon-api to ^3.0.0 [#&#8203;1367](https://togithub.com/mapbox/node-sqlite3/pull/1367)
-   bug: bad comparison of c string [#&#8203;1347](https://togithub.com/mapbox/node-sqlite3/pull/1347)
-   build: Install files to be deployed [#&#8203;1352](https://togithub.com/mapbox/node-sqlite3/pull/1352)
-   sqlite3: upgrade to 3.32.3 [#&#8203;1351](https://togithub.com/mapbox/node-sqlite3/pull/1351)
-   bug: worker threads crash [#&#8203;1367](https://togithub.com/mapbox/node-sqlite3/pull/1367)
-   bug: segfaults [#&#8203;1368](https://togithub.com/mapbox/node-sqlite3/pull/1368)
-   typo: broken link to MapBox site [#&#8203;1369](https://togithub.com/mapbox/node-sqlite3/pull/1369)

</details>

---

### Renovate configuration

:date: **Schedule**: At any time (no schedule defined).

:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

:recycle: **Rebasing**: Renovate will not automatically rebase this PR, because other commits have been found.

:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/78556b6_test.yml,../Mining/generated/scripts/prisma/files_src_after/78556b6_test.yml,None,None,None,"@@ -137,7 +137,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm i sqlite3@5.0.0 --unsafe-perm --reporter=silent
+      - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
         if: ${{ matrix.database == 'sqlite' }}
         working-directory: src/packages/tests
 
@@ -408,7 +408,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm i sqlite3@5.0.0 --unsafe-perm --reporter=silent
+      - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
         working-directory: src/packages/cli
 
       - run: pnpm run test
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,0dc7930bd9a7492496b91bdf78f89aacb84c26c8,65b4edbfa46d7d27a7e1a14bfeceb0f01217615a,2021-03-10 09:04:00+01:00,chore: cleanup gh cov (#6030),1,2.19.0,test.yml,MODIFY,55,61,,6030,Jolg42,User,MEMBER,Jolg42,User,2021-03-09T15:20:56Z,2021-03-10T08:04:00Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/0dc7930_test.yml,../Mining/generated/scripts/prisma/files_src_after/0dc7930_test.yml,None,None,None,"@@ -159,10 +159,11 @@ jobs:
           TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
 
-      - name: Upload coverage report
-        working-directory: src/packages/tests
-        run: |
-          bash <(curl -s https://codecov.io/bash) -F tests-integration -f ./src/__tests__/coverage/clover.xml
+      - uses: codecov/codecov-action@v1
+        with:
+          files: ./src/packages/tests/src/__tests__/coverage/clover.xml
+          flags: tests-integration,${{ matrix.database }}
+          name: tests-integration-${{ matrix.database }}
 
   #
   # CLI-COMMANDS
@@ -210,10 +211,11 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - name: Upload coverage report
-        working-directory: src/packages/cli
-        run: |
-          bash <(curl -s https://codecov.io/bash) -F cli -f ./src/__tests__/coverage/clover.xml
+      - uses: codecov/codecov-action@v1
+        with:
+          files: ./src/packages/cli/src/__tests__/coverage/clover.xml
+          flags: cli,${{ matrix.os }}
+          name: cli-${{ matrix.os }}
 
   #
   # CLIENT (without types test)
@@ -230,8 +232,6 @@ jobs:
 
     steps:
       - uses: actions/checkout@v2
-        with:
-          fetch-depth: 5 # For codecov
           
       - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql
           
@@ -271,11 +271,11 @@ jobs:
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
           TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT
 
-      - name: Upload coverage report
-        working-directory: src/packages/client
-        run: |
-          bash <(curl -s https://codecov.io/bash) -F client -f ./src/__tests__/coverage/clover.xml
-
+      - uses: codecov/codecov-action@v1
+        with:
+          files: ./src/packages/client/src/__tests__/coverage/clover.xml
+          flags: client,${{ matrix.os }}
+          name: client-${{ matrix.os }}
   #
   # CLIENT (types tests only)
   #
@@ -321,10 +321,11 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - name: Upload coverage report
-        working-directory: src/packages/client
-        run: |
-          bash <(curl -s https://codecov.io/bash) -F client-types -f ./src/__tests__/coverage/clover.xml
+      - uses: codecov/codecov-action@v1
+        with:
+          files: ./src/packages/client/src/__tests__/coverage/clover.xml
+          flags: client-types,${{ matrix.os }}
+          name: client-types-${{ matrix.os }}
 
   #
   # SDK
@@ -341,8 +342,6 @@ jobs:
 
     steps:
       - uses: actions/checkout@v2
-        with:
-          fetch-depth: 5 # For codecov
           
       # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
       - name: Cache node modules
@@ -374,11 +373,11 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - name: Upload coverage report
-        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-20.04' }}
-        working-directory: src/packages/sdk
-        run: |
-          bash <(curl -s https://codecov.io/bash) -F sdk -f ./src/__tests__/coverage/clover.xml
+      - uses: codecov/codecov-action@v1
+        with:
+          files: ./src/packages/sdk/src/__tests__/coverage/clover.xml
+          flags: sdk,${{ matrix.os }}
+          name: sdk-${{ matrix.os }}
 
   #
   # MIGRATE
@@ -395,8 +394,6 @@ jobs:
 
     steps:
       - uses: actions/checkout@v2
-        with:
-          fetch-depth: 5 # For codecov
           
       - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres
        
@@ -436,12 +433,11 @@ jobs:
           TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate
           TEST_POSTGRES_SHADOWDB_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate-shadowdb
 
-      - name: Upload coverage report
-        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-20.04' }}
-        working-directory: src/packages/migrate
-        run: |
-          bash <(curl -s https://codecov.io/bash) -F migrate -f ./src/__tests__/coverage/clover.xml
-
+      - uses: codecov/codecov-action@v1
+        with:
+          files: ./src/packages/migrate/src/__tests__/coverage/clover.xml
+          flags: migrate,${{ matrix.os }}
+          name: migrate-${{ matrix.os }}
   #
   # All the other packages!
   #
@@ -457,8 +453,6 @@ jobs:
 
     steps:
       - uses: actions/checkout@v2
-        with:
-          fetch-depth: 5 # For codecov
           
       # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
       - name: Cache node modules
@@ -491,11 +485,11 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - name: Upload coverage report
-        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-20.04' }}
-        working-directory: src/packages/debug
-        run: |
-          bash <(curl -s https://codecov.io/bash) -F debug -f ./src/__tests__/coverage/clover.xml
+      - uses: codecov/codecov-action@v1
+        with:
+          files: ./src/packages/debug/src/__tests__/coverage/clover.xml
+          flags: debug,${{ matrix.os }}
+          name: debug-${{ matrix.os }}
 
       - run: pnpm run test
         name: ""engine-core""
@@ -505,11 +499,11 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - name: Upload coverage report
-        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-20.04' }}
-        working-directory: src/packages/engine-core
-        run: |
-          bash <(curl -s https://codecov.io/bash) -F engine-core -f ./src/__tests__/coverage/clover.xml
+      - uses: codecov/codecov-action@v1
+        with:
+          files: ./src/packages/engine-core/src/__tests__/coverage/clover.xml
+          flags: engine-core,${{ matrix.os }}
+          name: engine-core-${{ matrix.os }}
 
       - run: pnpm run test
         name: ""fetch-engine""
@@ -519,11 +513,11 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           
-      - name: Upload coverage report
-        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-20.04' }}
-        working-directory: src/packages/fetch-engine
-        run: |
-          bash <(curl -s https://codecov.io/bash) -F fetch-engine -f ./src/__tests__/coverage/clover.xml
+      - uses: codecov/codecov-action@v1
+        with:
+          files: ./src/packages/fetch-engine/src/__tests__/coverage/clover.xml
+          flags: fetch-engine,${{ matrix.os }}
+          name: fetch-engine-${{ matrix.os }}
 
       - run: pnpm run test
         name: ""generator-helper""
@@ -533,11 +527,11 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - name: Upload coverage report
-        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-20.04' }}
-        working-directory: src/packages/generator-helper
-        run: |
-          bash <(curl -s https://codecov.io/bash) -F generator-helper -f ./src/__tests__/coverage/clover.xml
+      - uses: codecov/codecov-action@v1
+        with:
+          files: ./src/packages/generator-helper/src/__tests__/coverage/clover.xml
+          flags: generator-helper,${{ matrix.os }}
+          name: generator-helper-${{ matrix.os }}
 
       - run: pnpm run test
         name: ""get-platform""
@@ -547,8 +541,8 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - name: Upload coverage report
-        if: ${{ !contains(github.actor, 'bot') && matrix.os == 'ubuntu-20.04' }}
-        working-directory: src/packages/get-platform
-        run: |
-          bash <(curl -s https://codecov.io/bash) -F get-platform -f ./src/__tests__/coverage/clover.xml
+      - uses: codecov/codecov-action@v1
+        with:
+          files: ./src/packages/get-platform/src/__tests__/coverage/clover.xml
+          flags: get-platform,${{ matrix.os }}
+          name: get-platform-${{ matrix.os }}
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,6a392f0ec310ecaae585116989fb5cfe488adf30,12f7a91dab97df4204da2da8c8607ac71bf75348,2021-03-10 10:20:41+01:00,chore: replace cleanup-runs gh action (#6043),1,2.19.0,test.yml,MODIFY,4,5,,6043,Jolg42,User,MEMBER,Jolg42,User,2021-03-10T09:19:32Z,2021-03-10T09:20:41Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/6a392f0_test.yml,../Mining/generated/scripts/prisma/files_src_after/6a392f0_test.yml,None,None,None,"@@ -42,17 +42,16 @@ env:
   GITHUB_TOKEN: ""${{ secrets.GITHUB_TOKEN }}""
 
 jobs:
-  # From https://github.com/marketplace/actions/workflow-run-cleanup-action
+  # From https://github.com/marketplace/actions/skip-duplicate-actions
   # This action cleans up previously running instances of a workflow on the same branch.
   # This accomplishes the task of automatically cancelling CI runs on pushes to the same branch,
   # which is a common feature in most CI systems but currently not possible with GitHub actions.
   cleanup-runs:
+    continue-on-error: true
     runs-on: ubuntu-20.04
-    steps:
-      - uses: rokroskar/workflow-run-cleanup-action@master
-        env:
-          GITHUB_TOKEN: ""${{ secrets.GITHUB_TOKEN }}""
     if: ""!startsWith(github.ref, 'refs/tags/') && github.ref != 'refs/heads/master'""
+    steps:
+      - uses: fkirc/skip-duplicate-actions@v3.3.0
 
   #
   # Linting
",True,False,False,True,False,True,False
prisma,William Luke,User,william@atto-byte.com,GitHub,User,noreply@github.com,5a2562b2d1e7d655e6340dc5cfe2d8476dd8a6f0,f0958749da6e6773f4567a9e35fcc7e8078bfde7,2021-03-11 15:56:09+01:00,chore(*): only run benchmarks on push to master (#6058),1,2.19.0,benchmark.yml,MODIFY,0,15,,6058,williamluke4,User,CONTRIBUTOR,Jolg42,User,2021-03-11T11:58:53Z,2021-03-11T14:56:09Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/5a2562b_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/5a2562b_benchmark.yml,None,None,None,"@@ -18,21 +18,6 @@ on:
       - ""src/.dockerignore""
       - ""src/scripts/ci/publish.ts""
       - ""src/graphs/**""
-  pull_request:
-    paths-ignore:
-      # Any update here needs to be done for
-      # - `push`see before
-      # - https://github.com/prisma/prisma/blob/master/src/.buildkite/test/buildkite-entry.sh
-      # - https://github.com/prisma/prisma/blob/master/src/.buildkite/publish/buildkite-entry.sh
-      - ""*.md""
-      - "".vscode/**""
-      - ""docs/**""
-      - ""examples/**""
-      - ""LICENSE""
-      - ""src/.buildkite/**""
-      - ""src/.dockerignore""
-      - ""src/scripts/ci/publish.ts""
-      - ""src/graphs/**""
 jobs:
   benchmark:
     name: all
",True,False,False,False,False,False,False
prisma,William Luke,User,william@atto-byte.com,GitHub,User,noreply@github.com,b1f8a82c2aae61dfd7f2868fa45b6aa3971d1285,63840b22acb006d3fb8ed2b0e07caa3e3548e223,2021-03-16 12:31:13+01:00,"fix(*): NAPI fixes + tests (#6016)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>
Co-authored-by: timsuchanek <tim.suchanek@gmail.com>",33,2.19.0,test.yml,MODIFY,14,16,,6016,williamluke4,User,CONTRIBUTOR,Jolg42,User,2021-03-08T08:01:58Z,2021-03-16T11:31:14Z,closed,,,,"This PR adds support for an env var named `PRISMA_FORCE_NAPI` which is meant for use in tests. I.e we can then set `PRISMA_FORCE_NAPI='true'` in GH Actions/Build Kite to test NAPI. 

**NOTE**: These tests will not be enabled in this PR as there are still some side-effects that need to be sorted out. ",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/b1f8a82_test.yml,../Mining/generated/scripts/prisma/files_src_after/b1f8a82_test.yml,0.22137404580152673,0.9236641221374046,0.9618320610687023,"@@ -6,7 +6,7 @@ on:
     branches:
       - master
     paths-ignore:
-      # Any update here needs to be done for 
+      # Any update here needs to be done for
       # - `pull_request` see below
       # - https://github.com/prisma/prisma/blob/master/src/.buildkite/test/buildkite-entry.sh
       # - https://github.com/prisma/prisma/blob/master/src/.buildkite/publish/buildkite-entry.sh
@@ -21,8 +21,8 @@ on:
       - ""src/scripts/ci/publish.ts""
       - ""src/graphs/**""
   pull_request:
-   paths-ignore:
-      # Any update here needs to be done for 
+    paths-ignore:
+      # Any update here needs to be done for
       # - `push`see before
       # - https://github.com/prisma/prisma/blob/master/src/.buildkite/test/buildkite-entry.sh
       # - https://github.com/prisma/prisma/blob/master/src/.buildkite/publish/buildkite-entry.sh
@@ -78,7 +78,7 @@ jobs:
 
       - uses: actions/setup-node@v2
         with:
-          node-version: '12'
+          node-version: ""12""
 
       - run: bash .github/workflows/setup.sh
         env:
@@ -95,7 +95,6 @@ jobs:
   tests-integration:
     timeout-minutes: 20
     runs-on: ubuntu-20.04
-
     strategy:
       fail-fast: false
       matrix:
@@ -104,7 +103,7 @@ jobs:
           - postgres
           - mysql
           - mariadb
-          - mssql 
+          - mssql
         node: [12]
 
     steps:
@@ -112,7 +111,7 @@ jobs:
 
       - run: docker-compose -f src/docker/docker-compose.yml up --detach ${{matrix.database}}
         if: matrix.database != 'sqlite'
-          
+
       # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
       - name: Cache node modules
         uses: actions/cache@v2
@@ -231,9 +230,9 @@ jobs:
 
     steps:
       - uses: actions/checkout@v2
-          
+
       - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql
-          
+
       # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
       - name: Cache node modules
         uses: actions/cache@v2
@@ -281,7 +280,6 @@ jobs:
   client-types:
     timeout-minutes: 10
     runs-on: ubuntu-20.04
-
     strategy:
       fail-fast: false
       matrix:
@@ -289,7 +287,7 @@ jobs:
 
     steps:
       - uses: actions/checkout@v2
-          
+
       # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
       - name: Cache node modules
         uses: actions/cache@v2
@@ -341,7 +339,7 @@ jobs:
 
     steps:
       - uses: actions/checkout@v2
-          
+
       # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
       - name: Cache node modules
         uses: actions/cache@v2
@@ -393,9 +391,9 @@ jobs:
 
     steps:
       - uses: actions/checkout@v2
-          
+
       - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres
-       
+
       # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
       - name: Cache node modules
         uses: actions/cache@v2
@@ -452,7 +450,7 @@ jobs:
 
     steps:
       - uses: actions/checkout@v2
-          
+
       # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
       - name: Cache node modules
         uses: actions/cache@v2
@@ -511,7 +509,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          
+
       - uses: codecov/codecov-action@v1
         with:
           files: ./src/packages/fetch-engine/src/__tests__/coverage/clover.xml
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,b9f5a80e0b5470e28e8bc02bcc03901cc7b0143e,527b6bd35e7fe4dbe854653f872a07b25febeb65,2021-03-17 09:13:45+01:00,"chore(deps): update fkirc/skip-duplicate-actions action to v3.4.0 (#6133)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",1,,test.yml,MODIFY,1,1,,6133,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2021-03-16T19:31:45Z,2021-03-17T08:13:46Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [fkirc/skip-duplicate-actions](https://togithub.com/fkirc/skip-duplicate-actions) | action | minor | `v3.3.0` -> `v3.4.0` |

---

### Release Notes

<details>
<summary>fkirc/skip-duplicate-actions</summary>

### [`v3.4.0`](https://togithub.com/fkirc/skip-duplicate-actions/compare/v3.3.0...v3.4.0)

[Compare Source](https://togithub.com/fkirc/skip-duplicate-actions/compare/v3.3.0...v3.4.0)

</details>

---

### Renovate configuration

:date: **Schedule**: At any time (no schedule defined).

:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/b9f5a80_test.yml,../Mining/generated/scripts/prisma/files_src_after/b9f5a80_test.yml,None,None,None,"@@ -51,7 +51,7 @@ jobs:
     runs-on: ubuntu-20.04
     if: ""!startsWith(github.ref, 'refs/tags/') && github.ref != 'refs/heads/master'""
     steps:
-      - uses: fkirc/skip-duplicate-actions@v3.3.0
+      - uses: fkirc/skip-duplicate-actions@v3.4.0
 
   #
   # Linting
",True,False,False,True,False,True,False
prisma,William Luke,User,william@atto-byte.com,GitHub,User,noreply@github.com,ed3d9c71397f93a9eeae7fe376db9163f58cd062,5a472ee7caacd213f229951a615e3a0fecb78692,2021-03-17 09:32:15+01:00,test(client): benchmark package size (#6128),2,2.20.0,benchmark.yml,MODIFY,1,0,,6128,williamluke4,User,CONTRIBUTOR,Jolg42,User,2021-03-16T13:11:20Z,2021-03-17T08:32:16Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/ed3d9c7_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/ed3d9c7_benchmark.yml,1.0,1.0,1.0,"@@ -18,6 +18,7 @@ on:
       - ""src/.dockerignore""
       - ""src/scripts/ci/publish.ts""
       - ""src/graphs/**""
+
 jobs:
   benchmark:
     name: all
",True,False,False,False,False,False,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,7829289fd71d9e4f28bc45431765e63da12cd278,32f0954d582f3678639ad5b56baf74845a4c3602,2021-03-25 17:53:04+01:00,ci: remove os strategy matrix for gh actions (#6238),1,2.20.0,test.yml,MODIFY,10,10,,6238,Jolg42,User,MEMBER,Jolg42,User,2021-03-25T09:44:34Z,2021-03-25T16:53:04Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/7829289_test.yml,../Mining/generated/scripts/prisma/files_src_after/7829289_test.yml,None,None,None,"@@ -168,12 +168,12 @@ jobs:
   #
   cli-commands:
     timeout-minutes: 10
-    runs-on: ubuntu-20.04
+    runs-on: ${{ matrix.os }}
 
     strategy:
       fail-fast: false
       matrix:
-        os: [macos-latest, windows-latest, ubuntu-20.04]
+        os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
     steps:
@@ -220,12 +220,12 @@ jobs:
   #
   client:
     timeout-minutes: 20
-    runs-on: ubuntu-20.04
+    runs-on: ${{ matrix.os }}
 
     strategy:
       fail-fast: false
       matrix:
-        os: [macos-latest, windows-latest, ubuntu-20.04]
+        os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
     steps:
@@ -329,12 +329,12 @@ jobs:
   #
   sdk:
     timeout-minutes: 5
-    runs-on: ubuntu-20.04
+    runs-on: ${{ matrix.os }}
 
     strategy:
       fail-fast: false
       matrix:
-        os: [macos-latest, windows-latest, ubuntu-20.04]
+        os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
     steps:
@@ -381,12 +381,12 @@ jobs:
   #
   migrate:
     timeout-minutes: 7
-    runs-on: ubuntu-20.04
+    runs-on: ${{ matrix.os }}
 
     strategy:
       fail-fast: false
       matrix:
-        os: [macos-latest, windows-latest, ubuntu-20.04]
+        os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
     steps:
@@ -440,12 +440,12 @@ jobs:
   #
   others:
     timeout-minutes: 10
-    runs-on: ubuntu-20.04
+    runs-on: ${{ matrix.os }}
 
     strategy:
       fail-fast: false
       matrix:
-        os: [macos-latest, windows-latest, ubuntu-20.04]
+        os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
     steps:
",True,False,False,True,False,True,False
prisma,William Luke,User,william@atto-byte.com,GitHub,User,noreply@github.com,9236149dc6308c231617962e5be638d5032b650f,01af9a9d026562162c158cafe8608fa77ad6bdab,2021-03-29 15:32:44+02:00,"fix: napi tests (#6146)

Co-authored-by: Tim Suchanek <Tim.Suchanek@gmail.com>
Co-authored-by: timsuchanek <tim.suchanek@gmail.com>",76,2.20.0,test.yml,MODIFY,129,0,,6146,williamluke4,User,CONTRIBUTOR,timsuchanek,User,2021-03-17T10:51:27Z,2021-03-29T13:32:44Z,closed,,,,"## Notes
Inorder to run NAPI test there 2 env variables that need to be set
```env
 PRISMA_FORCE_NAPI=""true""
 PRISMA_DEBUG_ENABLE_ALL_FLAGS=""true""
```
Client NAPI Tests have been disabled until we can work out why [this](https://github.com/prisma/prisma/runs/2218139431#step:7:961) is happening ",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/9236149_test.yml,../Mining/generated/scripts/prisma/files_src_after/9236149_test.yml,0.3764705882352941,0.0,0.9294117647058824,"@@ -162,7 +162,82 @@ jobs:
           files: ./src/packages/tests/src/__tests__/coverage/clover.xml
           flags: tests-integration,${{ matrix.database }}
           name: tests-integration-${{ matrix.database }}
+  #
+  # TESTS-INTEGRATION-NAPI
+  #
+  tests-integration-napi:
+    timeout-minutes: 20
+    runs-on: ubuntu-20.04
+    env:
+      PRISMA_FORCE_NAPI: ""true""
+      PRISMA_DEBUG_ENABLE_ALL_FLAGS: ""true""
+    strategy:
+      fail-fast: false
+      matrix:
+        database:
+          - sqlite
+          - postgres
+          - mysql
+          - mariadb
+          - mssql
+        node: [12]
 
+    steps:
+      - uses: actions/checkout@v2
+
+      - run: docker-compose -f src/docker/docker-compose.yml up --detach ${{matrix.database}}
+        if: matrix.database != 'sqlite'
+
+      # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
+      - name: Cache node modules
+        uses: actions/cache@v2
+        env:
+          cache-name: cache-node-modules
+        with:
+          path: ~/.pnpm-store
+          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
+          restore-keys: |
+            ${{ runner.os }}-build-${{ env.cache-name }}-
+            ${{ runner.os }}-build-
+            ${{ runner.os }}-
+
+      - uses: actions/setup-node@v2
+        with:
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
+        if: ${{ matrix.database == 'sqlite' }}
+        working-directory: src/packages/tests
+
+      # temp
+      # - name: Setup tmate session
+      #   uses: mxschmitt/action-tmate@v3
+
+      - run: pnpm run jest integration/${{ matrix.database }} -- --forceExit --maxConcurrency=8
+        working-directory: src/packages/tests
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@localhost:5432
+          TEST_MYSQL_BASE_URI: mysql://root:root@localhost:3306
+          TEST_MARIADB_BASE_URI: mysql://root:root@localhost:4306
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+          TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
+          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
+
+      - uses: codecov/codecov-action@v1
+        with:
+          files: ./src/packages/tests/src/__tests__/coverage/clover.xml
+          flags: tests-integration,${{ matrix.database }}
+          name: tests-integration-${{ matrix.database }}
   #
   # CLI-COMMANDS
   #
@@ -274,6 +349,60 @@ jobs:
           files: ./src/packages/client/src/__tests__/coverage/clover.xml
           flags: client,${{ matrix.os }}
           name: client-${{ matrix.os }}
+
+  #
+  # CLIENT (types tests only with NAPI Enabled)
+  #
+  client-types-napi:
+    timeout-minutes: 10
+    runs-on: ubuntu-20.04
+    env:
+      PRISMA_FORCE_NAPI: ""true""
+      PRISMA_DEBUG_ENABLE_ALL_FLAGS: ""true""
+    strategy:
+      fail-fast: false
+      matrix:
+        node: [12]
+
+    steps:
+      - uses: actions/checkout@v2
+
+      # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
+      - name: Cache node modules
+        uses: actions/cache@v2
+        env:
+          cache-name: cache-node-modules
+        with:
+          path: ~/.pnpm-store
+          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
+          restore-keys: |
+            ${{ runner.os }}-build-${{ env.cache-name }}-
+            ${{ runner.os }}-build-
+            ${{ runner.os }}-
+
+      - uses: actions/setup-node@v2
+        with:
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run test src/__tests__/types/types.test.ts
+        working-directory: src/packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v1
+        with:
+          files: ./src/packages/client/src/__tests__/coverage/clover.xml
+          flags: client-types,${{ matrix.os }}
+          name: client-types-${{ matrix.os }}
+  
   #
   # CLIENT (types tests only)
   #
",True,False,False,True,False,True,False
prisma,William Luke,User,william@atto-byte.com,GitHub,User,noreply@github.com,f8dd2fae987f14ae4a79ebb29ff42fb8183f1d0b,2a555df2c7a18f3b78dd674b00cd79daf36ae586,2021-03-30 09:16:22+02:00,chore(benchmark): fix generation (#6308),2,2.20.0,benchmark.yml,MODIFY,2,2,,6308,williamluke4,User,CONTRIBUTOR,timsuchanek,User,2021-03-30T06:39:55Z,2021-03-30T07:16:23Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/f8dd2fa_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/f8dd2fa_benchmark.yml,None,None,None,"@@ -50,14 +50,14 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-      
+
       #  This is required as setup.sh can modify pnpm-lock.yml
       - run: rm -f src/pnpm-lock.yaml
       - run: rm -f ./pnpm-lock.yaml
 
       - name: Run benchmarks
         run: pnpm run bench
-      
+
       - name: Store benchmark result
         uses: rhysd/github-action-benchmark@v1
         with:
",True,False,False,False,False,False,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,884917293de796ecad8fc7df327e62d9b42213aa,53d11127c9dbd460e8ba3c9c2ecb41ad1151c94f,2021-04-08 13:56:39+02:00,"fix(deps): update engines to v2.21.0-4.2b4ae74c1849602a9359b4367e2314eed3f1ba18 (#6343)

Co-authored-by: Renovate Bot <bot@renovateapp.com>
Co-authored-by: William Luke <william@ordino.ai>
Co-authored-by: timsuchanek <tim.suchanek@gmail.com>",12,,test.yml,MODIFY,33,33,,6343,renovate[bot],Bot,CONTRIBUTOR,timsuchanek,User,2021-03-31T15:37:15Z,2021-04-08T11:56:39Z,closed,,"timsuchanek, williamluke4","User, User","[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Change | Age | Adoption | Passing | Confidence |
|---|---|---|---|---|---|
| @&#8203;prisma/engines | [`2.20.0-26.60ba6551f29b17d7d6ce479e5733c70d9c00860e` -> `2.21.0-4.2b4ae74c1849602a9359b4367e2314eed3f1ba18`](https://renovatebot.com/diffs/npm/@prisma%2fengines/2.20.0-26.60ba6551f29b17d7d6ce479e5733c70d9c00860e/2.21.0-4.2b4ae74c1849602a9359b4367e2314eed3f1ba18) | [![age](https://badges.renovateapi.com/packages/npm/@prisma%2fengines/2.21.0-4.2b4ae74c1849602a9359b4367e2314eed3f1ba18/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@prisma%2fengines/2.21.0-4.2b4ae74c1849602a9359b4367e2314eed3f1ba18/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@prisma%2fengines/2.21.0-4.2b4ae74c1849602a9359b4367e2314eed3f1ba18/compatibility-slim/2.20.0-26.60ba6551f29b17d7d6ce479e5733c70d9c00860e)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@prisma%2fengines/2.21.0-4.2b4ae74c1849602a9359b4367e2314eed3f1ba18/confidence-slim/2.20.0-26.60ba6551f29b17d7d6ce479e5733c70d9c00860e)](https://docs.renovatebot.com/merge-confidence/) |
| @&#8203;prisma/engines-version | [`2.20.0-26.60ba6551f29b17d7d6ce479e5733c70d9c00860e` -> `2.21.0-4.2b4ae74c1849602a9359b4367e2314eed3f1ba18`](https://renovatebot.com/diffs/npm/@prisma%2fengines-version/2.20.0-26.60ba6551f29b17d7d6ce479e5733c70d9c00860e/2.21.0-4.2b4ae74c1849602a9359b4367e2314eed3f1ba18) | [![age](https://badges.renovateapi.com/packages/npm/@prisma%2fengines-version/2.21.0-4.2b4ae74c1849602a9359b4367e2314eed3f1ba18/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@prisma%2fengines-version/2.21.0-4.2b4ae74c1849602a9359b4367e2314eed3f1ba18/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@prisma%2fengines-version/2.21.0-4.2b4ae74c1849602a9359b4367e2314eed3f1ba18/compatibility-slim/2.20.0-26.60ba6551f29b17d7d6ce479e5733c70d9c00860e)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@prisma%2fengines-version/2.21.0-4.2b4ae74c1849602a9359b4367e2314eed3f1ba18/confidence-slim/2.20.0-26.60ba6551f29b17d7d6ce479e5733c70d9c00860e)](https://docs.renovatebot.com/merge-confidence/) |

---

### Renovate configuration

:date: **Schedule**: At any time (no schedule defined).

:vertical_traffic_light: **Automerge**: Disabled due to failing status checks.

:recycle: **Rebasing**: Renovate will not automatically rebase this PR, because other commits have been found.

:no_bell: **Ignore**: Close this PR and you won't be reminded about these updates again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/8849172_test.yml,../Mining/generated/scripts/prisma/files_src_after/8849172_test.yml,None,None,None,"@@ -10,36 +10,36 @@ on:
       # - `pull_request` see below
       # - https://github.com/prisma/prisma/blob/master/src/.buildkite/test/buildkite-entry.sh
       # - https://github.com/prisma/prisma/blob/master/src/.buildkite/publish/buildkite-entry.sh
-      - ""*.md""
-      - "".vscode/**""
-      - ""docs/**""
-      - ""examples/**""
-      - ""LICENSE""
-      - ""src/.buildkite/**""
-      - ""src/.dockerignore""
-      - ""*.bench.ts""
-      - ""src/scripts/ci/publish.ts""
-      - ""src/graphs/**""
+      - '*.md'
+      - '.vscode/**'
+      - 'docs/**'
+      - 'examples/**'
+      - 'LICENSE'
+      - 'src/.buildkite/**'
+      - 'src/.dockerignore'
+      - '*.bench.ts'
+      - 'src/scripts/ci/publish.ts'
+      - 'src/graphs/**'
   pull_request:
     paths-ignore:
       # Any update here needs to be done for
       # - `push`see before
       # - https://github.com/prisma/prisma/blob/master/src/.buildkite/test/buildkite-entry.sh
       # - https://github.com/prisma/prisma/blob/master/src/.buildkite/publish/buildkite-entry.sh
-      - ""*.md""
-      - "".vscode/**""
-      - ""docs/**""
-      - ""examples/**""
-      - ""LICENSE""
-      - ""src/.buildkite/**""
-      - ""src/.dockerignore""
-      - ""*.bench.ts""
-      - ""src/scripts/ci/publish.ts""
-      - ""src/graphs/**""
+      - '*.md'
+      - '.vscode/**'
+      - 'docs/**'
+      - 'examples/**'
+      - 'LICENSE'
+      - 'src/.buildkite/**'
+      - 'src/.dockerignore'
+      - '*.bench.ts'
+      - 'src/scripts/ci/publish.ts'
+      - 'src/graphs/**'
 
 env:
-  PRISMA_TELEMETRY_INFORMATION: ""prisma test.yml""
-  GITHUB_TOKEN: ""${{ secrets.GITHUB_TOKEN }}""
+  PRISMA_TELEMETRY_INFORMATION: 'prisma test.yml'
+  GITHUB_TOKEN: '${{ secrets.GITHUB_TOKEN }}'
 
 jobs:
   # From https://github.com/marketplace/actions/skip-duplicate-actions
@@ -78,7 +78,7 @@ jobs:
 
       - uses: actions/setup-node@v2
         with:
-          node-version: ""12""
+          node-version: '12'
 
       - run: bash .github/workflows/setup.sh
         env:
@@ -169,8 +169,8 @@ jobs:
     timeout-minutes: 20
     runs-on: ubuntu-20.04
     env:
-      PRISMA_FORCE_NAPI: ""true""
-      PRISMA_DEBUG_ENABLE_ALL_FLAGS: ""true""
+      PRISMA_FORCE_NAPI: 'true'
+      PRISMA_DEBUG_ENABLE_ALL_FLAGS: 'true'
     strategy:
       fail-fast: false
       matrix:
@@ -357,8 +357,8 @@ jobs:
     timeout-minutes: 10
     runs-on: ubuntu-20.04
     env:
-      PRISMA_FORCE_NAPI: ""true""
-      PRISMA_DEBUG_ENABLE_ALL_FLAGS: ""true""
+      PRISMA_FORCE_NAPI: 'true'
+      PRISMA_DEBUG_ENABLE_ALL_FLAGS: 'true'
     strategy:
       fail-fast: false
       matrix:
@@ -402,7 +402,7 @@ jobs:
           files: ./src/packages/client/src/__tests__/coverage/clover.xml
           flags: client-types,${{ matrix.os }}
           name: client-types-${{ matrix.os }}
-  
+
   #
   # CLIENT (types tests only)
   #
@@ -604,7 +604,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
-        name: ""debug""
+        name: 'debug'
         working-directory: src/packages/debug
         env:
           CI: true
@@ -618,7 +618,7 @@ jobs:
           name: debug-${{ matrix.os }}
 
       - run: pnpm run test
-        name: ""engine-core""
+        name: 'engine-core'
         working-directory: src/packages/engine-core
         env:
           CI: true
@@ -632,7 +632,7 @@ jobs:
           name: engine-core-${{ matrix.os }}
 
       - run: pnpm run test
-        name: ""fetch-engine""
+        name: 'fetch-engine'
         working-directory: src/packages/fetch-engine
         env:
           CI: true
@@ -646,7 +646,7 @@ jobs:
           name: fetch-engine-${{ matrix.os }}
 
       - run: pnpm run test
-        name: ""generator-helper""
+        name: 'generator-helper'
         working-directory: src/packages/generator-helper
         env:
           CI: true
@@ -660,7 +660,7 @@ jobs:
           name: generator-helper-${{ matrix.os }}
 
       - run: pnpm run test
-        name: ""get-platform""
+        name: 'get-platform'
         working-directory: src/packages/get-platform
         env:
           CI: true
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,052f0e9a60ab351855bfafde174f140c065abe68,b902476bb7f523cce1bf2a88bb5216c845aa3063,2021-04-15 15:33:27+02:00,ci: remove global github token (#6595),1,2.22.0,test.yml,MODIFY,0,1,,6595,Jolg42,User,MEMBER,Jolg42,User,2021-04-15T13:23:41Z,2021-04-15T13:33:28Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/052f0e9_test.yml,../Mining/generated/scripts/prisma/files_src_after/052f0e9_test.yml,None,None,None,"@@ -39,7 +39,6 @@ on:
 
 env:
   PRISMA_TELEMETRY_INFORMATION: 'prisma test.yml'
-  GITHUB_TOKEN: '${{ secrets.GITHUB_TOKEN }}'
 
 jobs:
   # From https://github.com/marketplace/actions/skip-duplicate-actions
",True,False,False,True,False,True,False
prisma,William Luke,User,william@atto-byte.com,GitHub,User,noreply@github.com,41636c53bb3df531ef91ecc2fc3c67cbd8c7c8b6,fe5729c007bc39a0f3f223d3d14d375ae7c82da1,2021-04-22 17:09:13+03:00,feat(client): unity feature flags (#6714),18,2.22.0,test.yml,MODIFY,0,2,,6714,williamluke4,User,CONTRIBUTOR,williamluke4,User,2021-04-22T11:24:07Z,2021-04-22T14:09:14Z,closed,,williamluke4,User,"closes https://github.com/prisma/prisma/issues/6575
[Engines PR](https://github.com/prisma/prisma-engines/pull/1849)",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/41636c5_test.yml,../Mining/generated/scripts/prisma/files_src_after/41636c5_test.yml,0.0,0.0,0.0,"@@ -169,7 +169,6 @@ jobs:
     runs-on: ubuntu-20.04
     env:
       PRISMA_FORCE_NAPI: 'true'
-      PRISMA_DEBUG_ENABLE_ALL_FLAGS: 'true'
     strategy:
       fail-fast: false
       matrix:
@@ -357,7 +356,6 @@ jobs:
     runs-on: ubuntu-20.04
     env:
       PRISMA_FORCE_NAPI: 'true'
-      PRISMA_DEBUG_ENABLE_ALL_FLAGS: 'true'
     strategy:
       fail-fast: false
       matrix:
",True,False,False,True,False,True,False
prisma,William Luke,User,william@atto-byte.com,GitHub,User,noreply@github.com,4bb09fb59bb4886b1ba8e7f3d949286668db5d36,bcc0e269f27700aa9710e416034873bc7b8b6506,2021-04-26 12:26:17+02:00,"chore: re-enable napi client tests (#6743)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",2,2.22.0,test.yml,MODIFY,16,7,,6743,williamluke4,User,CONTRIBUTOR,Jolg42,User,2021-04-23T09:14:18Z,2021-04-26T10:26:17Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/4bb09fb_test.yml,../Mining/generated/scripts/prisma/files_src_after/4bb09fb_test.yml,0.0,0.0,0.0,"@@ -349,21 +349,24 @@ jobs:
           name: client-${{ matrix.os }}
 
   #
-  # CLIENT (types tests only with NAPI Enabled)
+  # CLIENT with NAPI Enabled  (without types test)
   #
-  client-types-napi:
-    timeout-minutes: 10
-    runs-on: ubuntu-20.04
+  client-napi:
+    timeout-minutes: 20
+    runs-on: ${{ matrix.os }}
     env:
       PRISMA_FORCE_NAPI: 'true'
     strategy:
       fail-fast: false
       matrix:
+        os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
     steps:
       - uses: actions/checkout@v2
 
+      - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql
+
       # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
       - name: Cache node modules
         uses: actions/cache@v2
@@ -387,18 +390,24 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm run test src/__tests__/types/types.test.ts
+      - run: pnpm run test -- --testPathIgnorePatterns src/__tests__/types/types.test.ts
         working-directory: src/packages/client
         env:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+          TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:5435/tests
+          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+          TEST_MYSQL_ISOLATED_URI: mysql://root:root@localhost:3307/tests
+          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
+          TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT
 
       - uses: codecov/codecov-action@v1
         with:
           files: ./src/packages/client/src/__tests__/coverage/clover.xml
-          flags: client-types,${{ matrix.os }}
-          name: client-types-${{ matrix.os }}
+          flags: client,${{ matrix.os }}
+          name: client-${{ matrix.os }}
 
   #
   # CLIENT (types tests only)
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,1b0083ed6df1ff7de2b2f71cbd7730e41a6586bf,b03573f680a338ad594c30f183b20f16912715a6,2021-04-30 16:16:59+02:00,ci: update pnpm cache step (#6848),2,2.22.0,benchmark.yml,MODIFY,3,9,,6848,Jolg42,User,MEMBER,Jolg42,User,2021-04-29T09:28:18Z,2021-04-30T14:16:59Z,closed,,,,"Less lines, it's from https://pnpm.io/continuous-integration",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/1b0083e_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/1b0083e_benchmark.yml,None,None,None,"@@ -29,17 +29,11 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - name: Cache node modules
-        uses: actions/cache@v2
-        env:
-          cache-name: cache-node-modules
+      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
+        uses: actions/cache@v1
         with:
           path: ~/.pnpm-store
-          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-          restore-keys: |
-            ${{ runner.os }}-build-${{ env.cache-name }}-
-            ${{ runner.os }}-build-
-            ${{ runner.os }}-
+          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
 
       - uses: actions/setup-node@v2
         with:
",True,False,False,False,False,False,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,1b0083ed6df1ff7de2b2f71cbd7730e41a6586bf,b03573f680a338ad594c30f183b20f16912715a6,2021-04-30 16:16:59+02:00,ci: update pnpm cache step (#6848),2,2.22.0,test.yml,MODIFY,33,103,,6848,Jolg42,User,MEMBER,Jolg42,User,2021-04-29T09:28:18Z,2021-04-30T14:16:59Z,closed,,,,"Less lines, it's from https://pnpm.io/continuous-integration",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/1b0083e_test.yml,../Mining/generated/scripts/prisma/files_src_after/1b0083e_test.yml,None,None,None,"@@ -62,18 +62,11 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
-      - name: Cache node modules
-        uses: actions/cache@v2
-        env:
-          cache-name: cache-node-modules
+      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
+        uses: actions/cache@v1
         with:
           path: ~/.pnpm-store
-          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-          restore-keys: |
-            ${{ runner.os }}-build-${{ env.cache-name }}-
-            ${{ runner.os }}-build-
-            ${{ runner.os }}-
+          key: ${{ runner.os }}-node-${{ hashFiles('**/pnpm-lock.yaml') }}
 
       - uses: actions/setup-node@v2
         with:
@@ -110,19 +103,12 @@ jobs:
 
       - run: docker-compose -f src/docker/docker-compose.yml up --detach ${{matrix.database}}
         if: matrix.database != 'sqlite'
-
-      # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
-      - name: Cache node modules
-        uses: actions/cache@v2
-        env:
-          cache-name: cache-node-modules
+      
+      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
+        uses: actions/cache@v1
         with:
           path: ~/.pnpm-store
-          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-          restore-keys: |
-            ${{ runner.os }}-build-${{ env.cache-name }}-
-            ${{ runner.os }}-build-
-            ${{ runner.os }}-
+          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
 
       - uses: actions/setup-node@v2
         with:
@@ -186,18 +172,11 @@ jobs:
       - run: docker-compose -f src/docker/docker-compose.yml up --detach ${{matrix.database}}
         if: matrix.database != 'sqlite'
 
-      # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
-      - name: Cache node modules
-        uses: actions/cache@v2
-        env:
-          cache-name: cache-node-modules
+      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
+        uses: actions/cache@v1
         with:
           path: ~/.pnpm-store
-          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-          restore-keys: |
-            ${{ runner.os }}-build-${{ env.cache-name }}-
-            ${{ runner.os }}-build-
-            ${{ runner.os }}-
+          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
 
       - uses: actions/setup-node@v2
         with:
@@ -252,18 +231,11 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
-      - name: Cache node modules
-        uses: actions/cache@v2
-        env:
-          cache-name: cache-node-modules
+      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
+        uses: actions/cache@v1
         with:
           path: ~/.pnpm-store
-          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-          restore-keys: |
-            ${{ runner.os }}-build-${{ env.cache-name }}-
-            ${{ runner.os }}-build-
-            ${{ runner.os }}-
+          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
 
       - uses: actions/setup-node@v2
         with:
@@ -305,19 +277,12 @@ jobs:
       - uses: actions/checkout@v2
 
       - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql
-
-      # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
-      - name: Cache node modules
-        uses: actions/cache@v2
-        env:
-          cache-name: cache-node-modules
+      
+      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
+        uses: actions/cache@v1
         with:
           path: ~/.pnpm-store
-          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-          restore-keys: |
-            ${{ runner.os }}-build-${{ env.cache-name }}-
-            ${{ runner.os }}-build-
-            ${{ runner.os }}-
+          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
 
       - uses: actions/setup-node@v2
         with:
@@ -366,19 +331,12 @@ jobs:
       - uses: actions/checkout@v2
 
       - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql
-
-      # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
-      - name: Cache node modules
-        uses: actions/cache@v2
-        env:
-          cache-name: cache-node-modules
+      
+      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
+        uses: actions/cache@v1
         with:
           path: ~/.pnpm-store
-          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-          restore-keys: |
-            ${{ runner.os }}-build-${{ env.cache-name }}-
-            ${{ runner.os }}-build-
-            ${{ runner.os }}-
+          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
 
       - uses: actions/setup-node@v2
         with:
@@ -423,18 +381,11 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
-      - name: Cache node modules
-        uses: actions/cache@v2
-        env:
-          cache-name: cache-node-modules
+      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
+        uses: actions/cache@v1
         with:
           path: ~/.pnpm-store
-          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-          restore-keys: |
-            ${{ runner.os }}-build-${{ env.cache-name }}-
-            ${{ runner.os }}-build-
-            ${{ runner.os }}-
+          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
 
       - uses: actions/setup-node@v2
         with:
@@ -475,18 +426,11 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
-      - name: Cache node modules
-        uses: actions/cache@v2
-        env:
-          cache-name: cache-node-modules
+      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
+        uses: actions/cache@v1
         with:
           path: ~/.pnpm-store
-          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-          restore-keys: |
-            ${{ runner.os }}-build-${{ env.cache-name }}-
-            ${{ runner.os }}-build-
-            ${{ runner.os }}-
+          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
 
       - uses: actions/setup-node@v2
         with:
@@ -529,18 +473,11 @@ jobs:
 
       - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres
 
-      # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
-      - name: Cache node modules
-        uses: actions/cache@v2
-        env:
-          cache-name: cache-node-modules
+      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
+        uses: actions/cache@v1
         with:
           path: ~/.pnpm-store
-          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-          restore-keys: |
-            ${{ runner.os }}-build-${{ env.cache-name }}-
-            ${{ runner.os }}-build-
-            ${{ runner.os }}-
+          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
 
       - uses: actions/setup-node@v2
         with:
@@ -586,18 +523,11 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      # From https://docs.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action
-      - name: Cache node modules
-        uses: actions/cache@v2
-        env:
-          cache-name: cache-node-modules
+      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
+        uses: actions/cache@v1
         with:
           path: ~/.pnpm-store
-          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-          restore-keys: |
-            ${{ runner.os }}-build-${{ env.cache-name }}-
-            ${{ runner.os }}-build-
-            ${{ runner.os }}-
+          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
 
       - uses: actions/setup-node@v2
         with:
",True,False,False,True,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,fdaec57bb8f0eb091600dbc6edf92da32542931b,3f5d9f64c548d24003fd5476caf5994f9e90c299,2021-05-04 14:47:40+02:00,"fix(tests): Re-enable all runtime tests (#6066)

Co-authored-by: Joël <joel.galeran@gmail.com>
Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>
Co-authored-by: William Luke <william@ordino.ai>",11,2.22.0,test.yml,MODIFY,1,1,,6066,janpio,User,MEMBER,Jolg42,User,2021-03-11T16:33:30Z,2021-05-04T12:47:40Z,closed,"topic: internal, topic: tests, team/client","Jolg42, williamluke4","User, User","Seems we forgot a `slice(0,1)` in the past that disabled all but 1 runtime test.
This removes that code again and updates the snapshots to the current state (h/t @Jolg42).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/fdaec57_test.yml,../Mining/generated/scripts/prisma/files_src_after/fdaec57_test.yml,None,None,None,"@@ -196,7 +196,7 @@ jobs:
       # - name: Setup tmate session
       #   uses: mxschmitt/action-tmate@v3
 
-      - run: pnpm run jest integration/${{ matrix.database }} -- --forceExit --maxConcurrency=8
+      - run: pnpm run jest integration/${{ matrix.database }} -- --forceExit --maxConcurrency=8 --verbose
         working-directory: src/packages/tests
         env:
           CI: true
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,7a7ddb587f901119876fc5aa37b506c37f8e71b4,e0af4572c009d7a23da0fed204664379be302f8f,2021-05-07 11:11:43+02:00,"fix(cli,migrate): regression on sqlserver datasource parsing (#6952)",33,2.23.0,test.yml,MODIFY,7,1,,6952,Jolg42,User,MEMBER,Jolg42,User,2021-05-05T15:35:36Z,2021-05-07T09:11:44Z,closed,,,,"Error message is `Error: Invalid data source URL, see https://www.prisma.io/docs/reference/database-reference/connection-urls`

Note: could be better with a SQL Server test added to avoid a regression here",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/7a7ddb5_test.yml,../Mining/generated/scripts/prisma/files_src_after/7a7ddb5_test.yml,0.2935560859188544,0.9260143198090692,1.0,"@@ -471,7 +471,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres
+      - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres mysql mssql
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
         uses: actions/cache@v1
@@ -501,6 +501,12 @@ jobs:
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
           TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate
           TEST_POSTGRES_SHADOWDB_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate-shadowdb
+          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+          TEST_MYSQL_URI_MIGRATE: mysql://root:root@localhost:3306/tests-migrate
+          TEST_MYSQL_SHADOWDB_URI_MIGRATE: mysql://root:root@localhost:3306/tests-migrate-shadowdb
+          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
+          TEST_MSSQL_JDBC_URI_MIGRATE: ""sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT""
+          TEST_MSSQL_SHADOWDB_JDBC_URI_MIGRATE: ""sqlserver://localhost:1433;database=tests-migrate-shadowdb;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT""
 
       - uses: codecov/codecov-action@v1
         with:
",True,False,False,True,False,True,False
prisma,William Luke,User,william@atto-byte.com,GitHub,User,noreply@github.com,a7c0578d3093d52a97afceedc4096632a6b71f54,fb338d4c9ee5d69fb83b977f26c48f067351ecd3,2021-05-17 15:38:29+03:00,"test: switch napi tests to use matrix (#7086)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",1,2.23.0,test.yml,MODIFY,13,122,,7086,williamluke4,User,CONTRIBUTOR,williamluke4,User,2021-05-14T08:32:45Z,2021-05-17T12:38:30Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/a7c0578_test.yml,../Mining/generated/scripts/prisma/files_src_after/a7c0578_test.yml,None,None,None,"@@ -92,6 +92,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
+        engine: ['napi', 'binary']
         database:
           - sqlite
           - postgres
@@ -103,6 +104,11 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
+      - name: Set Engine Type
+        if: ${{ matrix.engine == 'napi' }}
+        run: |
+          echo ""PRISMA_FORCE_NAPI=true"" >> $GITHUB_ENV
+
       - run: docker-compose -f src/docker/docker-compose.yml up --detach ${{matrix.database}}
         if: matrix.database != 'sqlite'
       
@@ -147,76 +153,9 @@ jobs:
       - uses: codecov/codecov-action@v1
         with:
           files: ./src/packages/tests/src/__tests__/coverage/clover.xml
-          flags: tests-integration,${{ matrix.database }}
-          name: tests-integration-${{ matrix.database }}
-  #
-  # TESTS-INTEGRATION-NAPI
-  #
-  tests-integration-napi:
-    timeout-minutes: 20
-    runs-on: ubuntu-20.04
-    env:
-      PRISMA_FORCE_NAPI: 'true'
-    strategy:
-      fail-fast: false
-      matrix:
-        database:
-          - sqlite
-          - postgres
-          - mysql
-          - mariadb
-          - mssql
-        node: [12]
+          flags: tests-integration,${{ matrix.database }},${{ matrix.engine }}
+          name: tests-integration-${{ matrix.database }}-${{ matrix.engine }}
 
-    steps:
-      - uses: actions/checkout@v2
-
-      - run: docker-compose -f src/docker/docker-compose.yml up --detach ${{matrix.database}}
-        if: matrix.database != 'sqlite'
-
-      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v1
-        with:
-          path: ~/.pnpm-store
-          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-
-      - uses: actions/setup-node@v2
-        with:
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
-        if: ${{ matrix.database == 'sqlite' }}
-        working-directory: src/packages/tests
-
-      # temp
-      # - name: Setup tmate session
-      #   uses: mxschmitt/action-tmate@v3
-
-      - run: pnpm run jest integration/${{ matrix.database }} -- --forceExit --maxConcurrency=8 --verbose
-        working-directory: src/packages/tests
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@localhost:5432
-          TEST_MYSQL_BASE_URI: mysql://root:root@localhost:3306
-          TEST_MARIADB_BASE_URI: mysql://root:root@localhost:4306
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-          TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
-          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-
-      - uses: codecov/codecov-action@v1
-        with:
-          files: ./src/packages/tests/src/__tests__/coverage/clover.xml
-          flags: tests-integration,${{ matrix.database }}
-          name: tests-integration-${{ matrix.database }}
   #
   # CLI-COMMANDS
   #
@@ -272,65 +211,17 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
+        engine: ['napi', 'binary']
         os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
     steps:
       - uses: actions/checkout@v2
 
-      - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql
-      
-      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v1
-        with:
-          path: ~/.pnpm-store
-          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-
-      - uses: actions/setup-node@v2
-        with:
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - run: pnpm run test -- --testPathIgnorePatterns src/__tests__/types/types.test.ts
-        working-directory: src/packages/client
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-          TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:5435/tests
-          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-          TEST_MYSQL_ISOLATED_URI: mysql://root:root@localhost:3307/tests
-          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-          TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT
-
-      - uses: codecov/codecov-action@v1
-        with:
-          files: ./src/packages/client/src/__tests__/coverage/clover.xml
-          flags: client,${{ matrix.os }}
-          name: client-${{ matrix.os }}
-
-  #
-  # CLIENT with NAPI Enabled  (without types test)
-  #
-  client-napi:
-    timeout-minutes: 20
-    runs-on: ${{ matrix.os }}
-    env:
-      PRISMA_FORCE_NAPI: 'true'
-    strategy:
-      fail-fast: false
-      matrix:
-        os: [ubuntu-20.04] # macos-latest, windows-latest
-        node: [12]
-
-    steps:
-      - uses: actions/checkout@v2
+      - name: Set Engine Type
+        if: ${{ matrix.engine == 'napi' }}
+        run: |
+          echo ""PRISMA_FORCE_NAPI=true"" >> $GITHUB_ENV
 
       - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql
       
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,78109d219525c3848d8c4635a90e3a61cf53c62d,3fe52e468ebea8597d006bdedde65659727d3343,2021-05-17 18:11:30+02:00,"chore: add CODEOWNERS (#6567)

[skip ci]",3,2.23.0,benchmark.yml,MODIFY,1,0,,6567,Jolg42,User,MEMBER,Jolg42,User,2021-04-14T12:07:51Z,2021-05-17T16:11:30Z,closed,,Jolg42,User,"Let's take this as the first draft version and improve it / discuss it before merging

Note: Will is off this week, back next week.",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/78109d2_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/78109d2_benchmark.yml,None,None,None,"@@ -14,6 +14,7 @@ on:
       - ""docs/**""
       - ""examples/**""
       - ""LICENSE""
+      - '.github/CODEOWNERS'
       - ""src/.buildkite/**""
       - ""src/.dockerignore""
       - ""src/scripts/ci/publish.ts""
",True,False,False,False,False,False,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,78109d219525c3848d8c4635a90e3a61cf53c62d,3fe52e468ebea8597d006bdedde65659727d3343,2021-05-17 18:11:30+02:00,"chore: add CODEOWNERS (#6567)

[skip ci]",3,2.23.0,test.yml,MODIFY,2,0,,6567,Jolg42,User,MEMBER,Jolg42,User,2021-04-14T12:07:51Z,2021-05-17T16:11:30Z,closed,,Jolg42,User,"Let's take this as the first draft version and improve it / discuss it before merging

Note: Will is off this week, back next week.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/78109d2_test.yml,../Mining/generated/scripts/prisma/files_src_after/78109d2_test.yml,None,None,None,"@@ -16,6 +16,7 @@ on:
       - 'docs/**'
       - 'examples/**'
       - 'LICENSE'
+      - '.github/CODEOWNERS'
       - 'src/.buildkite/**'
       - 'src/.dockerignore'
       - '*.bench.ts'
@@ -33,6 +34,7 @@ on:
       - 'docs/**'
       - 'examples/**'
       - 'LICENSE'
+      - '.github/CODEOWNERS'
       - 'src/.buildkite/**'
       - 'src/.dockerignore'
       - '*.bench.ts'
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,c2f31a3ef8f6b50e6dff589aa1ccfc8a937b4f66,f779853959220f3a90dc0fc8fceab5b68f7c2f5c,2021-05-21 15:51:26+02:00,chore: rename tests package to integration-tests (#7201),48,2.24.0,test.yml,MODIFY,7,7,,7201,Jolg42,User,MEMBER,Jolg42,User,2021-05-21T13:02:49Z,2021-05-21T13:51:26Z,closed,,,,"So Renovate can keep dependencies up-to-date.

Turns out any folder named `tests` is often on an exclude list 😄 ",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/c2f31a3_test.yml,../Mining/generated/scripts/prisma/files_src_after/c2f31a3_test.yml,0.0,1.0,0.75,"@@ -86,9 +86,9 @@ jobs:
         working-directory: ./
 
   #
-  # TESTS-INTEGRATION
+  # INTEGRATION-TESTS
   #
-  tests-integration:
+  integration-tests:
     timeout-minutes: 20
     runs-on: ubuntu-20.04
     strategy:
@@ -132,14 +132,14 @@ jobs:
 
       - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
         if: ${{ matrix.database == 'sqlite' }}
-        working-directory: src/packages/tests
+        working-directory: src/packages/integration-tests
 
       # temp
       # - name: Setup tmate session
       #   uses: mxschmitt/action-tmate@v3
 
       - run: pnpm run jest integration/${{ matrix.database }} -- --forceExit --maxConcurrency=8
-        working-directory: src/packages/tests
+        working-directory: src/packages/integration-tests
         env:
           CI: true
           SKIP_GIT: true
@@ -154,9 +154,9 @@ jobs:
 
       - uses: codecov/codecov-action@v1
         with:
-          files: ./src/packages/tests/src/__tests__/coverage/clover.xml
-          flags: tests-integration,${{ matrix.database }},${{ matrix.engine }}
-          name: tests-integration-${{ matrix.database }}-${{ matrix.engine }}
+          files: ./src/packages/integration-tests/src/__tests__/coverage/clover.xml
+          flags: integration-tests,${{ matrix.database }},${{ matrix.engine }}
+          name: integration-tests-${{ matrix.database }}-${{ matrix.engine }}
 
   #
   # CLI-COMMANDS
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,97b401f65a6b1001cf8765481302dd5db0b6c454,c2f31a3ef8f6b50e6dff589aa1ccfc8a937b4f66,2021-05-21 16:04:59+02:00,"fix(deps): update engines to v2.24.0-5.2beb202d1edf364097cece4300649f1f98557d61 (#7172)

Co-authored-by: Renovate Bot <bot@renovateapp.com>
Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>
Co-authored-by: Pierre-Antoine Mills <pierreantoine.urvoy@gmail.com>
Co-authored-by: Joël <joel.galeran@gmail.com>",12,,test.yml,MODIFY,119,117,,7172,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2021-05-19T18:18:58Z,2021-05-21T14:04:59Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Change | Age | Adoption | Passing | Confidence |
|---|---|---|---|---|---|
| @&#8203;prisma/engines | [`2.24.0-3.21e59e9d64a9c78da61a3accf99521bc0680ea55` -> `2.24.0-5.2beb202d1edf364097cece4300649f1f98557d61`](https://renovatebot.com/diffs/npm/@prisma%2fengines/2.24.0-3.21e59e9d64a9c78da61a3accf99521bc0680ea55/2.24.0-5.2beb202d1edf364097cece4300649f1f98557d61) | [![age](https://badges.renovateapi.com/packages/npm/@prisma%2fengines/2.24.0-5.2beb202d1edf364097cece4300649f1f98557d61/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@prisma%2fengines/2.24.0-5.2beb202d1edf364097cece4300649f1f98557d61/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@prisma%2fengines/2.24.0-5.2beb202d1edf364097cece4300649f1f98557d61/compatibility-slim/2.24.0-3.21e59e9d64a9c78da61a3accf99521bc0680ea55)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@prisma%2fengines/2.24.0-5.2beb202d1edf364097cece4300649f1f98557d61/confidence-slim/2.24.0-3.21e59e9d64a9c78da61a3accf99521bc0680ea55)](https://docs.renovatebot.com/merge-confidence/) |
| @&#8203;prisma/engines-version | [`2.24.0-3.21e59e9d64a9c78da61a3accf99521bc0680ea55` -> `2.24.0-5.2beb202d1edf364097cece4300649f1f98557d61`](https://renovatebot.com/diffs/npm/@prisma%2fengines-version/2.24.0-3.21e59e9d64a9c78da61a3accf99521bc0680ea55/2.24.0-5.2beb202d1edf364097cece4300649f1f98557d61) | [![age](https://badges.renovateapi.com/packages/npm/@prisma%2fengines-version/2.24.0-5.2beb202d1edf364097cece4300649f1f98557d61/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@prisma%2fengines-version/2.24.0-5.2beb202d1edf364097cece4300649f1f98557d61/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@prisma%2fengines-version/2.24.0-5.2beb202d1edf364097cece4300649f1f98557d61/compatibility-slim/2.24.0-3.21e59e9d64a9c78da61a3accf99521bc0680ea55)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@prisma%2fengines-version/2.24.0-5.2beb202d1edf364097cece4300649f1f98557d61/confidence-slim/2.24.0-3.21e59e9d64a9c78da61a3accf99521bc0680ea55)](https://docs.renovatebot.com/merge-confidence/) |

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Enabled.

♻️ **Rebasing**: Renovate will not automatically rebase this PR, because other commits have been found.

🔕 **Ignore**: Close this PR and you won't be reminded about these updates again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/97b401f_test.yml,../Mining/generated/scripts/prisma/files_src_after/97b401f_test.yml,None,None,None,"@@ -85,123 +85,6 @@ jobs:
       - run: pnpm run lint
         working-directory: ./
 
-  #
-  # INTEGRATION-TESTS
-  #
-  integration-tests:
-    timeout-minutes: 20
-    runs-on: ubuntu-20.04
-    strategy:
-      fail-fast: false
-      matrix:
-        engine: ['napi', 'binary']
-        database:
-          - sqlite
-          - postgres
-          - mysql
-          - mariadb
-          - mssql
-        node: [12]
-
-    steps:
-      - uses: actions/checkout@v2
-
-      - name: Set Engine Type
-        if: ${{ matrix.engine == 'napi' }}
-        run: |
-          echo ""PRISMA_FORCE_NAPI=true"" >> $GITHUB_ENV
-
-      - run: docker-compose -f src/docker/docker-compose.yml up --detach ${{matrix.database}}
-        if: matrix.database != 'sqlite'
-      
-      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v1
-        with:
-          path: ~/.pnpm-store
-          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-
-      - uses: actions/setup-node@v2
-        with:
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
-        if: ${{ matrix.database == 'sqlite' }}
-        working-directory: src/packages/integration-tests
-
-      # temp
-      # - name: Setup tmate session
-      #   uses: mxschmitt/action-tmate@v3
-
-      - run: pnpm run jest integration/${{ matrix.database }} -- --forceExit --maxConcurrency=8
-        working-directory: src/packages/integration-tests
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@localhost:5432
-          TEST_MYSQL_BASE_URI: mysql://root:root@localhost:3306
-          TEST_MARIADB_BASE_URI: mysql://root:root@localhost:4306
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-          TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
-          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-
-      - uses: codecov/codecov-action@v1
-        with:
-          files: ./src/packages/integration-tests/src/__tests__/coverage/clover.xml
-          flags: integration-tests,${{ matrix.database }},${{ matrix.engine }}
-          name: integration-tests-${{ matrix.database }}-${{ matrix.engine }}
-
-  #
-  # CLI-COMMANDS
-  #
-  cli-commands:
-    timeout-minutes: 10
-    runs-on: ${{ matrix.os }}
-
-    strategy:
-      fail-fast: false
-      matrix:
-        os: [ubuntu-20.04] # macos-latest, windows-latest
-        node: [12]
-
-    steps:
-      - uses: actions/checkout@v2
-
-      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v1
-        with:
-          path: ~/.pnpm-store
-          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-
-      - uses: actions/setup-node@v2
-        with:
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - run: pnpm run test
-        working-directory: src/packages/cli
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - uses: codecov/codecov-action@v1
-        with:
-          files: ./src/packages/cli/src/__tests__/coverage/clover.xml
-          flags: cli,${{ matrix.os }}
-          name: cli-${{ matrix.os }}
 
   #
   # CLIENT (without types test)
@@ -305,6 +188,79 @@ jobs:
           flags: client-types,${{ matrix.os }}
           name: client-types-${{ matrix.os }}
 
+  #
+  # INTEGRATION-TESTS
+  #
+  integration-tests:
+    timeout-minutes: 20
+    runs-on: ubuntu-20.04
+    strategy:
+      fail-fast: false
+      matrix:
+        engine: ['napi', 'binary']
+        database:
+          - sqlite
+          - postgres
+          - mysql
+          - mariadb
+          - mssql
+        node: [12]
+
+    steps:
+      - uses: actions/checkout@v2
+
+      - name: Set Engine Type
+        if: ${{ matrix.engine == 'napi' }}
+        run: |
+          echo ""PRISMA_FORCE_NAPI=true"" >> $GITHUB_ENV
+
+      - run: docker-compose -f src/docker/docker-compose.yml up --detach ${{matrix.database}}
+        if: matrix.database != 'sqlite'
+      
+      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
+        uses: actions/cache@v1
+        with:
+          path: ~/.pnpm-store
+          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
+
+      - uses: actions/setup-node@v2
+        with:
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
+        if: ${{ matrix.database == 'sqlite' }}
+        working-directory: src/packages/integration-tests
+
+      # temp
+      # - name: Setup tmate session
+      #   uses: mxschmitt/action-tmate@v3
+
+      - run: pnpm run jest integration/${{ matrix.database }} -- --forceExit --maxConcurrency=8
+        working-directory: src/packages/integration-tests
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@localhost:5432
+          TEST_MYSQL_BASE_URI: mysql://root:root@localhost:3306
+          TEST_MARIADB_BASE_URI: mysql://root:root@localhost:4306
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+          TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
+          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
+
+      - uses: codecov/codecov-action@v1
+        with:
+          files: ./src/packages/integration-tests/src/__tests__/coverage/clover.xml
+          flags: integration-tests,${{ matrix.database }},${{ matrix.engine }}
+          name: integration-tests-${{ matrix.database }}-${{ matrix.engine }}
+
   #
   # SDK
   #
@@ -408,6 +364,52 @@ jobs:
           files: ./src/packages/migrate/src/__tests__/coverage/clover.xml
           flags: migrate,${{ matrix.os }}
           name: migrate-${{ matrix.os }}
+
+  #
+  # CLI-COMMANDS
+  #
+  cli-commands:
+    timeout-minutes: 10
+    runs-on: ${{ matrix.os }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        os: [ubuntu-20.04] # macos-latest, windows-latest
+        node: [12]
+
+    steps:
+      - uses: actions/checkout@v2
+
+      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
+        uses: actions/cache@v1
+        with:
+          path: ~/.pnpm-store
+          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
+
+      - uses: actions/setup-node@v2
+        with:
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run test
+        working-directory: src/packages/cli
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v1
+        with:
+          files: ./src/packages/cli/src/__tests__/coverage/clover.xml
+          flags: cli,${{ matrix.os }}
+          name: cli-${{ matrix.os }}
+
   #
   # All the other packages!
   #
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,7cd01c4125e6334913959db360521b128204af87,4b75bff702e6247428e4f457c19b78452468507a,2021-05-21 16:20:03+02:00,ci: remove Node 10 testing in Buildkite (#7204),4,2.24.0,test.yml,MODIFY,1,1,,7204,Jolg42,User,MEMBER,Jolg42,User,2021-05-21T14:07:53Z,2021-05-21T14:20:04Z,closed,,,,Node 10 support is not dropped yet but CI will not test it anymore (only e2e tests),../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/7cd01c4_test.yml,../Mining/generated/scripts/prisma/files_src_after/7cd01c4_test.yml,None,None,None,"@@ -126,7 +126,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm run test -- --testPathIgnorePatterns src/__tests__/types/types.test.ts
+      - run: pnpm run test -- --testPathIgnorePatterns src/__tests__/types/types.test.ts --verbose
         working-directory: src/packages/client
         env:
           CI: true
",True,False,False,True,False,True,False
prisma,William Luke,User,william@atto-byte.com,GitHub,User,noreply@github.com,e242a627390c70d9ca98412fb408a5e7231d2644,93d1ad60530518624206ec3ff29def4bdf1a97f9,2021-05-28 17:44:12+03:00,"feat(client,sdk): add napi engineCommands (#7152)",46,2.24.0,test.yml,MODIFY,19,1,,7152,williamluke4,User,CONTRIBUTOR,williamluke4,User,2021-05-19T07:42:57Z,2021-05-28T14:44:12Z,closed,,,,"[Engines PR](https://github.com/prisma/prisma-engines/pull/1929) - **Merged**
[Issue](https://github.com/prisma/prisma-engines/issues/1926)",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/e242a62_test.yml,../Mining/generated/scripts/prisma/files_src_after/e242a62_test.yml,0.5391705069124424,1.0,1.0,"@@ -271,12 +271,18 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
+        engine: ['napi', 'binary']
         os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
     steps:
       - uses: actions/checkout@v2
-
+      
+      - name: Set Engine Type
+        if: ${{ matrix.engine == 'napi' }}
+        run: |
+          echo ""PRISMA_FORCE_NAPI=true"" >> $GITHUB_ENV
+      
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
         uses: actions/cache@v1
         with:
@@ -316,6 +322,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
+        engine: ['napi', 'binary']
         os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
@@ -323,6 +330,11 @@ jobs:
       - uses: actions/checkout@v2
 
       - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres mysql mssql
+      
+      - name: Set Engine Type
+        if: ${{ matrix.engine == 'napi' }}
+        run: |
+          echo ""PRISMA_FORCE_NAPI=true"" >> $GITHUB_ENV
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
         uses: actions/cache@v1
@@ -375,11 +387,17 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
+        engine: ['napi', 'binary']
         os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
     steps:
       - uses: actions/checkout@v2
+      
+      - name: Set Engine Type
+        if: ${{ matrix.engine == 'napi' }}
+        run: |
+          echo ""PRISMA_FORCE_NAPI=true"" >> $GITHUB_ENV
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
         uses: actions/cache@v1
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,98ae5a095afb50e0d72fd0fd6db3aafb153403f1,73cdb1f2e552075506f02a9633f0a37df920c415,2021-06-08 10:04:22+02:00,ci: use get-changed-files for GitHub Actions CI (#6612),2,2.25.0,test.yml,MODIFY,38,0,,6612,Jolg42,User,MEMBER,Jolg42,User,2021-04-16T09:35:12Z,2021-06-08T08:04:23Z,closed,,,,"How does this work?

It checks which files changed and based on some conditions runs tests.

If the path for *all* files changed matches:
- startsWith(""src/packages/cli"") => we only run CLI job
- startsWith(""src/packages/client"") => we only run CLI, client, integrations-tests jobs
- startsWith(""src/packages/integration-tests"") => we only run integrations-tests job
- startsWith(""src/packages/migrate"") => we only run migrate, CLI jobs
- else: we run all",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/98ae5a0_test.yml,../Mining/generated/scripts/prisma/files_src_after/98ae5a0_test.yml,0.3157894736842105,1.0,1.0,"@@ -45,6 +45,21 @@ env:
   PRISMA_TELEMETRY_INFORMATION: 'prisma test.yml'
 
 jobs:
+  detect_jobs_to_run:
+    name: Detect jobs to run
+    runs-on: ubuntu-latest
+    outputs:
+      jobs: ${{ steps.detect.outputs.jobs }}
+    steps:
+      - id: checkout
+        uses: actions/checkout@v2        
+      - id: files
+        uses: jitterbit/get-changed-files@v1
+        with:
+          format: 'json'
+      - id: detect
+        run: ./.github/workflows/detect-jobs-to-run.js <<<'${{ steps.files.outputs.all }}'
+
   # From https://github.com/marketplace/actions/skip-duplicate-actions
   # This action cleans up previously running instances of a workflow on the same branch.
   # This accomplishes the task of automatically cancelling CI runs on pushes to the same branch,
@@ -93,6 +108,9 @@ jobs:
     timeout-minutes: 20
     runs-on: ${{ matrix.os }}
 
+    needs: detect_jobs_to_run
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
+
     strategy:
       fail-fast: false
       matrix:
@@ -151,6 +169,10 @@ jobs:
   client-types:
     timeout-minutes: 10
     runs-on: ubuntu-20.04
+
+    needs: detect_jobs_to_run
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
+
     strategy:
       fail-fast: false
       matrix:
@@ -194,6 +216,10 @@ jobs:
   integration-tests:
     timeout-minutes: 20
     runs-on: ubuntu-20.04
+
+    needs: detect_jobs_to_run
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-integration-tests-') }}
+
     strategy:
       fail-fast: false
       matrix:
@@ -268,6 +294,9 @@ jobs:
     timeout-minutes: 5
     runs-on: ${{ matrix.os }}
 
+    needs: detect_jobs_to_run
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
+
     strategy:
       fail-fast: false
       matrix:
@@ -319,6 +348,9 @@ jobs:
     timeout-minutes: 7
     runs-on: ${{ matrix.os }}
 
+    needs: detect_jobs_to_run
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') }}
+
     strategy:
       fail-fast: false
       matrix:
@@ -384,6 +416,9 @@ jobs:
     timeout-minutes: 10
     runs-on: ${{ matrix.os }}
 
+    needs: detect_jobs_to_run
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-') }}
+
     strategy:
       fail-fast: false
       matrix:
@@ -435,6 +470,9 @@ jobs:
     timeout-minutes: 10
     runs-on: ${{ matrix.os }}
 
+    needs: detect_jobs_to_run
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
+
     strategy:
       fail-fast: false
       matrix:
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,f61657a07607ec36e4c99a53f7afc5854efd2f27,ad8f073b83ddd9fd6a57c01fa7ac16d75a69f0a7,2021-06-26 15:36:36+03:00,"fix(deps): update engines to v2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3 (#7878)

Co-authored-by: Renovate Bot <bot@renovateapp.com>
Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>
Co-authored-by: William Luke <william@ordino.ai>",18,,test.yml,MODIFY,1,1,,7878,renovate[bot],Bot,CONTRIBUTOR,williamluke4,User,2021-06-25T18:45:53Z,2021-06-26T12:36:36Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Change | Age | Adoption | Passing | Confidence |
|---|---|---|---|---|---|
| @&#8203;prisma/engines | [`2.26.0-18.620abf20a267ca4e68a663d27776f14b67f1ea71` -> `2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3`](https://renovatebot.com/diffs/npm/@prisma%2fengines/2.26.0-18.620abf20a267ca4e68a663d27776f14b67f1ea71/2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3) | [![age](https://badges.renovateapi.com/packages/npm/@prisma%2fengines/2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@prisma%2fengines/2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@prisma%2fengines/2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/compatibility-slim/2.26.0-18.620abf20a267ca4e68a663d27776f14b67f1ea71)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@prisma%2fengines/2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/confidence-slim/2.26.0-18.620abf20a267ca4e68a663d27776f14b67f1ea71)](https://docs.renovatebot.com/merge-confidence/) |
| @&#8203;prisma/engines-version | [`2.26.0-18.620abf20a267ca4e68a663d27776f14b67f1ea71` -> `2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3`](https://renovatebot.com/diffs/npm/@prisma%2fengines-version/2.26.0-18.620abf20a267ca4e68a663d27776f14b67f1ea71/2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3) | [![age](https://badges.renovateapi.com/packages/npm/@prisma%2fengines-version/2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@prisma%2fengines-version/2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@prisma%2fengines-version/2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/compatibility-slim/2.26.0-18.620abf20a267ca4e68a663d27776f14b67f1ea71)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@prisma%2fengines-version/2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/confidence-slim/2.26.0-18.620abf20a267ca4e68a663d27776f14b67f1ea71)](https://docs.renovatebot.com/merge-confidence/) |

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled due to failing status checks.

♻ **Rebasing**: Renovate will not automatically rebase this PR, because other commits have been found.

🔕 **Ignore**: Close this PR and you won't be reminded about these updates again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/f61657a_test.yml,../Mining/generated/scripts/prisma/files_src_after/f61657a_test.yml,1.0,1.0,0.0,"@@ -424,7 +424,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        engine: ['napi', 'binary']
+        engine: ['binary']
         os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c8b882573ed9fe9a7b2affbb9b3bc8aa71955bb6,f61657a07607ec36e4c99a53f7afc5854efd2f27,2021-06-26 16:52:35+03:00,"fix(deps): update engines to v2.26.0-20.e6bd3dc12d849124a04c3a8e6bd9c194381afda3 (#7883)

Co-authored-by: Renovate Bot <bot@renovateapp.com>
Co-authored-by: William Luke <william@ordino.ai>",9,,test.yml,MODIFY,1,1,,7883,renovate[bot],Bot,CONTRIBUTOR,williamluke4,User,2021-06-26T13:41:01Z,2021-06-26T13:52:35Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Change | Age | Adoption | Passing | Confidence |
|---|---|---|---|---|---|
| @&#8203;prisma/engines | [`2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3` -> `2.26.0-20.e6bd3dc12d849124a04c3a8e6bd9c194381afda3`](https://renovatebot.com/diffs/npm/@prisma%2fengines/2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/2.26.0-20.e6bd3dc12d849124a04c3a8e6bd9c194381afda3) | [![age](https://badges.renovateapi.com/packages/npm/@prisma%2fengines/2.26.0-20.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@prisma%2fengines/2.26.0-20.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@prisma%2fengines/2.26.0-20.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/compatibility-slim/2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@prisma%2fengines/2.26.0-20.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/confidence-slim/2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3)](https://docs.renovatebot.com/merge-confidence/) |
| @&#8203;prisma/engines-version | [`2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3` -> `2.26.0-20.e6bd3dc12d849124a04c3a8e6bd9c194381afda3`](https://renovatebot.com/diffs/npm/@prisma%2fengines-version/2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/2.26.0-20.e6bd3dc12d849124a04c3a8e6bd9c194381afda3) | [![age](https://badges.renovateapi.com/packages/npm/@prisma%2fengines-version/2.26.0-20.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@prisma%2fengines-version/2.26.0-20.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@prisma%2fengines-version/2.26.0-20.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/compatibility-slim/2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@prisma%2fengines-version/2.26.0-20.e6bd3dc12d849124a04c3a8e6bd9c194381afda3/confidence-slim/2.26.0-19.e6bd3dc12d849124a04c3a8e6bd9c194381afda3)](https://docs.renovatebot.com/merge-confidence/) |

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Enabled.

♻ **Rebasing**: Renovate will not automatically rebase this PR, because other commits have been found.

🔕 **Ignore**: Close this PR and you won't be reminded about these updates again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/c8b8825_test.yml,../Mining/generated/scripts/prisma/files_src_after/c8b8825_test.yml,None,None,None,"@@ -424,7 +424,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        engine: ['binary']
+        engine: ['napi', 'binary']
         os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
",True,False,False,True,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,16ada7102ec88caf2d5f4ac32937b162aac31f24,efa900af0ab27f8fa2bb1cc3d8f44f91c14ff75d,2021-06-29 16:55:15+02:00,"chore(ci): stale only after 90 days instead of 60 (#7929)

[skip ci]",1,2.27.0,label-stale-issues.yml,MODIFY,1,1,,7929,janpio,User,MEMBER,Jolg42,User,2021-06-29T13:26:33Z,2021-06-29T14:55:16Z,closed,,,,Once per quarter is enough I think.,../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/16ada71_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/16ada71_label-stale-issues.yml,None,None,None,"@@ -12,7 +12,7 @@ jobs:
         with:
           repo-token: ${{ secrets.GITHUB_TOKEN }}
           stale-issue-message: ""DUMMY, FOR ENABLING""
-          days-before-stale: 60
+          days-before-stale: 90
           days-before-close: -1
           exempt-issue-labels: ""kind/discussion,kind/docs,kind/feature,kind/improvement,kind/question""
           stale-issue-label: ""status/needs-action""
",False,False,False,False,False,False,True
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,d3e25a2aa44c60401421606ffa31b371c5f24e12,060df190de31a3d829736f0afca1b6b504234f26,2021-07-01 14:11:19+02:00,"ci: action for updating engines via workflow dispatch (#7640)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>
Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>",1,2.27.0,update-engines-version.yml,ADD,73,0,,7640,pantharshit00,User,CONTRIBUTOR,Jolg42,User,2021-06-14T10:11:57Z,2021-07-01T12:11:19Z,closed,,,,"This PR adds a new github action which updates the engines via the input received from a workflow dispatch. It also ensures that the tag provided is available on npm.

Example PR: https://github.com/pantharshit00/prisma-1/pull/1
Example Run: https://github.com/pantharshit00/prisma-1/actions/runs/935462151

TODO:
 - [x] Test run on a fork
 - [x] Action for automatically merging PRs when all tests pass starting with a specific title which will be used by the first action
 - [x] ~Acquire secrets for Prisma Bot so that commit is always made by the bot account~. GitHub actions bot is fine. 
 ",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/d3e25a2_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/d3e25a2_update-engines-version.yml,None,None,None,"@@ -0,0 +1,73 @@
+name: Update Engines Version
+on:
+  workflow_dispatch:
+    inputs:
+      version:
+        description: ""Version to check and update the engines version""
+        required: true
+
+jobs:
+  update_engines:
+    name: ""Check and update @prisma/engines@${{ github.event.inputs.version }}""
+    runs-on: ubuntu-latest
+    steps:
+      - uses: actions/checkout@v2
+
+      - name: Use Node.js
+        uses: actions/setup-node@v2
+
+      - uses: pnpm/action-setup@v2.0.1
+        with:
+          version: 6.9.1 
+          
+      # This step uses `@prisma/ensure-npm-release` (abbv. `enr`) https://github.com/prisma/ensure-npm-release
+      - name: Check if version is available on npm
+        run: |
+          echo 'Checking @prisma/engines@${{ github.event.inputs.version }} (and @prisma/engines-version)'
+          pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/engines -u ${{ github.event.inputs.version }}
+          pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/engines-version -u ${{ github.event.inputs.version }}
+          echo 'Awesome - proceeding to make the PR'
+       
+      - name: Update the engines dependencies
+        run: |
+          echo 'Updating @prisma/engines and @prisma/engines-version to ${{ github.event.inputs.version }} using pnpm'
+          cd src
+          pnpm update -r @prisma/engines@${{ github.event.inputs.version }} @prisma/engines-version@${{ github.event.inputs.version  }}
+
+      - name: Create Pull Request
+        id: cpr
+        uses: peter-evans/create-pull-request@v3
+        with:
+          commit-message: ""fix(deps): update engines to ${{ github.event.inputs.version }}""
+          branch: deps/engines
+          delete-branch: true
+          title: ""fix(deps): update engines to ${{ github.event.inputs.version }}""
+          body: |
+            This automatic PR updates the engines to version `${{  github.event.inputs.version }}`. This will get automatically merged if all the tests pass.
+            ## Packages:
+            | Package | NPM URL |
+            |---------|---------|
+            |`@prisma/engines`| https://npmjs.com/package/@prisma/engines/v/${{ github.event.inputs.version }}|
+            |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{  github.event.inputs.version }}|
+
+      - name: PR url
+        run: |
+          echo ""Pull Request URL - ${{ steps.cpr.outputs.pull-request-url }}""
+        
+      - name: Enable Pull Request Automerge
+        if: steps.cpr.outputs.pull-request-operation == 'created'
+        uses: peter-evans/enable-pull-request-automerge@v1
+        with:
+          token: ${{ secrets.BOT_TOKEN }}
+          pull-request-number: ${{ steps.cpr.outputs.pull-request-number }}
+          merge-method: squash
+
+      - name: Auto approve Pull Request (to trigger automerge if tests passing)
+        if: steps.cpr.outputs.pull-request-operation == 'created'
+        uses: juliangruber/approve-pull-request-action@v1
+        with:
+          github-token: ${{ secrets.BOT_TOKEN }}
+          number: ${{ steps.cpr.outputs.pull-request-number }}
+
+
+        
",False,False,False,False,False,True,True
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,e9a2fbfa4d9500ad3991f4546b855fefd1d1c176,f8d04bfa91fdcddf2235e903bf3c1a2d79192dc5,2021-07-01 23:15:13+02:00,ci: switch to mergery (#7983),1,2.27.0,update-engines-version.yml,MODIFY,8,11,,7983,pantharshit00,User,CONTRIBUTOR,janpio,User,2021-07-01T17:32:24Z,2021-07-01T21:15:13Z,closed,,,,"Action now uses Prismo(our bot account) to author PRs so that other github actions can run on that PR.

Also, it will create a new PR per engine version now. 


We are now switching to mergery: https://github.com/apps/mergery as github's built in auto merge doesn't wait for all the checks and only waits for required checks. ",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/e9a2fbf_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/e9a2fbf_update-engines-version.yml,None,None,None,"@@ -38,9 +38,13 @@ jobs:
         id: cpr
         uses: peter-evans/create-pull-request@v3
         with:
+          token: ${{ secrets.BOT_TOKEN }}
           commit-message: ""fix(deps): update engines to ${{ github.event.inputs.version }}""
-          branch: deps/engines
+          committer: ""Prismo <prismabots@gmail.com>""
+          author: ""Prismo <prismabots@gmail.com>""
+          branch: deps/engines-${{ github.event.inputs.version }}
           delete-branch: true
+          labels: automerge
           title: ""fix(deps): update engines to ${{ github.event.inputs.version }}""
           body: |
             This automatic PR updates the engines to version `${{  github.event.inputs.version }}`. This will get automatically merged if all the tests pass.
@@ -54,13 +58,9 @@ jobs:
         run: |
           echo ""Pull Request URL - ${{ steps.cpr.outputs.pull-request-url }}""
         
-      - name: Enable Pull Request Automerge
-        if: steps.cpr.outputs.pull-request-operation == 'created'
-        uses: peter-evans/enable-pull-request-automerge@v1
-        with:
-          token: ${{ secrets.BOT_TOKEN }}
-          pull-request-number: ${{ steps.cpr.outputs.pull-request-number }}
-          merge-method: squash
+      - name: Sleep for 5 seconds 
+        run: sleep 5s
+        shell: bash
 
       - name: Auto approve Pull Request (to trigger automerge if tests passing)
         if: steps.cpr.outputs.pull-request-operation == 'created'
@@ -68,6 +68,3 @@ jobs:
         with:
           github-token: ${{ secrets.BOT_TOKEN }}
           number: ${{ steps.cpr.outputs.pull-request-number }}
-
-
-        
",True,False,False,False,False,True,True
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,54472a908e8d7a041fad7f01dc6f106848992e0b,3ac0d76b52428bd70ab2ac0f2aff984102abcbc6,2021-07-02 08:53:52+02:00,ci: use github's secret instead of bot token for approval (#7993),1,,update-engines-version.yml,MODIFY,1,1,,7993,pantharshit00,User,CONTRIBUTOR,janpio,User,2021-07-02T06:46:43Z,2021-07-02T06:53:53Z,closed,,,,"Since, bot can't approve its own PR we need to change the token here. ",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/54472a9_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/54472a9_update-engines-version.yml,None,None,None,"@@ -66,5 +66,5 @@ jobs:
         if: steps.cpr.outputs.pull-request-operation == 'created'
         uses: juliangruber/approve-pull-request-action@v1
         with:
-          github-token: ${{ secrets.BOT_TOKEN }}
+          github-token: ${{ secrets.GITHUB_SECRET }}
           number: ${{ steps.cpr.outputs.pull-request-number }}
",True,False,False,False,False,True,True
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,336dd0a398d681c181cef87eb23a20ed6850dee5,54472a908e8d7a041fad7f01dc6f106848992e0b,2021-07-02 12:33:27+05:18,ci: fix typo in token name (#7995),1,,update-engines-version.yml,MODIFY,1,1,,7995,pantharshit00,User,CONTRIBUTOR,pantharshit00,User,2021-07-02T07:11:10Z,2021-07-02T07:15:27Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/336dd0a_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/336dd0a_update-engines-version.yml,None,None,None,"@@ -66,5 +66,5 @@ jobs:
         if: steps.cpr.outputs.pull-request-operation == 'created'
         uses: juliangruber/approve-pull-request-action@v1
         with:
-          github-token: ${{ secrets.GITHUB_SECRET }}
+          github-token: ${{ secrets.GITHUB_TOKEN }}
           number: ${{ steps.cpr.outputs.pull-request-number }}
",True,False,False,False,False,True,True
prisma,William Luke,User,william@atto-byte.com,GitHub,User,noreply@github.com,22a7db5ba2e4c49fed7c181d82d8047bf67d0a22,30773b7ca34f104b2dc50581cf5e1046cbd27bf1,2021-07-05 11:36:00+03:00,refactor: remove get-platform and fetch-engine (#8011),58,2.27.0,test.yml,MODIFY,0,28,,8011,williamluke4,User,CONTRIBUTOR,williamluke4,User,2021-07-02T12:34:22Z,2021-07-05T08:36:00Z,closed,,,,"These packages will be moved to the engines-wrapper
- https://github.com/prisma/engines-wrapper/pull/78",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/22a7db5_test.yml,../Mining/generated/scripts/prisma/files_src_after/22a7db5_test.yml,0.7133808392715756,0.18844022169437846,0.10768012668250197,"@@ -528,20 +528,6 @@ jobs:
           flags: engine-core,${{ matrix.os }}
           name: engine-core-${{ matrix.os }}
 
-      - run: pnpm run test
-        name: 'fetch-engine'
-        working-directory: src/packages/fetch-engine
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - uses: codecov/codecov-action@v1
-        with:
-          files: ./src/packages/fetch-engine/src/__tests__/coverage/clover.xml
-          flags: fetch-engine,${{ matrix.os }}
-          name: fetch-engine-${{ matrix.os }}
-
       - run: pnpm run test
         name: 'generator-helper'
         working-directory: src/packages/generator-helper
@@ -555,17 +541,3 @@ jobs:
           files: ./src/packages/generator-helper/src/__tests__/coverage/clover.xml
           flags: generator-helper,${{ matrix.os }}
           name: generator-helper-${{ matrix.os }}
-
-      - run: pnpm run test
-        name: 'get-platform'
-        working-directory: src/packages/get-platform
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - uses: codecov/codecov-action@v1
-        with:
-          files: ./src/packages/get-platform/src/__tests__/coverage/clover.xml
-          flags: get-platform,${{ matrix.os }}
-          name: get-platform-${{ matrix.os }}
",True,False,False,True,False,True,False
prisma,William Luke,User,william@atto-byte.com,GitHub,User,noreply@github.com,01e8d0bf5c7ae8b6ab244d5d4d1a1fda1475dce9,22a7db5ba2e4c49fed7c181d82d8047bf67d0a22,2021-07-05 12:12:47+03:00,fix: add `fetch-engine` and `get-platform` to update-engines-version (#8072),2,2.27.0,update-engines-version.yml,MODIFY,7,3,,8072,williamluke4,User,CONTRIBUTOR,williamluke4,User,2021-07-05T09:00:49Z,2021-07-05T09:12:48Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/01e8d0b_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/01e8d0b_update-engines-version.yml,None,None,None,"@@ -23,16 +23,18 @@ jobs:
       # This step uses `@prisma/ensure-npm-release` (abbv. `enr`) https://github.com/prisma/ensure-npm-release
       - name: Check if version is available on npm
         run: |
-          echo 'Checking @prisma/engines@${{ github.event.inputs.version }} (and @prisma/engines-version)'
+          echo 'Checking that all packages [@prisma/engines, @prisma/engines-version, @prisma/fetch-engine, @prisma/get-platform] have the published version @${{ github.event.inputs.version }}'
           pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/engines -u ${{ github.event.inputs.version }}
           pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/engines-version -u ${{ github.event.inputs.version }}
+          pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/fetch-engine -u ${{ github.event.inputs.version }}
+          pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/get-platform -u ${{ github.event.inputs.version }}
           echo 'Awesome - proceeding to make the PR'
        
       - name: Update the engines dependencies
         run: |
-          echo 'Updating @prisma/engines and @prisma/engines-version to ${{ github.event.inputs.version }} using pnpm'
+          echo 'Updating @prisma/engines, @prisma/engines-version, @prisma/fetch-engine and @prisma/get-platform to ${{ github.event.inputs.version }} using pnpm'
           cd src
-          pnpm update -r @prisma/engines@${{ github.event.inputs.version }} @prisma/engines-version@${{ github.event.inputs.version  }}
+          pnpm update -r @prisma/engines@${{ github.event.inputs.version }} @prisma/engines-version@${{ github.event.inputs.version  }} @prisma/fetch-engine@${{ github.event.inputs.version  }} @prisma/get-platform@${{ github.event.inputs.version  }}
 
       - name: Create Pull Request
         id: cpr
@@ -53,6 +55,8 @@ jobs:
             |---------|---------|
             |`@prisma/engines`| https://npmjs.com/package/@prisma/engines/v/${{ github.event.inputs.version }}|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{  github.event.inputs.version }}|
+            |`@prisma/fetch-engine`| https://npmjs.com/package/@prisma/fetch-engine/v/${{  github.event.inputs.version }}|
+            |`@prisma/get-platform`| https://npmjs.com/package/@prisma/get-platform/v/${{  github.event.inputs.version }}|
 
       - name: PR url
         run: |
",True,False,False,False,False,True,True
prisma,Pierre-Antoine Mills,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,50c6d1ca0f69f9b344910c2c22fac748f064e084,438b7c0c1c6822b62086e85031ae72ed6c21c019,2021-07-07 18:14:05+02:00,"test(client,sdk,integration-tests): remove --forceExit (#7990)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",7,2.27.0,test.yml,MODIFY,1,1,,7990,millsp,User,MEMBER,Jolg42,User,2021-07-02T00:52:02Z,2021-07-07T16:14:06Z,closed,topic: tests,millsp,User,"Figuring why tests are blocking jest from finishing:

- [ ] migrate
- [ ] E2E
- [x] sdk
- [x] client
- [x] integration-tests
- [x] workflows

https://sourcegraph.com/search?q=context:global+repo:%5Egithub%5C.com/prisma/e2e-tests%24+forceExit&patternType=literal
https://sourcegraph.com/search?q=context:global+repo:github.com/prisma/prisma+--forceExit+count:1000&patternType=literal

Partially fulfills https://github.com/prisma/prisma/issues/7795",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/50c6d1c_test.yml,../Mining/generated/scripts/prisma/files_src_after/50c6d1c_test.yml,0.0,None,None,"@@ -269,7 +269,7 @@ jobs:
       # - name: Setup tmate session
       #   uses: mxschmitt/action-tmate@v3
 
-      - run: pnpm run jest integration/${{ matrix.database }} -- --forceExit --maxConcurrency=8
+      - run: pnpm run jest integration/${{ matrix.database }} -- --maxConcurrency=8
         working-directory: src/packages/integration-tests
         env:
           CI: true
",True,False,False,True,False,True,False
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,64752063971ae6f3ab4a928092b3b732473a3101,e0b009f5847c2023e4a13aad3b07b1a0ea2b6826,2021-07-12 01:49:13+02:00,ci: add new kind labels to stale action exclusion list (#8227),1,2.27.0,label-stale-issues.yml,MODIFY,1,1,,8227,pantharshit00,User,CONTRIBUTOR,janpio,User,2021-07-11T21:19:21Z,2021-07-11T23:49:14Z,closed,,,,We added few new labels for dealing with epics. They can't really get stale so this PR adds them to the stable bot exclusion list. ,../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/6475206_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/6475206_label-stale-issues.yml,None,None,None,"@@ -14,7 +14,7 @@ jobs:
           stale-issue-message: ""DUMMY, FOR ENABLING""
           days-before-stale: 90
           days-before-close: -1
-          exempt-issue-labels: ""kind/discussion,kind/docs,kind/feature,kind/improvement,kind/question""
+          exempt-issue-labels: ""kind/discussion,kind/docs,kind/feature,kind/improvement,kind/question,kind/epic,kind/subtask""
           stale-issue-label: ""status/needs-action""
           skip-stale-issue-message: true
           skip-stale-pr-message: true
",False,False,False,False,False,False,True
prisma,Luca Steeb,User,contact@luca-steeb.com,GitHub,User,noreply@github.com,1a0c0e7ae7da957554fee663d583c2774cf4e5d4,595b441695d8fc743acd0265c724f86bac0b0eb4,2021-07-16 20:35:13+05:18,ci(update-engines): use chore as commit type (#8316),1,2.28.0,update-engines-version.yml,MODIFY,2,2,,8316,steebchen,User,CONTRIBUTOR,pantharshit00,User,2021-07-16T14:55:02Z,2021-07-16T15:17:14Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/1a0c0e7_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/1a0c0e7_update-engines-version.yml,None,None,None,"@@ -41,13 +41,13 @@ jobs:
         uses: peter-evans/create-pull-request@v3
         with:
           token: ${{ secrets.BOT_TOKEN }}
-          commit-message: ""fix(deps): update engines to ${{ github.event.inputs.version }}""
+          commit-message: ""chore(deps): update engines to ${{ github.event.inputs.version }}""
           committer: ""Prismo <prismabots@gmail.com>""
           author: ""Prismo <prismabots@gmail.com>""
           branch: deps/engines-${{ github.event.inputs.version }}
           delete-branch: true
           labels: automerge
-          title: ""fix(deps): update engines to ${{ github.event.inputs.version }}""
+          title: ""chore(deps): update engines to ${{ github.event.inputs.version }}""
           body: |
             This automatic PR updates the engines to version `${{  github.event.inputs.version }}`. This will get automatically merged if all the tests pass.
             ## Packages:
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,4ff005106d3f4cb0ae6f065d9dc27b6712df8bea,9302f39567ea67c7defee8211921080afb3dceae,2021-07-26 11:20:16+02:00,"chore(deps): update codecov-action action to v2 [skip ci] (#8352)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",1,,test.yml,MODIFY,9,9,,8352,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2021-07-19T15:01:27Z,2021-07-26T09:20:17Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [codecov/codecov-action](https://togithub.com/codecov/codecov-action) | action | major | `v1` -> `v2` |

---

### Release Notes

<details>
<summary>codecov/codecov-action</summary>

### [`v2`](https://togithub.com/codecov/codecov-action/compare/v1...v2)

[Compare Source](https://togithub.com/codecov/codecov-action/compare/v1...v2)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/4ff0051_test.yml,../Mining/generated/scripts/prisma/files_src_after/4ff0051_test.yml,None,None,None,"@@ -159,7 +159,7 @@ jobs:
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
           TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT
 
-      - uses: codecov/codecov-action@v1
+      - uses: codecov/codecov-action@v2
         with:
           files: ./src/packages/client/src/__tests__/coverage/clover.xml
           flags: client,${{ matrix.os }}
@@ -206,7 +206,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - uses: codecov/codecov-action@v1
+      - uses: codecov/codecov-action@v2
         with:
           files: ./src/packages/client/src/__tests__/coverage/clover.xml
           flags: client-types,${{ matrix.os }}
@@ -283,7 +283,7 @@ jobs:
           TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
 
-      - uses: codecov/codecov-action@v1
+      - uses: codecov/codecov-action@v2
         with:
           files: ./src/packages/integration-tests/src/__tests__/coverage/clover.xml
           flags: integration-tests,${{ matrix.database }},${{ matrix.engine }}
@@ -337,7 +337,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - uses: codecov/codecov-action@v1
+      - uses: codecov/codecov-action@v2
         with:
           files: ./src/packages/sdk/src/__tests__/coverage/clover.xml
           flags: sdk,${{ matrix.os }}
@@ -405,7 +405,7 @@ jobs:
           TEST_MSSQL_JDBC_URI_MIGRATE: ""sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT""
           TEST_MSSQL_SHADOWDB_JDBC_URI_MIGRATE: ""sqlserver://localhost:1433;database=tests-migrate-shadowdb;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT""
 
-      - uses: codecov/codecov-action@v1
+      - uses: codecov/codecov-action@v2
         with:
           files: ./src/packages/migrate/src/__tests__/coverage/clover.xml
           flags: migrate,${{ matrix.os }}
@@ -459,7 +459,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - uses: codecov/codecov-action@v1
+      - uses: codecov/codecov-action@v2
         with:
           files: ./src/packages/cli/src/__tests__/coverage/clover.xml
           flags: cli,${{ matrix.os }}
@@ -508,7 +508,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - uses: codecov/codecov-action@v1
+      - uses: codecov/codecov-action@v2
         with:
           files: ./src/packages/debug/src/__tests__/coverage/clover.xml
           flags: debug,${{ matrix.os }}
@@ -522,7 +522,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - uses: codecov/codecov-action@v1
+      - uses: codecov/codecov-action@v2
         with:
           files: ./src/packages/engine-core/src/__tests__/coverage/clover.xml
           flags: engine-core,${{ matrix.os }}
@@ -536,7 +536,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - uses: codecov/codecov-action@v1
+      - uses: codecov/codecov-action@v2
         with:
           files: ./src/packages/generator-helper/src/__tests__/coverage/clover.xml
           flags: generator-helper,${{ matrix.os }}
",True,False,False,True,False,True,False
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,f06f679848a9e45a8e101e2399b25efb4b97aaa0,98ccbcfe67c92fe6ff2df1143575e3dc911c285b,2021-07-30 15:43:46+05:18,ci: create action for studio updates (#8502),1,2.29.0,update-studio-version.yml,ADD,69,0,,8502,pantharshit00,User,CONTRIBUTOR,pantharshit00,User,2021-07-30T10:16:59Z,2021-07-30T10:25:46Z,closed,,,,"Similar to https://github.com/prisma/prisma/pull/7640, this PR adds an action for updating `@prisma/studio-server` using workflow dispatch.",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/f06f679_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/f06f679_update-studio-version.yml,None,None,None,"@@ -0,0 +1,69 @@
+
+name: update-studio-version
+on:
+  workflow_dispatch:
+    inputs:
+      version:
+        description: ""Version to check and update the studio version""
+        required: true
+
+jobs:
+  update_studio:
+    name: ""Check and update @prisma/studio-server@${{ github.event.inputs.version }}""
+    runs-on: ubuntu-latest
+    steps:
+      - uses: actions/checkout@v2
+
+      - name: Use Node.js
+        uses: actions/setup-node@v2
+
+      - uses: pnpm/action-setup@v2.0.1
+        with:
+          version: 6.9.1 
+          
+      # This step uses `@prisma/ensure-npm-release` (abbv. `enr`) https://github.com/prisma/ensure-npm-release
+      - name: Check if version is available on npm
+        run: |
+          echo 'Checking that package @prisma/studio-server have the published version @${{ github.event.inputs.version }}'
+          pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/studio-server -u ${{ github.event.inputs.version }}
+          echo 'Awesome - proceeding to make the PR'
+       
+      - name: Update the studio dependencies
+        run: |
+          echo 'Updating @prisma/studio-server to ${{ github.event.inputs.version }} using pnpm'
+          cd src
+          pnpm update -r @prisma/studio-server@${{ github.event.inputs.version }}
+
+      - name: Create Pull Request
+        id: cpr
+        uses: peter-evans/create-pull-request@v3
+        with:
+          token: ${{ secrets.BOT_TOKEN }}
+          commit-message: ""chore(deps): update studio to ${{ github.event.inputs.version }}""
+          committer: ""Prismo <prismabots@gmail.com>""
+          author: ""Prismo <prismabots@gmail.com>""
+          branch: deps/studio${{ github.event.inputs.version }}
+          delete-branch: true
+          labels: automerge
+          title: ""chore(deps): update studio to ${{ github.event.inputs.version }}""
+          body: |
+            This automatic PR updates the studio to version `${{  github.event.inputs.version }}`. This will get automatically merged if all the tests pass.
+            ## Packages:
+            | Package | NPM URL |
+            |---------|---------|
+            |`@prisma/studio-server`| https://npmjs.com/package/@prisma/studio-server/v/${{ github.event.inputs.version }}|
+
+      - name: PR url
+        run: |
+          echo ""Pull Request URL - ${{ steps.cpr.outputs.pull-request-url }}""
+        
+      - name: Sleep for 5 seconds 
+        run: sleep 5s
+        shell: bash
+
+      - name: Auto approve Pull Request (to trigger automerge if tests passing)
+        if: steps.cpr.outputs.pull-request-operation == 'created'
+        uses: juliangruber/approve-pull-request-action@v1
+        with:
+          github-token: ${{ secrets.GITHUB_TOKEN }}
+          number: ${{ steps.cpr.outputs.pull-request-number }}
",True,False,False,False,False,True,True
prisma,Harshit Pant,User,pantharshit00@gmail.com,GitHub,User,noreply@github.com,990e7aba6193ed6a2b00f9431051b89fe2191a82,e024310709f9dd9f764e0e7aa8553405c2874092,2021-07-30 17:24:40+05:18,chore: add dash to studio update branch for better branch names (#8507),1,,update-studio-version.yml,MODIFY,1,1,,8507,pantharshit00,User,CONTRIBUTOR,pantharshit00,User,2021-07-30T12:03:55Z,2021-07-30T12:06:40Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/990e7ab_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/990e7ab_update-studio-version.yml,None,None,None,"@@ -42,7 +42,7 @@ jobs:
           commit-message: ""chore(deps): update studio to ${{ github.event.inputs.version }}""
           committer: ""Prismo <prismabots@gmail.com>""
           author: ""Prismo <prismabots@gmail.com>""
-          branch: deps/studio${{ github.event.inputs.version }}
+          branch: deps/studio-${{ github.event.inputs.version }}
           delete-branch: true
           labels: automerge
           title: ""chore(deps): update studio to ${{ github.event.inputs.version }}""
",True,False,False,False,False,True,True
prisma,Pierre-Antoine Mills,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,0d0dc83f612325cd75f3e505efae8967921d3369,9236d0ee91d6c89b9ce1a5c0d2fc2aee8d23213b,2021-08-02 14:42:27+02:00,"chore(prisma): type discovery + fast builds + clean monorepo (#8497)

Co-authored-by: Joël <joel.galeran@gmail.com>",1365,2.29.0,benchmark.yml,MODIFY,5,6,,8497,millsp,User,MEMBER,Jolg42,User,2021-07-29T17:54:12Z,2021-08-02T12:42:28Z,closed,,millsp,User,"It's all in the title :point_up: 

closes https://github.com/prisma/prisma/issues/8443",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/0d0dc83_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/0d0dc83_benchmark.yml,1.0,1.0,0.9761904761904762,"@@ -7,8 +7,8 @@ on:
     paths-ignore:
       # Any update here needs to be done for
       # - `pull_request` see below
-      # - https://github.com/prisma/prisma/blob/master/src/.buildkite/test/buildkite-entry.sh
-      # - https://github.com/prisma/prisma/blob/master/src/.buildkite/publish/buildkite-entry.sh
+      # - https://github.com/prisma/prisma/blob/master/.buildkite/test/buildkite-entry.sh
+      # - https://github.com/prisma/prisma/blob/master/.buildkite/publish/buildkite-entry.sh
       - ""*.md""
       - "".vscode/**""
       - ""docs/**""
@@ -16,9 +16,9 @@ on:
       - ""LICENSE""
       - '.github/CODEOWNERS'
       - ""src/.buildkite/**""
-      - ""src/.dockerignore""
-      - ""src/scripts/ci/publish.ts""
-      - ""src/graphs/**""
+      - "".dockerignore""
+      - ""scripts/ci/publish.ts""
+      - ""graphs/**""
 
 env:
   PRISMA_TELEMETRY_INFORMATION: ""prisma benchmark.yml""
@@ -47,7 +47,6 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       #  This is required as setup.sh can modify pnpm-lock.yml
-      - run: rm -f src/pnpm-lock.yaml
       - run: rm -f ./pnpm-lock.yaml
 
       - name: Run benchmarks
",True,False,False,False,False,False,False
prisma,Pierre-Antoine Mills,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,0d0dc83f612325cd75f3e505efae8967921d3369,9236d0ee91d6c89b9ce1a5c0d2fc2aee8d23213b,2021-08-02 14:42:27+02:00,"chore(prisma): type discovery + fast builds + clean monorepo (#8497)

Co-authored-by: Joël <joel.galeran@gmail.com>",1365,2.29.0,test.yml,MODIFY,33,33,,8497,millsp,User,MEMBER,Jolg42,User,2021-07-29T17:54:12Z,2021-08-02T12:42:28Z,closed,,millsp,User,"It's all in the title :point_up: 

closes https://github.com/prisma/prisma/issues/8443",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/0d0dc83_test.yml,../Mining/generated/scripts/prisma/files_src_after/0d0dc83_test.yml,1.0,1.0,0.9761904761904762,"@@ -8,8 +8,8 @@ on:
     paths-ignore:
       # Any update here needs to be done for
       # - `pull_request` see below
-      # - https://github.com/prisma/prisma/blob/master/src/.buildkite/test/buildkite-entry.sh
-      # - https://github.com/prisma/prisma/blob/master/src/.buildkite/publish/buildkite-entry.sh
+      # - https://github.com/prisma/prisma/blob/master/.buildkite/test/buildkite-entry.sh
+      # - https://github.com/prisma/prisma/blob/master/.buildkite/publish/buildkite-entry.sh
       - '*.md'
       - '.vscode/**'
       - '.github/ISSUE_TEMPLATE/**'
@@ -18,16 +18,16 @@ on:
       - 'LICENSE'
       - '.github/CODEOWNERS'
       - 'src/.buildkite/**'
-      - 'src/.dockerignore'
+      - '.dockerignore'
       - '*.bench.ts'
-      - 'src/scripts/ci/publish.ts'
-      - 'src/graphs/**'
+      - 'scripts/ci/publish.ts'
+      - 'graphs/**'
   pull_request:
     paths-ignore:
       # Any update here needs to be done for
       # - `push`see before
-      # - https://github.com/prisma/prisma/blob/master/src/.buildkite/test/buildkite-entry.sh
-      # - https://github.com/prisma/prisma/blob/master/src/.buildkite/publish/buildkite-entry.sh
+      # - https://github.com/prisma/prisma/blob/master/.buildkite/test/buildkite-entry.sh
+      # - https://github.com/prisma/prisma/blob/master/.buildkite/publish/buildkite-entry.sh
       - '*.md'
       - '.vscode/**'
       - '.github/ISSUE_TEMPLATE/**'
@@ -36,10 +36,10 @@ on:
       - 'LICENSE'
       - '.github/CODEOWNERS'
       - 'src/.buildkite/**'
-      - 'src/.dockerignore'
+      - '.dockerignore'
       - '*.bench.ts'
-      - 'src/scripts/ci/publish.ts'
-      - 'src/graphs/**'
+      - 'scripts/ci/publish.ts'
+      - 'graphs/**'
 
 env:
   PRISMA_TELEMETRY_INFORMATION: 'prisma test.yml'
@@ -128,7 +128,7 @@ jobs:
         run: |
           echo ""PRISMA_FORCE_NAPI=true"" >> $GITHUB_ENV
 
-      - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql
       
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
         uses: actions/cache@v1
@@ -147,7 +147,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test -- --testPathIgnorePatterns src/__tests__/types/types.test.ts --verbose
-        working-directory: src/packages/client
+        working-directory: packages/client
         env:
           CI: true
           SKIP_GIT: true
@@ -161,7 +161,7 @@ jobs:
 
       - uses: codecov/codecov-action@v2
         with:
-          files: ./src/packages/client/src/__tests__/coverage/clover.xml
+          files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client,${{ matrix.os }}
           name: client-${{ matrix.os }}
 
@@ -200,7 +200,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test src/__tests__/types/types.test.ts
-        working-directory: src/packages/client
+        working-directory: packages/client
         env:
           CI: true
           SKIP_GIT: true
@@ -208,7 +208,7 @@ jobs:
 
       - uses: codecov/codecov-action@v2
         with:
-          files: ./src/packages/client/src/__tests__/coverage/clover.xml
+          files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client-types,${{ matrix.os }}
           name: client-types-${{ matrix.os }}
 
@@ -242,7 +242,7 @@ jobs:
         run: |
           echo ""PRISMA_FORCE_NAPI=true"" >> $GITHUB_ENV
 
-      - run: docker-compose -f src/docker/docker-compose.yml up --detach ${{matrix.database}}
+      - run: docker-compose -f docker/docker-compose.yml up --detach ${{matrix.database}}
         if: matrix.database != 'sqlite'
       
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
@@ -263,14 +263,14 @@ jobs:
 
       - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
         if: ${{ matrix.database == 'sqlite' }}
-        working-directory: src/packages/integration-tests
+        working-directory: packages/integration-tests
 
       # temp
       # - name: Setup tmate session
       #   uses: mxschmitt/action-tmate@v3
 
       - run: pnpm run jest integration/${{ matrix.database }} -- --maxConcurrency=8
-        working-directory: src/packages/integration-tests
+        working-directory: packages/integration-tests
         env:
           CI: true
           SKIP_GIT: true
@@ -285,7 +285,7 @@ jobs:
 
       - uses: codecov/codecov-action@v2
         with:
-          files: ./src/packages/integration-tests/src/__tests__/coverage/clover.xml
+          files: ./packages/integration-tests/src/__tests__/coverage/clover.xml
           flags: integration-tests,${{ matrix.database }},${{ matrix.engine }}
           name: integration-tests-${{ matrix.database }}-${{ matrix.engine }}
 
@@ -331,7 +331,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
-        working-directory: src/packages/sdk
+        working-directory: packages/sdk
         env:
           CI: true
           SKIP_GIT: true
@@ -339,7 +339,7 @@ jobs:
 
       - uses: codecov/codecov-action@v2
         with:
-          files: ./src/packages/sdk/src/__tests__/coverage/clover.xml
+          files: ./packages/sdk/src/__tests__/coverage/clover.xml
           flags: sdk,${{ matrix.os }}
           name: sdk-${{ matrix.os }}
 
@@ -363,7 +363,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - run: docker-compose -f src/docker/docker-compose.yml up --detach postgres mysql mssql
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql
       
       - name: Set Engine Type
         if: ${{ matrix.engine == 'napi' }}
@@ -387,10 +387,10 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
-        working-directory: src/packages/cli
+        working-directory: packages/cli
 
       - run: pnpm run test
-        working-directory: src/packages/migrate
+        working-directory: packages/migrate
         env:
           CI: true
           SKIP_GIT: true
@@ -407,7 +407,7 @@ jobs:
 
       - uses: codecov/codecov-action@v2
         with:
-          files: ./src/packages/migrate/src/__tests__/coverage/clover.xml
+          files: ./packages/migrate/src/__tests__/coverage/clover.xml
           flags: migrate,${{ matrix.os }}
           name: migrate-${{ matrix.os }}
 
@@ -453,7 +453,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
-        working-directory: src/packages/cli
+        working-directory: packages/cli
         env:
           CI: true
           SKIP_GIT: true
@@ -461,7 +461,7 @@ jobs:
 
       - uses: codecov/codecov-action@v2
         with:
-          files: ./src/packages/cli/src/__tests__/coverage/clover.xml
+          files: ./packages/cli/src/__tests__/coverage/clover.xml
           flags: cli,${{ matrix.os }}
           name: cli-${{ matrix.os }}
 
@@ -502,7 +502,7 @@ jobs:
 
       - run: pnpm run test
         name: 'debug'
-        working-directory: src/packages/debug
+        working-directory: packages/debug
         env:
           CI: true
           SKIP_GIT: true
@@ -510,13 +510,13 @@ jobs:
 
       - uses: codecov/codecov-action@v2
         with:
-          files: ./src/packages/debug/src/__tests__/coverage/clover.xml
+          files: ./packages/debug/src/__tests__/coverage/clover.xml
           flags: debug,${{ matrix.os }}
           name: debug-${{ matrix.os }}
 
       - run: pnpm run test
         name: 'engine-core'
-        working-directory: src/packages/engine-core
+        working-directory: packages/engine-core
         env:
           CI: true
           SKIP_GIT: true
@@ -524,13 +524,13 @@ jobs:
 
       - uses: codecov/codecov-action@v2
         with:
-          files: ./src/packages/engine-core/src/__tests__/coverage/clover.xml
+          files: ./packages/engine-core/src/__tests__/coverage/clover.xml
           flags: engine-core,${{ matrix.os }}
           name: engine-core-${{ matrix.os }}
 
       - run: pnpm run test
         name: 'generator-helper'
-        working-directory: src/packages/generator-helper
+        working-directory: packages/generator-helper
         env:
           CI: true
           SKIP_GIT: true
@@ -538,6 +538,6 @@ jobs:
 
       - uses: codecov/codecov-action@v2
         with:
-          files: ./src/packages/generator-helper/src/__tests__/coverage/clover.xml
+          files: ./packages/generator-helper/src/__tests__/coverage/clover.xml
           flags: generator-helper,${{ matrix.os }}
           name: generator-helper-${{ matrix.os }}
",True,False,False,True,False,True,False
prisma,Pierre-Antoine Mills,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,0d0dc83f612325cd75f3e505efae8967921d3369,9236d0ee91d6c89b9ce1a5c0d2fc2aee8d23213b,2021-08-02 14:42:27+02:00,"chore(prisma): type discovery + fast builds + clean monorepo (#8497)

Co-authored-by: Joël <joel.galeran@gmail.com>",1365,2.29.0,update-engines-version.yml,MODIFY,0,1,,8497,millsp,User,MEMBER,Jolg42,User,2021-07-29T17:54:12Z,2021-08-02T12:42:28Z,closed,,millsp,User,"It's all in the title :point_up: 

closes https://github.com/prisma/prisma/issues/8443",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/0d0dc83_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/0d0dc83_update-engines-version.yml,1.0,1.0,0.9761904761904762,"@@ -33,7 +33,6 @@ jobs:
       - name: Update the engines dependencies
         run: |
           echo 'Updating @prisma/engines, @prisma/engines-version, @prisma/fetch-engine and @prisma/get-platform to ${{ github.event.inputs.version }} using pnpm'
-          cd src
           pnpm update -r @prisma/engines@${{ github.event.inputs.version }} @prisma/engines-version@${{ github.event.inputs.version  }} @prisma/fetch-engine@${{ github.event.inputs.version  }} @prisma/get-platform@${{ github.event.inputs.version  }}
 
       - name: Create Pull Request
",True,False,False,False,False,True,True
prisma,Pierre-Antoine Mills,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,0d0dc83f612325cd75f3e505efae8967921d3369,9236d0ee91d6c89b9ce1a5c0d2fc2aee8d23213b,2021-08-02 14:42:27+02:00,"chore(prisma): type discovery + fast builds + clean monorepo (#8497)

Co-authored-by: Joël <joel.galeran@gmail.com>",1365,2.29.0,update-studio-version.yml,MODIFY,0,1,,8497,millsp,User,MEMBER,Jolg42,User,2021-07-29T17:54:12Z,2021-08-02T12:42:28Z,closed,,millsp,User,"It's all in the title :point_up: 

closes https://github.com/prisma/prisma/issues/8443",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/0d0dc83_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/0d0dc83_update-studio-version.yml,1.0,1.0,0.9761904761904762,"@@ -31,7 +31,6 @@ jobs:
       - name: Update the studio dependencies
         run: |
           echo 'Updating @prisma/studio-server to ${{ github.event.inputs.version }} using pnpm'
-          cd src
           pnpm update -r @prisma/studio-server@${{ github.event.inputs.version }}
 
       - name: Create Pull Request
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,d4b7aedf0009ea555c662a67ecd4ca65c86a6939,d9d1649a00c483ac1c19ef963b77ca5736dd4d02,2021-08-02 16:18:13+02:00,"chore(deps): update fkirc/skip-duplicate-actions action to v3.4.1 (#8528)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",1,,test.yml,MODIFY,1,1,,8528,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2021-08-02T10:17:47Z,2021-08-02T14:18:14Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [fkirc/skip-duplicate-actions](https://togithub.com/fkirc/skip-duplicate-actions) | action | patch | `v3.4.0` -> `v3.4.1` |

---

### Release Notes

<details>
<summary>fkirc/skip-duplicate-actions</summary>

### [`v3.4.1`](https://togithub.com/fkirc/skip-duplicate-actions/compare/v3.4.0...v3.4.1)

[Compare Source](https://togithub.com/fkirc/skip-duplicate-actions/compare/v3.4.0...v3.4.1)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/d4b7aed_test.yml,../Mining/generated/scripts/prisma/files_src_after/d4b7aed_test.yml,None,None,None,"@@ -69,7 +69,7 @@ jobs:
     runs-on: ubuntu-20.04
     if: ""!startsWith(github.ref, 'refs/tags/') && github.ref != 'refs/heads/master' && !contains(github.actor, 'renovate')""
     steps:
-      - uses: fkirc/skip-duplicate-actions@v3.4.0
+      - uses: fkirc/skip-duplicate-actions@v3.4.1
 
   #
   # Linting
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,13570fe4e56a83eb324bcb00478e364f542e102d,ba74c81fdbc9e6405946fdc6f9d42d103d008dc2,2021-08-05 11:16:37+02:00,chore: rename default git branch from master to main (#8586),15,2.29.0,benchmark.yml,MODIFY,4,4,,8586,Jolg42,User,MEMBER,Jolg42,User,2021-08-05T09:05:02Z,2021-08-05T09:16:38Z,closed,,,,"Did the rename with GitHub UI in settings.

If you cloned and are still on master do this:
```
git branch -m master main
git fetch origin
git branch -u origin/main main
git remote set-head origin -a
```",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/13570fe_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/13570fe_benchmark.yml,None,None,None,"@@ -1,14 +1,14 @@
 name: Benchmark
-# Run on push only for master, if not it will trigger push & pull_request on PRs at the same time
+# Run on push only for main, if not it will trigger push & pull_request on PRs at the same time
 on:
   push:
     branches:
-      - master
+      - main
     paths-ignore:
       # Any update here needs to be done for
       # - `pull_request` see below
-      # - https://github.com/prisma/prisma/blob/master/.buildkite/test/buildkite-entry.sh
-      # - https://github.com/prisma/prisma/blob/master/.buildkite/publish/buildkite-entry.sh
+      # - https://github.com/prisma/prisma/blob/main/.buildkite/test/buildkite-entry.sh
+      # - https://github.com/prisma/prisma/blob/main/.buildkite/publish/buildkite-entry.sh
       - ""*.md""
       - "".vscode/**""
       - ""docs/**""
",True,False,False,False,False,False,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,13570fe4e56a83eb324bcb00478e364f542e102d,ba74c81fdbc9e6405946fdc6f9d42d103d008dc2,2021-08-05 11:16:37+02:00,chore: rename default git branch from master to main (#8586),15,2.29.0,test.yml,MODIFY,7,7,,8586,Jolg42,User,MEMBER,Jolg42,User,2021-08-05T09:05:02Z,2021-08-05T09:16:38Z,closed,,,,"Did the rename with GitHub UI in settings.

If you cloned and are still on master do this:
```
git branch -m master main
git fetch origin
git branch -u origin/main main
git remote set-head origin -a
```",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/13570fe_test.yml,../Mining/generated/scripts/prisma/files_src_after/13570fe_test.yml,None,None,None,"@@ -1,15 +1,15 @@
 name: CI
 
-# Run on push only for master, if not it will trigger push & pull_request on PRs at the same time
+# Run on push only for main, if not it will trigger push & pull_request on PRs at the same time
 on:
   push:
     branches:
-      - master
+      - main
     paths-ignore:
       # Any update here needs to be done for
       # - `pull_request` see below
-      # - https://github.com/prisma/prisma/blob/master/.buildkite/test/buildkite-entry.sh
-      # - https://github.com/prisma/prisma/blob/master/.buildkite/publish/buildkite-entry.sh
+      # - https://github.com/prisma/prisma/blob/main/.buildkite/test/buildkite-entry.sh
+      # - https://github.com/prisma/prisma/blob/main/.buildkite/publish/buildkite-entry.sh
       - '*.md'
       - '.vscode/**'
       - '.github/ISSUE_TEMPLATE/**'
@@ -26,8 +26,8 @@ on:
     paths-ignore:
       # Any update here needs to be done for
       # - `push`see before
-      # - https://github.com/prisma/prisma/blob/master/.buildkite/test/buildkite-entry.sh
-      # - https://github.com/prisma/prisma/blob/master/.buildkite/publish/buildkite-entry.sh
+      # - https://github.com/prisma/prisma/blob/main/.buildkite/test/buildkite-entry.sh
+      # - https://github.com/prisma/prisma/blob/main/.buildkite/publish/buildkite-entry.sh
       - '*.md'
       - '.vscode/**'
       - '.github/ISSUE_TEMPLATE/**'
@@ -67,7 +67,7 @@ jobs:
   cleanup-runs:
     continue-on-error: true
     runs-on: ubuntu-20.04
-    if: ""!startsWith(github.ref, 'refs/tags/') && github.ref != 'refs/heads/master' && !contains(github.actor, 'renovate')""
+    if: ""!startsWith(github.ref, 'refs/tags/') && github.ref != 'refs/heads/main' && !contains(github.actor, 'renovate')""
     steps:
       - uses: fkirc/skip-duplicate-actions@v3.4.1
 
",True,False,False,True,False,True,False
prisma,William Luke,User,william@atto-byte.com,GitHub,User,noreply@github.com,fc7b272bfa7ee030c2c8dbede73e0da4963f4c67,cc2c147d2c1bf71174f02a40445345d9456c4223,2021-08-11 12:34:13+03:00,"feat: engine type implementation (will replace node api preview feature) (#8437)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",45,2.30.0,test.yml,MODIFY,13,18,,8437,williamluke4,User,CONTRIBUTOR,williamluke4,User,2021-07-26T10:38:22Z,2021-08-11T09:34:14Z,closed,,,,"Both the CLI and Client are still by default using the `binary` but this allows for the change over to be much easier.  
## Escape Hatches
### Client
#### ENV OVERRIDE
```env
PRISMA_CLIENT_ENGINE_TYPE=""library"" | ""binary""
```
### Schema
```groovy
generator client {
	provider    = ""prisma-client-js""
	engineType  = ""binary"" | ""library"" 
}
```
### CLI
#### ENV OVERRIDE
```env
PRISMA_CLI_QUERY_ENGINE_TYPE=""binary"" | ""library"" 
```",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/fc7b272_test.yml,../Mining/generated/scripts/prisma/files_src_after/fc7b272_test.yml,0.4732824427480916,0.7022900763358778,0.9312977099236641,"@@ -116,7 +116,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        engine: ['napi', 'binary']
+        engineType: ['library', 'binary']
         os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
@@ -124,9 +124,8 @@ jobs:
       - uses: actions/checkout@v2
 
       - name: Set Engine Type
-        if: ${{ matrix.engine == 'napi' }}
         run: |
-          echo ""PRISMA_FORCE_NAPI=true"" >> $GITHUB_ENV
+          echo ""PRISMA_CLIENT_ENGINE_TYPE={{ matrix.engine }}"" >> $GITHUB_ENV
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql
       
@@ -225,7 +224,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        engine: ['napi', 'binary']
+        engineType: ['library', 'binary']
         database:
           - sqlite
           - postgres
@@ -238,9 +237,8 @@ jobs:
       - uses: actions/checkout@v2
 
       - name: Set Engine Type
-        if: ${{ matrix.engine == 'napi' }}
         run: |
-          echo ""PRISMA_FORCE_NAPI=true"" >> $GITHUB_ENV
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.engine }}"" >> $GITHUB_ENV
 
       - run: docker-compose -f docker/docker-compose.yml up --detach ${{matrix.database}}
         if: matrix.database != 'sqlite'
@@ -302,17 +300,16 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        engine: ['napi', 'binary']
+        cliQueryEngine: ['library', 'binary']
         os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
     steps:
       - uses: actions/checkout@v2
       
-      - name: Set Engine Type
-        if: ${{ matrix.engine == 'napi' }}
+      - name: Set CLI Engine Type
         run: |
-          echo ""PRISMA_FORCE_NAPI=true"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE={{ matrix.cliQueryEngine }}"" >> $GITHUB_ENV
       
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
         uses: actions/cache@v1
@@ -356,7 +353,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        engine: ['napi', 'binary']
+        cliQueryEngine: ['library', 'binary']
         os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
@@ -365,10 +362,9 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql
       
-      - name: Set Engine Type
-        if: ${{ matrix.engine == 'napi' }}
+      - name: Set CLI Engine Type
         run: |
-          echo ""PRISMA_FORCE_NAPI=true"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE={{ matrix.cliQueryEngine }}"" >> $GITHUB_ENV
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
         uses: actions/cache@v1
@@ -424,17 +420,16 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        engine: ['napi', 'binary']
+        cliQueryEngine: ['library', 'binary']
         os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
     steps:
       - uses: actions/checkout@v2
       
-      - name: Set Engine Type
-        if: ${{ matrix.engine == 'napi' }}
+      - name: Set CLI Engine Type
         run: |
-          echo ""PRISMA_FORCE_NAPI=true"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE={{ matrix.cliQueryEngine }}"" >> $GITHUB_ENV
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
         uses: actions/cache@v1
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,e21d6ed2789aed55462b4c537fd96b0429fd1936,879367dd4bd1749051dbffc97b93db65c67ab87a,2021-08-16 17:47:48+02:00,"chore: remove encrypt=DANGER_PLAINTEXT (#8737)

Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>",8,2.30.0,test.yml,MODIFY,3,3,,8737,Jolg42,User,MEMBER,Jolg42,User,2021-08-13T14:43:08Z,2021-08-16T15:47:48Z,closed,,,,"Related https://github.com/prisma/docs/issues/2090

Only used in tests an not needed anymore.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/e21d6ed_test.yml,../Mining/generated/scripts/prisma/files_src_after/e21d6ed_test.yml,None,None,None,"@@ -157,7 +157,7 @@ jobs:
           TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
           TEST_MYSQL_ISOLATED_URI: mysql://root:root@localhost:3307/tests
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-          TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT
+          TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
 
       - uses: codecov/codecov-action@v2
         with:
@@ -399,8 +399,8 @@ jobs:
           TEST_MYSQL_URI_MIGRATE: mysql://root:root@localhost:3306/tests-migrate
           TEST_MYSQL_SHADOWDB_URI_MIGRATE: mysql://root:root@localhost:3306/tests-migrate-shadowdb
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-          TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT'
-          TEST_MSSQL_SHADOWDB_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate-shadowdb;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;encrypt=DANGER_PLAINTEXT'
+          TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+          TEST_MSSQL_SHADOWDB_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate-shadowdb;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
 
       - uses: codecov/codecov-action@v2
         with:
",True,False,False,True,False,True,False
prisma,William Luke,User,william@atto-byte.com,GitHub,User,noreply@github.com,cb0000764d72ea61fe0e88593236d82b6c8467c3,f7b75ca9b170a72d27706981800b2ed0c6482b86,2021-08-18 12:51:51+02:00,"ci: switch engine type for both cli and client for relavant tests (#8782)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",1,2.30.0,test.yml,MODIFY,32,12,,8782,williamluke4,User,CONTRIBUTOR,Jolg42,User,2021-08-17T13:11:02Z,2021-08-18T10:51:52Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/cb00007_test.yml,../Mining/generated/scripts/prisma/files_src_after/cb00007_test.yml,None,None,None,"@@ -117,16 +117,20 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        engineType: ['library', 'binary']
+        queryEngine: ['library', 'binary']
         os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
     steps:
       - uses: actions/checkout@v2
 
-      - name: Set Engine Type
+      - name: Set CLI Engine Type
         run: |
-          echo ""PRISMA_CLIENT_ENGINE_TYPE={{ matrix.engine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - name: Set Client Engine Type
+        run: |
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql
 
@@ -225,7 +229,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        engineType: ['library', 'binary']
+        queryEngine: ['library', 'binary']
         database:
           - sqlite
           - postgres
@@ -237,9 +241,13 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - name: Set Engine Type
+      - name: Set CLI Engine Type
         run: |
-          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.engine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+      
+      - name: Set Client Engine Type
+        run: |
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
       - run: docker-compose -f docker/docker-compose.yml up --detach ${{matrix.database}}
         if: matrix.database != 'sqlite'
@@ -301,7 +309,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        cliQueryEngine: ['library', 'binary']
+        queryEngine: ['library', 'binary']
         os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
@@ -310,7 +318,11 @@ jobs:
 
       - name: Set CLI Engine Type
         run: |
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE={{ matrix.cliQueryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - name: Set Client Engine Type
+        run: |
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
         uses: actions/cache@v1
@@ -354,7 +366,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        cliQueryEngine: ['library', 'binary']
+        queryEngine: ['library', 'binary']
         os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
@@ -365,7 +377,11 @@ jobs:
 
       - name: Set CLI Engine Type
         run: |
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE={{ matrix.cliQueryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - name: Set Client Engine Type
+        run: |
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
         uses: actions/cache@v1
@@ -421,7 +437,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        cliQueryEngine: ['library', 'binary']
+        queryEngine: ['library', 'binary']
         os: [ubuntu-20.04] # macos-latest, windows-latest
         node: [12]
 
@@ -430,7 +446,11 @@ jobs:
 
       - name: Set CLI Engine Type
         run: |
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE={{ matrix.cliQueryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+      
+      - name: Set Client Engine Type
+        run: |
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
         uses: actions/cache@v1
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,d95f3aa5b85ef4bf83cf2577067aa7449d3c02e2,38865cfcf2333285f7134b09876729f3cd4a2f9c,2021-09-01 16:01:24+02:00,test(client): add --verbose to jest and test-notypes script (#9034),2,2.31.0 / 3.0.x,test.yml,MODIFY,1,1,,9034,Jolg42,User,MEMBER,Jolg42,User,2021-08-31T15:08:06Z,2021-09-01T14:01:24Z,closed,,,,"Small thing that makes it easier to use locally. types test can be long and not needed locally, easy skipping is nice in that case.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/d95f3aa_test.yml,../Mining/generated/scripts/prisma/files_src_after/d95f3aa_test.yml,None,None,None,"@@ -150,7 +150,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm run test -- --testPathIgnorePatterns src/__tests__/types/types.test.ts --verbose
+      - run: pnpm run test-notypes
         working-directory: packages/client
         env:
           CI: true
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,11fb6030580bcfa2de99238d388444d1439f8af2,188d6c8e28f0cfbaf112428aa5216c957e497ae4,2021-09-27 10:09:41+02:00,"chore(deps): update dependency @types/ws to v8 (#9433)

Co-authored-by: Renovate Bot <bot@renovateapp.com>
Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",3,,test.yml,MODIFY,1,1,,9433,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2021-09-25T15:07:04Z,2021-09-27T08:09:42Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Change | Age | Adoption | Passing | Confidence |
|---|---|---|---|---|---|
| [@types/ws](https://togithub.com/DefinitelyTyped/DefinitelyTyped) | [`7.4.7` -> `8.2.0`](https://renovatebot.com/diffs/npm/@types%2fws/7.4.7/8.2.0) | [![age](https://badges.renovateapi.com/packages/npm/@types%2fws/8.2.0/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/npm/@types%2fws/8.2.0/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/npm/@types%2fws/8.2.0/compatibility-slim/7.4.7)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/npm/@types%2fws/8.2.0/confidence-slim/7.4.7)](https://docs.renovatebot.com/merge-confidence/) |

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Renovate will not automatically rebase this PR, because other commits have been found.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/11fb603_test.yml,../Mining/generated/scripts/prisma/files_src_after/11fb603_test.yml,None,None,None,"@@ -173,7 +173,7 @@ jobs:
   # CLIENT (types tests only)
   #
   client-types:
-    timeout-minutes: 10
+    timeout-minutes: 15
     runs-on: ubuntu-20.04
 
     needs: detect_jobs_to_run
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,cbbff4f0576ae95884c1b8ad594c897c58485118,6ff629a5452239177bea30576d776ec84aed0beb,2021-10-04 09:48:35+02:00,feat(dbpull): MongoDB (#9556),12,3.2.0,test.yml,MODIFY,4,3,,9556,Jolg42,User,MEMBER,Jolg42,User,2021-10-01T15:34:38Z,2021-10-04T07:48:35Z,closed,,,,"Note: MongoDB is a preview feature

db pull --url is not supported with MongoDB provider because it's a preview feature (it works only if a local schema has the preview flag in it)

re-introspection does not work (overwrites at the moment)",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/cbbff4f_test.yml,../Mining/generated/scripts/prisma/files_src_after/cbbff4f_test.yml,0.9714285714285714,0.9714285714285714,1.0,"@@ -244,7 +244,7 @@ jobs:
       - name: Set CLI Engine Type
         run: |
           echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-      
+
       - name: Set Client Engine Type
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
@@ -373,7 +373,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo mongo-seed
 
       - name: Set CLI Engine Type
         run: |
@@ -417,6 +417,7 @@ jobs:
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
           TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
           TEST_MSSQL_SHADOWDB_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate-shadowdb;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+          TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27017/tests?authSource=admin'
 
       - uses: codecov/codecov-action@v2
         with:
@@ -447,7 +448,7 @@ jobs:
       - name: Set CLI Engine Type
         run: |
           echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-      
+
       - name: Set Client Engine Type
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,8595050f109e6c53bfeea33877b54b192a1efac4,972d18fc54431628afb401a2281a0e4ef990bd6f,2021-10-13 17:43:51+02:00,ci: remove unused SKIP_GIT (#9756),2,3.3.0,benchmark.yml,MODIFY,0,1,,9756,Jolg42,User,MEMBER,Jolg42,User,2021-10-13T14:46:00Z,2021-10-13T15:43:51Z,closed,,,,"I didn't find any use for it, I think we ended up copy pasting it everywhere for nothing",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/8595050_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/8595050_benchmark.yml,None,None,None,"@@ -44,7 +44,6 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       #  This is required as setup.sh can modify pnpm-lock.yml
",True,False,False,False,False,False,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,8595050f109e6c53bfeea33877b54b192a1efac4,972d18fc54431628afb401a2281a0e4ef990bd6f,2021-10-13 17:43:51+02:00,ci: remove unused SKIP_GIT (#9756),2,3.3.0,test.yml,MODIFY,0,17,,9756,Jolg42,User,MEMBER,Jolg42,User,2021-10-13T14:46:00Z,2021-10-13T15:43:51Z,closed,,,,"I didn't find any use for it, I think we ended up copy pasting it everywhere for nothing",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/8595050_test.yml,../Mining/generated/scripts/prisma/files_src_after/8595050_test.yml,None,None,None,"@@ -96,7 +96,6 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run lint
@@ -145,14 +144,12 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test-notypes
         working-directory: packages/client
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
           TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:5435/tests
@@ -198,14 +195,12 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test src/__tests__/types/types.test.ts
         working-directory: packages/client
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v2
@@ -263,7 +258,6 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
@@ -278,7 +272,6 @@ jobs:
         working-directory: packages/integration-tests
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@localhost:5432
           TEST_MYSQL_BASE_URI: mysql://root:root@localhost:3306
@@ -335,14 +328,12 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
         working-directory: packages/sdk
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v2
@@ -394,7 +385,6 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
@@ -404,7 +394,6 @@ jobs:
         working-directory: packages/migrate
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
           TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate
@@ -464,14 +453,12 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
         working-directory: packages/cli
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v2
@@ -512,7 +499,6 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
@@ -520,7 +506,6 @@ jobs:
         working-directory: packages/debug
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v2
@@ -534,7 +519,6 @@ jobs:
         working-directory: packages/engine-core
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v2
@@ -548,7 +532,6 @@ jobs:
         working-directory: packages/generator-helper
         env:
           CI: true
-          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v2
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,9045d1c3f8dbd6682603708fe6802830d1e73748,8595050f109e6c53bfeea33877b54b192a1efac4,2021-10-13 17:50:46+02:00,"Revert ""ci: remove unused SKIP_GIT"" (#9761)

This reverts commit 8595050f109e6c53bfeea33877b54b192a1efac4.",2,,benchmark.yml,MODIFY,1,0,,9761,Jolg42,User,MEMBER,Jolg42,User,2021-10-13T15:50:15Z,2021-10-13T15:50:47Z,closed,,,,Reverts prisma/prisma#9756,../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/9045d1c_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/9045d1c_benchmark.yml,None,None,None,"@@ -44,6 +44,7 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       #  This is required as setup.sh can modify pnpm-lock.yml
",True,False,False,False,False,False,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,9045d1c3f8dbd6682603708fe6802830d1e73748,8595050f109e6c53bfeea33877b54b192a1efac4,2021-10-13 17:50:46+02:00,"Revert ""ci: remove unused SKIP_GIT"" (#9761)

This reverts commit 8595050f109e6c53bfeea33877b54b192a1efac4.",2,,test.yml,MODIFY,17,0,,9761,Jolg42,User,MEMBER,Jolg42,User,2021-10-13T15:50:15Z,2021-10-13T15:50:47Z,closed,,,,Reverts prisma/prisma#9756,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/9045d1c_test.yml,../Mining/generated/scripts/prisma/files_src_after/9045d1c_test.yml,None,None,None,"@@ -96,6 +96,7 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run lint
@@ -144,12 +145,14 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test-notypes
         working-directory: packages/client
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
           TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:5435/tests
@@ -195,12 +198,14 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test src/__tests__/types/types.test.ts
         working-directory: packages/client
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v2
@@ -258,6 +263,7 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
@@ -272,6 +278,7 @@ jobs:
         working-directory: packages/integration-tests
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@localhost:5432
           TEST_MYSQL_BASE_URI: mysql://root:root@localhost:3306
@@ -328,12 +335,14 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
         working-directory: packages/sdk
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v2
@@ -385,6 +394,7 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
@@ -394,6 +404,7 @@ jobs:
         working-directory: packages/migrate
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
           TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate
@@ -453,12 +464,14 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
         working-directory: packages/cli
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v2
@@ -499,6 +512,7 @@ jobs:
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
@@ -506,6 +520,7 @@ jobs:
         working-directory: packages/debug
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v2
@@ -519,6 +534,7 @@ jobs:
         working-directory: packages/engine-core
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v2
@@ -532,6 +548,7 @@ jobs:
         working-directory: packages/generator-helper
         env:
           CI: true
+          SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v2
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,25597ab75d5e3d50d73619313b937e60de5315bc,dc45b09ca98bb21ef606e68e885feb470bd76b7d,2021-10-15 12:16:25+02:00,ci: pnpm version action to latest (#9780),2,3.3.0,update-engines-version.yml,MODIFY,1,1,,9780,Jolg42,User,MEMBER,Jolg42,User,2021-10-14T14:16:44Z,2021-10-15T10:16:25Z,closed,,,,"Will fix 
```
working tree is not clean after pnpm i && pnpm run setup:
prisma on  main [!] via  v16.11.0
❯ git diff
diff --git a/pnpm-lock.yaml b/pnpm-lock.yaml
index 4105f1e97..b34b479a2 100644
--- a/pnpm-lock.yaml
+++ b/pnpm-lock.yaml
@@ -1909,7 +1909,6 @@ packages:
       express: 4.17.1
       untildify: 4.0.0
     transitivePeerDependencies:
-      - '@prisma/client'
       - supports-color
     dev: true
```",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/25597ab_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/25597ab_update-engines-version.yml,None,None,None,"@@ -18,7 +18,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.0.1
         with:
-          version: 6.9.1 
+          version: latest
           
       # This step uses `@prisma/ensure-npm-release` (abbv. `enr`) https://github.com/prisma/ensure-npm-release
       - name: Check if version is available on npm
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,25597ab75d5e3d50d73619313b937e60de5315bc,dc45b09ca98bb21ef606e68e885feb470bd76b7d,2021-10-15 12:16:25+02:00,ci: pnpm version action to latest (#9780),2,3.3.0,update-studio-version.yml,MODIFY,1,1,,9780,Jolg42,User,MEMBER,Jolg42,User,2021-10-14T14:16:44Z,2021-10-15T10:16:25Z,closed,,,,"Will fix 
```
working tree is not clean after pnpm i && pnpm run setup:
prisma on  main [!] via  v16.11.0
❯ git diff
diff --git a/pnpm-lock.yaml b/pnpm-lock.yaml
index 4105f1e97..b34b479a2 100644
--- a/pnpm-lock.yaml
+++ b/pnpm-lock.yaml
@@ -1909,7 +1909,6 @@ packages:
       express: 4.17.1
       untildify: 4.0.0
     transitivePeerDependencies:
-      - '@prisma/client'
       - supports-color
     dev: true
```",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/25597ab_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/25597ab_update-studio-version.yml,None,None,None,"@@ -19,7 +19,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.0.1
         with:
-          version: 6.9.1 
+          version: latest
           
       # This step uses `@prisma/ensure-npm-release` (abbv. `enr`) https://github.com/prisma/ensure-npm-release
       - name: Check if version is available on npm
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,bc0e90639ffbd70afcf47b661c3ea7e31c363bee,9ea8b99332ed1810a71d53b20e8db43fb33ae244,2021-10-25 10:08:10+02:00,"test(migrate): test createDatabase on all dbs (#9833)

* test(migrate): test ensureDatabaseExists on all dbs

Closes https://github.com/prisma/prisma/issues/8615

* forgot to commit that

* test(sdk): createDatabase

* ci: add env vars

* ignore drop

* ci: fix github actions

* migrate: increase timeout",3,3.4.0,test.yml,MODIFY,7,1,,9833,Jolg42,User,MEMBER,Jolg42,User,2021-10-18T14:50:23Z,2021-10-25T08:08:11Z,closed,,,,Closes https://github.com/prisma/prisma/issues/8615,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/bc0e906_test.yml,../Mining/generated/scripts/prisma/files_src_after/bc0e906_test.yml,1.0,1.0,1.0,"@@ -314,6 +314,8 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql
+
       - name: Set CLI Engine Type
         run: |
           echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
@@ -344,6 +346,10 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+          TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
+          TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
 
       - uses: codecov/codecov-action@v2
         with:
@@ -355,7 +361,7 @@ jobs:
   # MIGRATE
   #
   migrate:
-    timeout-minutes: 7
+    timeout-minutes: 10
     runs-on: ${{ matrix.os }}
 
     needs: detect_jobs_to_run
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,74625a336cfcdc9225c288f65e96aed10e5be3b6,78182b7471bdfcb63f56d824e4c4efa1660b2853,2021-11-09 10:41:45+01:00,ci: test Node.js v16 (#10020),1,3.5.0,test.yml,MODIFY,7,6,,10020,Jolg42,User,MEMBER,Jolg42,User,2021-10-29T14:33:18Z,2021-11-09T09:41:45Z,closed,,,,"https://nodejs.org/en/about/releases/

v16 is LTS since `2021-10-26`",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/74625a3_test.yml,../Mining/generated/scripts/prisma/files_src_after/74625a3_test.yml,None,None,None,"@@ -45,6 +45,7 @@ on:
 
 env:
   PRISMA_TELEMETRY_INFORMATION: 'prisma test.yml'
+  NODE_OPTIONS: '--max-old-space-size=8096'
 
 jobs:
   detect_jobs_to_run:
@@ -117,7 +118,7 @@ jobs:
       matrix:
         queryEngine: ['library', 'binary']
         os: [ubuntu-latest] # macos-latest, windows-latest
-        node: [12]
+        node: [12, 16]
 
     steps:
       - uses: actions/checkout@v2
@@ -298,7 +299,7 @@ jobs:
   # SDK
   #
   sdk:
-    timeout-minutes: 10
+    timeout-minutes: 15
     runs-on: ${{ matrix.os }}
 
     needs: detect_jobs_to_run
@@ -309,7 +310,7 @@ jobs:
       matrix:
         queryEngine: ['library', 'binary']
         os: [ubuntu-latest] # macos-latest, windows-latest
-        node: [12]
+        node: [12, 16]
 
     steps:
       - uses: actions/checkout@v2
@@ -372,7 +373,7 @@ jobs:
       matrix:
         queryEngine: ['library', 'binary']
         os: [ubuntu-latest] # macos-latest, windows-latest
-        node: [12]
+        node: [12, 16]
 
     steps:
       - uses: actions/checkout@v2
@@ -444,7 +445,7 @@ jobs:
       matrix:
         queryEngine: ['library', 'binary']
         os: [ubuntu-latest] # macos-latest, windows-latest
-        node: [12]
+        node: [12, 16]
 
     steps:
       - uses: actions/checkout@v2
@@ -500,7 +501,7 @@ jobs:
       fail-fast: false
       matrix:
         os: [ubuntu-latest] # macos-latest, windows-latest
-        node: [12]
+        node: [12, 16]
 
     steps:
       - uses: actions/checkout@v2
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,252553526ee3db863234bf7e369381e84cc5dc45,b1cf04afbccad765dbc60a8db0934a2cf1441e05,2021-11-11 15:57:22+01:00,ci: scope NODE_OPTIONS env var to client (#10182),1,3.5.0,test.yml,MODIFY,1,1,,10182,Jolg42,User,MEMBER,Jolg42,User,2021-11-09T16:01:41Z,2021-11-11T14:57:23Z,closed,,,,Related https://github.com/prisma/prisma/pull/10020,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/2525535_test.yml,../Mining/generated/scripts/prisma/files_src_after/2525535_test.yml,None,None,None,"@@ -45,7 +45,6 @@ on:
 
 env:
   PRISMA_TELEMETRY_INFORMATION: 'prisma test.yml'
-  NODE_OPTIONS: '--max-old-space-size=8096'
 
 jobs:
   detect_jobs_to_run:
@@ -161,6 +160,7 @@ jobs:
           TEST_MYSQL_ISOLATED_URI: mysql://root:root@localhost:3307/tests
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
           TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
+          NODE_OPTIONS: '--max-old-space-size=8096'
 
       - uses: codecov/codecov-action@v2
         with:
",True,False,False,True,False,True,False
prisma,garren smith,User,garren.smith@gmail.com,GitHub,User,noreply@github.com,f0631b2d97b895645b35a40d0327aa58191ce056,1f8e4efcb7cc49dcee1c2aa376d7b02151705de3,2021-12-21 13:36:22+02:00,test(client): Add cockroachdb blog tests (#10772),10,3.7.0,test.yml,MODIFY,1,1,,10772,garrensmith,User,CONTRIBUTOR,aqrln,User,2021-12-20T09:30:47Z,2021-12-21T11:36:23Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/f0631b2_test.yml,../Mining/generated/scripts/prisma/files_src_after/f0631b2_test.yml,0.4681647940074906,1.0,1.0,"@@ -130,7 +130,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql cockroachdb
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
         uses: actions/cache@v1
",True,False,False,True,False,True,False
prisma,Alexey Orlenko,User,alex@aqrln.net,GitHub,User,noreply@github.com,a397c7825768bf67370137c340d2d79b6b0be36a,f0631b2d97b895645b35a40d0327aa58191ce056,2021-12-21 14:12:36+02:00,"chore(ci): run tests on multiple operating systems (#10526)

Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>
Co-authored-by: Pierre-Antoine Mills <pierreantoine.urvoy@gmail.com>",45,3.7.0,test.yml,MODIFY,202,24,,10526,aqrln,User,MEMBER,aqrln,User,2021-12-01T11:08:52Z,2021-12-21T12:12:37Z,closed,,,,Closes https://github.com/prisma/prisma/issues/7725,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/a397c78_test.yml,../Mining/generated/scripts/prisma/files_src_after/a397c78_test.yml,1.0,0.0,0.0,"@@ -116,7 +116,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
-        os: [ubuntu-latest] # macos-latest, windows-latest
+        os: [ubuntu-latest]
         node: [12, 16]
 
     steps:
@@ -165,8 +165,8 @@ jobs:
       - uses: codecov/codecov-action@v2
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
-          flags: client,${{ matrix.os }}
-          name: client-${{ matrix.os }}
+          flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: client-${{ matrix.os }}-${{ matrix.queryEngine }}
 
   #
   # CLIENT (types tests only)
@@ -212,7 +212,7 @@ jobs:
       - uses: codecov/codecov-action@v2
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
-          flags: client-types,${{ matrix.os }}
+          flags: client-types,${{ matrix.os }},library,binary
           name: client-types-${{ matrix.os }}
 
   #
@@ -267,14 +267,11 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
+      # TODO: is this still necessary?
       - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
         if: ${{ matrix.database == 'sqlite' }}
         working-directory: packages/integration-tests
 
-      # temp
-      # - name: Setup tmate session
-      #   uses: mxschmitt/action-tmate@v3
-
       - run: pnpm run jest integration/${{ matrix.database }} -- --maxConcurrency=8
         working-directory: packages/integration-tests
         env:
@@ -292,8 +289,8 @@ jobs:
       - uses: codecov/codecov-action@v2
         with:
           files: ./packages/integration-tests/src/__tests__/coverage/clover.xml
-          flags: integration-tests,${{ matrix.database }},${{ matrix.engine }}
-          name: integration-tests-${{ matrix.database }}-${{ matrix.engine }}
+          flags: integration-tests,${{ matrix.database }},${{ matrix.queryEngine }}
+          name: integration-tests-${{ matrix.database }}-${{ matrix.queryEngine }}
 
   #
   # SDK
@@ -303,13 +300,13 @@ jobs:
     runs-on: ${{ matrix.os }}
 
     needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-sdk-') }}
 
     strategy:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
-        os: [ubuntu-latest] # macos-latest, windows-latest
+        os: [ubuntu-latest]
         node: [12, 16]
 
     steps:
@@ -355,8 +352,8 @@ jobs:
       - uses: codecov/codecov-action@v2
         with:
           files: ./packages/sdk/src/__tests__/coverage/clover.xml
-          flags: sdk,${{ matrix.os }}
-          name: sdk-${{ matrix.os }}
+          flags: sdk,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: sdk-${{ matrix.os }}-${{ matrix.queryEngine }}
 
   #
   # MIGRATE
@@ -372,7 +369,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
-        os: [ubuntu-latest] # macos-latest, windows-latest
+        os: [ubuntu-latest]
         node: [12, 16]
 
     steps:
@@ -404,6 +401,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
+      # TODO: is this still necessary?
       - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
         working-directory: packages/cli
 
@@ -427,8 +425,8 @@ jobs:
       - uses: codecov/codecov-action@v2
         with:
           files: ./packages/migrate/src/__tests__/coverage/clover.xml
-          flags: migrate,${{ matrix.os }}
-          name: migrate-${{ matrix.os }}
+          flags: migrate,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: migrate-${{ matrix.os }}-${{ matrix.queryEngine }}
 
   #
   # CLI-COMMANDS
@@ -444,7 +442,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
-        os: [ubuntu-latest] # macos-latest, windows-latest
+        os: [ubuntu-latest]
         node: [12, 16]
 
     steps:
@@ -484,8 +482,8 @@ jobs:
       - uses: codecov/codecov-action@v2
         with:
           files: ./packages/cli/src/__tests__/coverage/clover.xml
-          flags: cli,${{ matrix.os }}
-          name: cli-${{ matrix.os }}
+          flags: cli,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: cli-${{ matrix.os }}-${{ matrix.queryEngine }}
 
   #
   # All the other packages!
@@ -500,7 +498,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        os: [ubuntu-latest] # macos-latest, windows-latest
+        os: [ubuntu-latest]
         node: [12, 16]
 
     steps:
@@ -533,7 +531,7 @@ jobs:
       - uses: codecov/codecov-action@v2
         with:
           files: ./packages/debug/src/__tests__/coverage/clover.xml
-          flags: debug,${{ matrix.os }}
+          flags: debug,${{ matrix.os }},library,binary
           name: debug-${{ matrix.os }}
 
       - run: pnpm run test
@@ -547,7 +545,7 @@ jobs:
       - uses: codecov/codecov-action@v2
         with:
           files: ./packages/engine-core/src/__tests__/coverage/clover.xml
-          flags: engine-core,${{ matrix.os }}
+          flags: engine-core,${{ matrix.os }},library,binary
           name: engine-core-${{ matrix.os }}
 
       - run: pnpm run test
@@ -561,5 +559,185 @@ jobs:
       - uses: codecov/codecov-action@v2
         with:
           files: ./packages/generator-helper/src/__tests__/coverage/clover.xml
-          flags: generator-helper,${{ matrix.os }}
+          flags: generator-helper,${{ matrix.os }},library,binary
+          name: generator-helper-${{ matrix.os }}
+
+  #
+  # Run all tests on macOS and Windows.
+  #
+  # Unlike the other jobs, this job doesn't use Docker (and thus skips some
+  # tests that require dependencies not easily installable without Docker).
+  #
+  # It also runs the tests for different packages sequentially to prevent the
+  # combinatorial explosion of the number of parallel jobs, to minimize the
+  # number of times we need to install MySQL using the package manager
+  # (PostgreSQL and MongoDB are provided by GitHub Actions out of the box), and
+  # minimize the time spent waiting for a free runner.
+  #
+  no-docker:
+    timeout-minutes: 60
+    runs-on: ${{ matrix.os }}
+    needs: detect_jobs_to_run
+
+    if: |
+      ${{
+        contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') ||
+        contains(needs.detect_jobs_to_run.outputs.jobs, '-sdk-') ||
+        contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') ||
+        contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') ||
+        contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-')
+      }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        os: [macos-11, windows-latest]
+        node: [16]
+        queryEngine: ['library', 'binary']
+
+    steps:
+      - uses: actions/checkout@v2
+
+      - name: Prerequisites
+        shell: bash
+        run: |
+          echo ""TEST_SKIP_MSSQL=true"" >> $GITHUB_ENV
+          echo ""TEST_SKIP_COCKROACHDB=true"" >> $GITHUB_ENV
+          echo ""TEST_MONGO_URI=mongodb://localhost:27017/tests"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - name: Setup PostgreSQL
+        run: bash .github/workflows/setup-postgres.sh
+
+      - name: Setup MySQL
+        run: bash .github/workflows/setup-mysql.sh
+
+      - name: Cache .pnpm-store
+        uses: actions/cache@v1
+        with:
+          path: ~/.pnpm-store
+          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
+
+      - uses: actions/setup-node@v2
+        with:
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - name: Test packages/sdk
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }} || contains(needs.detect_jobs_to_run.outputs.jobs, '-sdk-') }}
+        run: pnpm run test
+        working-directory: packages/sdk
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v2
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }} || contains(needs.detect_jobs_to_run.outputs.jobs, '-sdk-') }}
+        with:
+          files: ./packages/sdk/src/__tests__/coverage/clover.xml
+          flags: sdk,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: sdk-${{ matrix.os }}-${{ matrix.queryEngine }}
+
+      - name: Test packages/client
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
+        run: pnpm run test-notypes
+        working-directory: packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          NODE_OPTIONS: '--max-old-space-size=8096'
+
+      - uses: codecov/codecov-action@v2
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
+        with:
+          files: ./packages/client/src/__tests__/coverage/clover.xml
+          flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: client-${{ matrix.os }}-${{ matrix.queryEngine }}
+
+      - name: Test packages/migrate
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') }}
+        run: pnpm run test
+        working-directory: packages/migrate
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v2
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') }}
+        with:
+          files: ./packages/migrate/src/__tests__/coverage/clover.xml
+          flags: migrate,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: migrate-${{ matrix.os }}-${{ matrix.queryEngine }}
+
+      - name: Test packages/cli
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-') }}
+        run: pnpm run test
+        working-directory: packages/cli
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v2
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-') }}
+        with:
+          files: ./packages/cli/src/__tests__/coverage/clover.xml
+          flags: cli,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: cli-${{ matrix.os }}-${{ matrix.queryEngine }}
+
+      - name: Test packages/debug
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
+        run: pnpm run test
+        working-directory: packages/debug
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v2
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
+        with:
+          files: ./packages/debug/src/__tests__/coverage/clover.xml
+          flags: debug,${{ matrix.os }},library,binary
+          name: debug-${{ matrix.os }}
+
+      - name: Test packages/engine-core
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
+        run: pnpm run test
+        working-directory: packages/engine-core
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v2
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
+        with:
+          files: ./packages/engine-core/src/__tests__/coverage/clover.xml
+          flags: engine-core,${{ matrix.os }},library,binary
+          name: engine-core-${{ matrix.os }}
+
+      - name: Test packages/generator-helper
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
+        run: pnpm run test
+        working-directory: packages/generator-helper
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v2
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
+        with:
+          files: ./packages/generator-helper/src/__tests__/coverage/clover.xml
+          flags: generator-helper,${{ matrix.os }},library,binary
           name: generator-helper-${{ matrix.os }}
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,e346078d0f6ca05dace706f2c805b5fef341803e,a397c7825768bf67370137c340d2d79b6b0be36a,2021-12-21 16:06:47+01:00,"chore(deps): update actions/cache action to v2 (#10626)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",2,3.8.0,benchmark.yml,MODIFY,1,1,,10626,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2021-12-08T13:51:18Z,2021-12-21T15:06:48Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/cache](https://togithub.com/actions/cache) | action | major | `v1` -> `v2` |

---

### Release Notes

<details>
<summary>actions/cache</summary>

### [`v2`](https://togithub.com/actions/cache/compare/v1...v2)

[Compare Source](https://togithub.com/actions/cache/compare/v1...v2)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/e346078_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/e346078_benchmark.yml,None,None,None,"@@ -32,7 +32,7 @@ jobs:
       - uses: actions/checkout@v2
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v1
+        uses: actions/cache@v2
         with:
           path: ~/.pnpm-store
           key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
",True,False,False,False,False,False,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,e346078d0f6ca05dace706f2c805b5fef341803e,a397c7825768bf67370137c340d2d79b6b0be36a,2021-12-21 16:06:47+01:00,"chore(deps): update actions/cache action to v2 (#10626)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",2,3.8.0,test.yml,MODIFY,9,9,,10626,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2021-12-08T13:51:18Z,2021-12-21T15:06:48Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/cache](https://togithub.com/actions/cache) | action | major | `v1` -> `v2` |

---

### Release Notes

<details>
<summary>actions/cache</summary>

### [`v2`](https://togithub.com/actions/cache/compare/v1...v2)

[Compare Source](https://togithub.com/actions/cache/compare/v1...v2)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/e346078_test.yml,../Mining/generated/scripts/prisma/files_src_after/e346078_test.yml,None,None,None,"@@ -84,7 +84,7 @@ jobs:
       - uses: actions/checkout@v2
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v1
+        uses: actions/cache@v2
         with:
           path: ~/.pnpm-store
           key: ${{ runner.os }}-node-${{ hashFiles('**/pnpm-lock.yaml') }}
@@ -133,7 +133,7 @@ jobs:
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql cockroachdb
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v1
+        uses: actions/cache@v2
         with:
           path: ~/.pnpm-store
           key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
@@ -187,7 +187,7 @@ jobs:
       - uses: actions/checkout@v2
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v1
+        uses: actions/cache@v2
         with:
           path: ~/.pnpm-store
           key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
@@ -252,7 +252,7 @@ jobs:
         if: matrix.database != 'sqlite'
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v1
+        uses: actions/cache@v2
         with:
           path: ~/.pnpm-store
           key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
@@ -323,7 +323,7 @@ jobs:
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v1
+        uses: actions/cache@v2
         with:
           path: ~/.pnpm-store
           key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
@@ -386,7 +386,7 @@ jobs:
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v1
+        uses: actions/cache@v2
         with:
           path: ~/.pnpm-store
           key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
@@ -457,7 +457,7 @@ jobs:
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v1
+        uses: actions/cache@v2
         with:
           path: ~/.pnpm-store
           key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
@@ -505,7 +505,7 @@ jobs:
       - uses: actions/checkout@v2
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v1
+        uses: actions/cache@v2
         with:
           path: ~/.pnpm-store
           key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
@@ -614,7 +614,7 @@ jobs:
         run: bash .github/workflows/setup-mysql.sh
 
       - name: Cache .pnpm-store
-        uses: actions/cache@v1
+        uses: actions/cache@v2
         with:
           path: ~/.pnpm-store
           key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,7a1f0e1252098162023c9f6fc0354fa20e041141,74c09be00f931163cfe4ac213368a45669619180,2021-12-23 16:12:17+01:00,test(*): tweak timeouts (#10849),3,3.8.0,test.yml,MODIFY,2,2,,10849,Jolg42,User,MEMBER,Jolg42,User,2021-12-23T13:34:32Z,2021-12-23T15:12:17Z,closed,,,,"I could see it failing here https://github.com/prisma/prisma/runs/4618230951?check_suite_focus=true#step:9:795

And I remember I saw it recently as well.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/7a1f0e1_test.yml,../Mining/generated/scripts/prisma/files_src_after/7a1f0e1_test.yml,1.0,1.0,1.0,"@@ -106,7 +106,7 @@ jobs:
   # CLIENT (without types test)
   #
   client:
-    timeout-minutes: 20
+    timeout-minutes: 25
     runs-on: ${{ matrix.os }}
 
     needs: detect_jobs_to_run
@@ -575,7 +575,7 @@ jobs:
   # minimize the time spent waiting for a free runner.
   #
   no-docker:
-    timeout-minutes: 60
+    timeout-minutes: 40
     runs-on: ${{ matrix.os }}
     needs: detect_jobs_to_run
 
",True,False,False,True,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,6b1e154aa8501a2764d67e12eeb726be50b1ede2,b172724cefdd3d0b70424aee4a2922896a4fe4af,2022-01-21 21:39:11+01:00,"feat: OpenSSF Scorecards (#11310)

https://github.blog/2022-01-19-reducing-security-risk-oss-actions-opensff-scorecards-v4/",1,3.9.0,scorecards-analysis.yml,ADD,55,0,,11310,janpio,User,MEMBER,janpio,User,2022-01-21T20:31:08Z,2022-01-21T20:39:11Z,closed,,,,https://github.blog/2022-01-19-reducing-security-risk-oss-actions-opensff-scorecards-v4/,../Mining/generated/scripts/prisma/current_code/scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/6b1e154_scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/6b1e154_scorecards-analysis.yml,None,None,None,"@@ -0,0 +1,55 @@
+name: Scorecards supply-chain security
+on:
+  # Only the default branch is supported.
+  branch_protection_rule:
+  schedule:
+    - cron: '21 21 * * 2'
+  push:
+    branches: [ main ]
+
+# Declare default permissions as read only.
+permissions: read-all
+
+jobs:
+  analysis:
+    name: Scorecards analysis
+    runs-on: ubuntu-latest
+    permissions:
+      # Needed to upload the results to code-scanning dashboard.
+      security-events: write
+      actions: read
+      contents: read
+
+    steps:
+      - name: ""Checkout code""
+        uses: actions/checkout@ec3a7ce113134d7a93b817d10a8272cb61118579 # v2.4.0
+        with:
+          persist-credentials: false
+
+      - name: ""Run analysis""
+        uses: ossf/scorecard-action@e3e75cf2ffbf9364bbff86cdbdf52b23176fe492 # v1.0.1
+        with:
+          results_file: results.sarif
+          results_format: sarif
+          # Read-only PAT token. To create it,
+          # follow the steps in https://github.com/ossf/scorecard-action#pat-token-creation.
+          repo_token: ${{ secrets.SCORECARD_READ_TOKEN }}
+          # Publish the results to enable scorecard badges. For more details, see
+          # https://github.com/ossf/scorecard-action#publishing-results.
+          # For private repositories, `publish_results` will automatically be set to `false`,
+          # regardless of the value entered here.
+          publish_results: true
+
+      # Upload the results as artifacts (optional).
+      - name: ""Upload artifact""
+        uses: actions/upload-artifact@82c141cc518b40d92cc801eee768e7aafc9c2fa2 # v2.3.1
+        with:
+          name: SARIF file
+          path: results.sarif
+          retention-days: 5
+
+      # Upload the results to GitHub's code scanning dashboard.
+      - name: ""Upload to code-scanning""
+        uses: github/codeql-action/upload-sarif@5f532563584d71fdef14ee64d17bafb34f751ce5 # v1.0.26
+        with:
+          sarif_file: results.sarif
",True,False,False,False,False,False,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,5372097d000bf7bf52c405fb48af2324f0af2074,0d35fccfb55d82b45fea33cba257f26760931797,2022-01-24 14:27:20+01:00,"ci: add CodeQL action (#11355)

[skip ci]",1,,codeql.yml,ADD,25,0,,11355,Jolg42,User,MEMBER,Jolg42,User,2022-01-24T13:26:09Z,2022-01-24T13:27:21Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/codeql.yml,../Mining/generated/scripts/prisma/files_src_before/5372097_codeql.yml,../Mining/generated/scripts/prisma/files_src_after/5372097_codeql.yml,None,None,None,"@@ -0,0 +1,25 @@
+name: ""CodeQL: Code Scanning""
+
+on: workflow_dispatch
+
+jobs:
+  CodeQL-Build:
+    # CodeQL runs on ubuntu-latest, windows-latest, and macos-latest
+    runs-on: ubuntu-latest
+
+    permissions:
+      security-events: write
+
+    steps:
+      - name: Checkout repository
+        uses: actions/checkout@v2
+
+      # Initializes the CodeQL tools for scanning.
+      - name: Initialize CodeQL
+        uses: github/codeql-action/init@v1
+        # Override language selection by uncommenting this and choosing your languages
+        # with:
+        #   languages: go, javascript, csharp, python, cpp, java
+
+      - name: Perform CodeQL Analysis
+        uses: github/codeql-action/analyze@v1
",False,False,False,False,False,False,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,aafaf634385ae5804e8d718190f930bd6066e24f,99c8bd4552a4dbb53c8d90b8f777df1ef30bd5e1,2022-01-24 14:55:04+01:00,"chore(deps): update github/codeql-action commit hash to 708446c (#11357)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",1,,scorecards-analysis.yml,MODIFY,1,1,,11357,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-01-24T13:41:02Z,2022-01-24T13:55:04Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| github/codeql-action | action | digest | `5f53256` -> `708446c` |

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/aafaf63_scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/aafaf63_scorecards-analysis.yml,None,None,None,"@@ -50,6 +50,6 @@ jobs:
 
       # Upload the results to GitHub's code scanning dashboard.
       - name: ""Upload to code-scanning""
-        uses: github/codeql-action/upload-sarif@5f532563584d71fdef14ee64d17bafb34f751ce5 # v1.0.26
+        uses: github/codeql-action/upload-sarif@708446c6e489e70309e87d09da445fc869f1e59e
         with:
           sarif_file: results.sarif
",True,False,False,False,False,False,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,99cc3f0f9bab2af9c3bd2d8397ddd1ad76fc557e,b9e67dee0058dc31a2ac5e4a6979959968cf59d4,2022-01-24 17:37:11+01:00,"chore(deps): update ossf/scorecard-action commit hash to c8416b0 (#11367)

[skip ci]",1,,scorecards-analysis.yml,MODIFY,1,1,,11367,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-01-24T16:26:47Z,2022-01-24T16:37:12Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| ossf/scorecard-action | action | digest | `e3e75cf` -> `c8416b0` |

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/99cc3f0_scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/99cc3f0_scorecards-analysis.yml,None,None,None,"@@ -27,7 +27,7 @@ jobs:
           persist-credentials: false
 
       - name: ""Run analysis""
-        uses: ossf/scorecard-action@e3e75cf2ffbf9364bbff86cdbdf52b23176fe492 # v1.0.1
+        uses: ossf/scorecard-action@c8416b0b2bf627c349ca92fc8e3de51a64b005cf
         with:
           results_file: results.sarif
           results_format: sarif
",True,False,False,False,False,False,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,c292baac83e6613d3589e64376b923c01f511f33,99cc3f0f9bab2af9c3bd2d8397ddd1ad76fc557e,2022-01-24 18:26:54+01:00,ci: Remove explicit versions from GH Actions used in Scorecard workflow (#11370),1,3.9.0,scorecards-analysis.yml,MODIFY,4,4,,11370,janpio,User,MEMBER,Jolg42,User,2022-01-24T16:58:00Z,2022-01-24T17:26:54Z,closed,,,,"to avoid Renovate updating these all the time

Ironic: This is explicitly one of the things the scorecard tests for.",../Mining/generated/scripts/prisma/current_code/scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/c292baa_scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/c292baa_scorecards-analysis.yml,None,None,None,"@@ -22,12 +22,12 @@ jobs:
 
     steps:
       - name: ""Checkout code""
-        uses: actions/checkout@ec3a7ce113134d7a93b817d10a8272cb61118579 # v2.4.0
+        uses: actions/checkout@v2
         with:
           persist-credentials: false
 
       - name: ""Run analysis""
-        uses: ossf/scorecard-action@c8416b0b2bf627c349ca92fc8e3de51a64b005cf
+        uses: ossf/scorecard-action@v1.0.2
         with:
           results_file: results.sarif
           results_format: sarif
@@ -42,7 +42,7 @@ jobs:
 
       # Upload the results as artifacts (optional).
       - name: ""Upload artifact""
-        uses: actions/upload-artifact@82c141cc518b40d92cc801eee768e7aafc9c2fa2 # v2.3.1
+        uses: actions/upload-artifact@v2.3.1
         with:
           name: SARIF file
           path: results.sarif
@@ -50,6 +50,6 @@ jobs:
 
       # Upload the results to GitHub's code scanning dashboard.
       - name: ""Upload to code-scanning""
-        uses: github/codeql-action/upload-sarif@708446c6e489e70309e87d09da445fc869f1e59e
+        uses: github/codeql-action/upload-sarif@v1
         with:
           sarif_file: results.sarif
",True,False,False,False,False,False,False
prisma,Pierre-Antoine Mills,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,af93bb925ebbc7489a1ee2dceed1c27c666c40e2,963c92d4b0a928f30b8c2402191b72d5da3e93f3,2022-01-27 14:40:12+01:00,"feat(client): add mongo raw ops (#11267)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",36,3.9.0,test.yml,MODIFY,7,4,,11267,millsp,User,MEMBER,millsp,User,2022-01-19T14:27:27Z,2022-01-27T13:40:13Z,closed,,,,See https://github.com/prisma/prisma/issues/11136,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/af93bb9_test.yml,../Mining/generated/scripts/prisma/files_src_after/af93bb9_test.yml,0.4794007490636704,0.9775280898876404,1.0,"@@ -130,7 +130,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql cockroachdb
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb
 
       - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
         uses: actions/cache@v2
@@ -160,6 +160,7 @@ jobs:
           TEST_MYSQL_ISOLATED_URI: mysql://root:root@localhost:3307/tests
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
           TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
+          TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
           NODE_OPTIONS: '--max-old-space-size=8096'
 
       - uses: codecov/codecov-action@v2
@@ -235,6 +236,7 @@ jobs:
           - mysql
           - mariadb
           - mssql
+          # - mongo
         node: [12]
 
     steps:
@@ -375,7 +377,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo mongo-seed
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo_migrate mongo_migrate_seed
 
       - name: Set CLI Engine Type
         run: |
@@ -420,7 +422,7 @@ jobs:
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
           TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
           TEST_MSSQL_SHADOWDB_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate-shadowdb;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-          TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27017/tests?authSource=admin'
+          TEST_MONGO_URI_MIGRATE: 'mongodb://root:prisma@localhost:27017/tests-migrate?authSource=admin'
 
       - uses: codecov/codecov-action@v2
         with:
@@ -602,8 +604,9 @@ jobs:
         shell: bash
         run: |
           echo ""TEST_SKIP_MSSQL=true"" >> $GITHUB_ENV
+          echo ""TEST_SKIP_MONGODB=true"" >> $GITHUB_ENV
           echo ""TEST_SKIP_COCKROACHDB=true"" >> $GITHUB_ENV
-          echo ""TEST_MONGO_URI=mongodb://localhost:27017/tests"" >> $GITHUB_ENV
+          echo ""TEST_MONGO_URI_MIGRATE=mongodb://localhost:27017/tests-migrate"" >> $GITHUB_ENV
           echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,09e986df6c11057940657a7d6021bd2846b7696c,386eb6da8efee76bbd3a4e3f58c5fa0623238b40,2022-01-31 22:57:08+01:00,"chore(deps): update ossf/scorecard-action action to v1.0.3 (#11528)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",1,,scorecards-analysis.yml,MODIFY,1,1,,11528,renovate[bot],Bot,CONTRIBUTOR,millsp,User,2022-01-31T21:06:18Z,2022-01-31T21:57:08Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [ossf/scorecard-action](https://togithub.com/ossf/scorecard-action) | action | patch | `v1.0.2` -> `v1.0.3` |

---

### Release Notes

<details>
<summary>ossf/scorecard-action</summary>

### [`v1.0.3`](https://togithub.com/ossf/scorecard-action/releases/v1.0.3)

[Compare Source](https://togithub.com/ossf/scorecard-action/compare/v1.0.2...v1.0.3)

#### What's Changed

-   Bump hash for v1.0.2 by [@&#8203;laurentsimon](https://togithub.com/laurentsimon) in [https://github.com/ossf/scorecard-action/pull/69](https://togithub.com/ossf/scorecard-action/pull/69)
-   Missing slash in README.md by [@&#8203;ChrisCarini](https://togithub.com/ChrisCarini) in [https://github.com/ossf/scorecard-action/pull/74](https://togithub.com/ossf/scorecard-action/pull/74)
-   🐛 Fix null default branch/private fields by [@&#8203;laurentsimon](https://togithub.com/laurentsimon) in [https://github.com/ossf/scorecard-action/pull/75](https://togithub.com/ossf/scorecard-action/pull/75)

#### New Contributors

-   [@&#8203;ChrisCarini](https://togithub.com/ChrisCarini) made their first contribution in [https://github.com/ossf/scorecard-action/pull/74](https://togithub.com/ossf/scorecard-action/pull/74)

**Full Changelog**: https://github.com/ossf/scorecard-action/compare/v1.0.2...v1.0.3

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/09e986d_scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/09e986d_scorecards-analysis.yml,None,None,None,"@@ -27,7 +27,7 @@ jobs:
           persist-credentials: false
 
       - name: ""Run analysis""
-        uses: ossf/scorecard-action@v1.0.2
+        uses: ossf/scorecard-action@v1.0.3
         with:
           results_file: results.sarif
           results_format: sarif
",True,False,False,False,False,False,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,3a22d715e9f3fb68170b713c0c8827a695651cb8,0bae6861f4c9fca7e36fdd1e9cf84b1142c406fe,2022-02-07 17:55:46+01:00,"ci: use setup-node@v2 native cache (#10739)

* ci: use setup-node@v2 native cache

* add pnpm/action-setup@v2.0.1",6,3.10.0,benchmark.yml,MODIFY,3,7,,10739,Jolg42,User,MEMBER,Jolg42,User,2021-12-17T09:33:34Z,2022-02-07T16:55:47Z,closed,,Jolg42,User,"See 
https://github.com/actions/setup-node#caching-packages-dependencies
https://pnpm.io/continuous-integration#github-actions
https://github.com/pnpm/action-setup",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/3a22d71_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/3a22d71_benchmark.yml,None,None,None,"@@ -31,14 +31,10 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v2
-        with:
-          path: ~/.pnpm-store
-          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
-
-      - uses: actions/setup-node@v2
+      - name: Use Node.js
+        uses: actions/setup-node@v2
         with:
+          cache: 'pnpm'
           node-version: '12'
 
       - run: bash .github/workflows/setup.sh
",False,False,False,False,False,False,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,3a22d715e9f3fb68170b713c0c8827a695651cb8,0bae6861f4c9fca7e36fdd1e9cf84b1142c406fe,2022-02-07 17:55:46+01:00,"ci: use setup-node@v2 native cache (#10739)

* ci: use setup-node@v2 native cache

* add pnpm/action-setup@v2.0.1",6,3.10.0,label-stale-issues.yml,MODIFY,5,5,,10739,Jolg42,User,MEMBER,Jolg42,User,2021-12-17T09:33:34Z,2022-02-07T16:55:47Z,closed,,Jolg42,User,"See 
https://github.com/actions/setup-node#caching-packages-dependencies
https://pnpm.io/continuous-integration#github-actions
https://github.com/pnpm/action-setup",../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/3a22d71_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/3a22d71_label-stale-issues.yml,None,None,None,"@@ -1,7 +1,7 @@
-name: ""Labels stale issues""
+name: 'Labels stale issues'
 on:
   schedule:
-    - cron: ""0 0 * * *""
+    - cron: '0 0 * * *'
   workflow_dispatch:
 
 jobs:
@@ -11,11 +11,11 @@ jobs:
       - uses: pantharshit00/stale@v3.1
         with:
           repo-token: ${{ secrets.GITHUB_TOKEN }}
-          stale-issue-message: ""DUMMY, FOR ENABLING""
+          stale-issue-message: 'DUMMY, FOR ENABLING'
           days-before-stale: 90
           days-before-close: -1
-          exempt-issue-labels: ""kind/discussion,kind/docs,kind/feature,kind/improvement,kind/question,kind/epic,kind/subtask""
-          stale-issue-label: ""status/needs-action""
+          exempt-issue-labels: 'kind/discussion,kind/docs,kind/feature,kind/improvement,kind/question,kind/epic,kind/subtask'
+          stale-issue-label: 'status/needs-action'
           skip-stale-issue-message: true
           skip-stale-pr-message: true
           ascending: true
",False,False,False,False,False,False,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,3a22d715e9f3fb68170b713c0c8827a695651cb8,0bae6861f4c9fca7e36fdd1e9cf84b1142c406fe,2022-02-07 17:55:46+01:00,"ci: use setup-node@v2 native cache (#10739)

* ci: use setup-node@v2 native cache

* add pnpm/action-setup@v2.0.1",6,3.10.0,test.yml,MODIFY,27,36,,10739,Jolg42,User,MEMBER,Jolg42,User,2021-12-17T09:33:34Z,2022-02-07T16:55:47Z,closed,,Jolg42,User,"See 
https://github.com/actions/setup-node#caching-packages-dependencies
https://pnpm.io/continuous-integration#github-actions
https://github.com/pnpm/action-setup",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/3a22d71_test.yml,../Mining/generated/scripts/prisma/files_src_after/3a22d71_test.yml,None,None,None,"@@ -83,14 +83,13 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v2
+      - uses: pnpm/action-setup@v2.0.1
         with:
-          path: ~/.pnpm-store
-          key: ${{ runner.os }}-node-${{ hashFiles('**/pnpm-lock.yaml') }}
+          version: latest
 
       - uses: actions/setup-node@v2
         with:
+          cache: 'pnpm'
           node-version: '12'
 
       - run: bash .github/workflows/setup.sh
@@ -132,14 +131,13 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb
 
-      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v2
+      - uses: pnpm/action-setup@v2.0.1
         with:
-          path: ~/.pnpm-store
-          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
+          version: latest
 
       - uses: actions/setup-node@v2
         with:
+          cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
       - run: bash .github/workflows/setup.sh
@@ -187,14 +185,13 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v2
+      - uses: pnpm/action-setup@v2.0.1
         with:
-          path: ~/.pnpm-store
-          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
+          version: latest
 
       - uses: actions/setup-node@v2
         with:
+          cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
       - run: bash .github/workflows/setup.sh
@@ -253,14 +250,13 @@ jobs:
       - run: docker-compose -f docker/docker-compose.yml up --detach ${{matrix.database}}
         if: matrix.database != 'sqlite'
 
-      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v2
+      - uses: pnpm/action-setup@v2.0.1
         with:
-          path: ~/.pnpm-store
-          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
+          version: latest
 
       - uses: actions/setup-node@v2
         with:
+          cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
       - run: bash .github/workflows/setup.sh
@@ -324,14 +320,13 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v2
+      - uses: pnpm/action-setup@v2.0.1
         with:
-          path: ~/.pnpm-store
-          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
+          version: latest
 
       - uses: actions/setup-node@v2
         with:
+          cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
       - run: bash .github/workflows/setup.sh
@@ -387,14 +382,13 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v2
+      - uses: pnpm/action-setup@v2.0.1
         with:
-          path: ~/.pnpm-store
-          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
+          version: latest
 
       - uses: actions/setup-node@v2
         with:
+          cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
       - run: bash .github/workflows/setup.sh
@@ -458,14 +452,13 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v2
+      - uses: pnpm/action-setup@v2.0.1
         with:
-          path: ~/.pnpm-store
-          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
+          version: latest
 
       - uses: actions/setup-node@v2
         with:
+          cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
       - run: bash .github/workflows/setup.sh
@@ -506,14 +499,13 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - name: Cache .pnpm-store # From https://pnpm.io/continuous-integration
-        uses: actions/cache@v2
+      - uses: pnpm/action-setup@v2.0.1
         with:
-          path: ~/.pnpm-store
-          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
+          version: latest
 
       - uses: actions/setup-node@v2
         with:
+          cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
       - run: bash .github/workflows/setup.sh
@@ -616,14 +608,13 @@ jobs:
       - name: Setup MySQL
         run: bash .github/workflows/setup-mysql.sh
 
-      - name: Cache .pnpm-store
-        uses: actions/cache@v2
+      - uses: pnpm/action-setup@v2.0.1
         with:
-          path: ~/.pnpm-store
-          key: ${{ runner.os }}-node${{ matrix.node }}-${{ hashFiles('**/pnpm-lock.yaml') }}
+          version: latest
 
       - uses: actions/setup-node@v2
         with:
+          cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
       - run: bash .github/workflows/setup.sh
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,3a22d715e9f3fb68170b713c0c8827a695651cb8,0bae6861f4c9fca7e36fdd1e9cf84b1142c406fe,2022-02-07 17:55:46+01:00,"ci: use setup-node@v2 native cache (#10739)

* ci: use setup-node@v2 native cache

* add pnpm/action-setup@v2.0.1",6,3.10.0,update-engines-version.yml,MODIFY,12,10,,10739,Jolg42,User,MEMBER,Jolg42,User,2021-12-17T09:33:34Z,2022-02-07T16:55:47Z,closed,,Jolg42,User,"See 
https://github.com/actions/setup-node#caching-packages-dependencies
https://pnpm.io/continuous-integration#github-actions
https://github.com/pnpm/action-setup",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/3a22d71_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/3a22d71_update-engines-version.yml,None,None,None,"@@ -3,23 +3,25 @@ on:
   workflow_dispatch:
     inputs:
       version:
-        description: ""Version to check and update the engines version""
+        description: 'Version to check and update the engines version'
         required: true
 
 jobs:
   update_engines:
-    name: ""Check and update @prisma/engines@${{ github.event.inputs.version }}""
+    name: 'Check and update @prisma/engines@${{ github.event.inputs.version }}'
     runs-on: ubuntu-latest
     steps:
       - uses: actions/checkout@v2
 
       - name: Use Node.js
         uses: actions/setup-node@v2
+        with:
+          cache: 'pnpm'
 
       - uses: pnpm/action-setup@v2.0.1
         with:
           version: latest
-          
+
       # This step uses `@prisma/ensure-npm-release` (abbv. `enr`) https://github.com/prisma/ensure-npm-release
       - name: Check if version is available on npm
         run: |
@@ -29,7 +31,7 @@ jobs:
           pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/fetch-engine -u ${{ github.event.inputs.version }}
           pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/get-platform -u ${{ github.event.inputs.version }}
           echo 'Awesome - proceeding to make the PR'
-       
+
       - name: Update the engines dependencies
         run: |
           echo 'Updating @prisma/engines, @prisma/engines-version, @prisma/fetch-engine and @prisma/get-platform to ${{ github.event.inputs.version }} using pnpm'
@@ -40,13 +42,13 @@ jobs:
         uses: peter-evans/create-pull-request@v3
         with:
           token: ${{ secrets.BOT_TOKEN }}
-          commit-message: ""chore(deps): update engines to ${{ github.event.inputs.version }}""
-          committer: ""Prismo <prismabots@gmail.com>""
-          author: ""Prismo <prismabots@gmail.com>""
+          commit-message: 'chore(deps): update engines to ${{ github.event.inputs.version }}'
+          committer: 'Prismo <prismabots@gmail.com>'
+          author: 'Prismo <prismabots@gmail.com>'
           branch: deps/engines-${{ github.event.inputs.version }}
           delete-branch: true
           labels: automerge
-          title: ""chore(deps): update engines to ${{ github.event.inputs.version }}""
+          title: 'chore(deps): update engines to ${{ github.event.inputs.version }}'
           body: |
             This automatic PR updates the engines to version `${{  github.event.inputs.version }}`. This will get automatically merged if all the tests pass.
             ## Packages:
@@ -60,8 +62,8 @@ jobs:
       - name: PR url
         run: |
           echo ""Pull Request URL - ${{ steps.cpr.outputs.pull-request-url }}""
-        
-      - name: Sleep for 5 seconds 
+
+      - name: Sleep for 5 seconds
         run: sleep 5s
         shell: bash
 
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,3a22d715e9f3fb68170b713c0c8827a695651cb8,0bae6861f4c9fca7e36fdd1e9cf84b1142c406fe,2022-02-07 17:55:46+01:00,"ci: use setup-node@v2 native cache (#10739)

* ci: use setup-node@v2 native cache

* add pnpm/action-setup@v2.0.1",6,3.10.0,update-studio-version.yml,MODIFY,12,11,,10739,Jolg42,User,MEMBER,Jolg42,User,2021-12-17T09:33:34Z,2022-02-07T16:55:47Z,closed,,Jolg42,User,"See 
https://github.com/actions/setup-node#caching-packages-dependencies
https://pnpm.io/continuous-integration#github-actions
https://github.com/pnpm/action-setup",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/3a22d71_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/3a22d71_update-studio-version.yml,None,None,None,"@@ -1,33 +1,34 @@
-
 name: Update Studio Version
 on:
   workflow_dispatch:
     inputs:
       version:
-        description: ""Version to check and update the studio version""
+        description: 'Version to check and update the studio version'
         required: true
 
 jobs:
   update_studio:
-    name: ""Check and update @prisma/studio-server@${{ github.event.inputs.version }}""
+    name: 'Check and update @prisma/studio-server@${{ github.event.inputs.version }}'
     runs-on: ubuntu-latest
     steps:
       - uses: actions/checkout@v2
 
       - name: Use Node.js
         uses: actions/setup-node@v2
+        with:
+          cache: 'pnpm'
 
       - uses: pnpm/action-setup@v2.0.1
         with:
           version: latest
-          
+
       # This step uses `@prisma/ensure-npm-release` (abbv. `enr`) https://github.com/prisma/ensure-npm-release
       - name: Check if version is available on npm
         run: |
           echo 'Checking that package @prisma/studio-server have the published version @${{ github.event.inputs.version }}'
           pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/studio-server -u ${{ github.event.inputs.version }}
           echo 'Awesome - proceeding to make the PR'
-       
+
       - name: Update the studio dependencies
         run: |
           echo 'Updating @prisma/studio-server to ${{ github.event.inputs.version }} using pnpm'
@@ -38,13 +39,13 @@ jobs:
         uses: peter-evans/create-pull-request@v3
         with:
           token: ${{ secrets.BOT_TOKEN }}
-          commit-message: ""chore(deps): update studio to ${{ github.event.inputs.version }}""
-          committer: ""Prismo <prismabots@gmail.com>""
-          author: ""Prismo <prismabots@gmail.com>""
+          commit-message: 'chore(deps): update studio to ${{ github.event.inputs.version }}'
+          committer: 'Prismo <prismabots@gmail.com>'
+          author: 'Prismo <prismabots@gmail.com>'
           branch: deps/studio-${{ github.event.inputs.version }}
           delete-branch: true
           labels: automerge
-          title: ""chore(deps): update studio to ${{ github.event.inputs.version }}""
+          title: 'chore(deps): update studio to ${{ github.event.inputs.version }}'
           body: |
             This automatic PR updates the studio to version `${{  github.event.inputs.version }}`. This will get automatically merged if all the tests pass.
             ## Packages:
@@ -55,8 +56,8 @@ jobs:
       - name: PR url
         run: |
           echo ""Pull Request URL - ${{ steps.cpr.outputs.pull-request-url }}""
-        
-      - name: Sleep for 5 seconds 
+
+      - name: Sleep for 5 seconds
         run: sleep 5s
         shell: bash
 
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,8c3559e9bb840e41f23b53eb50ba29090928f653,2d86d0f22054b6c4c5d5bab4f0a3c9fb8f4db2f5,2022-02-08 12:53:33+01:00,ci: fix github actions (#11693),3,3.10.0,benchmark.yml,MODIFY,6,3,,11693,Jolg42,User,MEMBER,Jolg42,User,2022-02-08T11:46:01Z,2022-02-08T11:53:33Z,closed,,,,Follows https://github.com/prisma/prisma/pull/10739,../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/8c3559e_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/8c3559e_benchmark.yml,None,None,None,"@@ -31,11 +31,14 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - name: Use Node.js
-        uses: actions/setup-node@v2
+      - uses: pnpm/action-setup@v2.0.1
+        with:
+          version: latest
+
+      - uses: actions/setup-node@v2
         with:
           cache: 'pnpm'
-          node-version: '12'
+          node-version: '16'
 
       - run: bash .github/workflows/setup.sh
         env:
",False,False,False,False,False,False,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,8c3559e9bb840e41f23b53eb50ba29090928f653,2d86d0f22054b6c4c5d5bab4f0a3c9fb8f4db2f5,2022-02-08 12:53:33+01:00,ci: fix github actions (#11693),3,3.10.0,update-engines-version.yml,MODIFY,5,5,,11693,Jolg42,User,MEMBER,Jolg42,User,2022-02-08T11:46:01Z,2022-02-08T11:53:33Z,closed,,,,Follows https://github.com/prisma/prisma/pull/10739,../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/8c3559e_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/8c3559e_update-engines-version.yml,None,None,None,"@@ -13,15 +13,15 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - name: Use Node.js
-        uses: actions/setup-node@v2
-        with:
-          cache: 'pnpm'
-
       - uses: pnpm/action-setup@v2.0.1
         with:
           version: latest
 
+      - uses: actions/setup-node@v2
+        with:
+          cache: 'pnpm'
+          node-version: '16'
+
       # This step uses `@prisma/ensure-npm-release` (abbv. `enr`) https://github.com/prisma/ensure-npm-release
       - name: Check if version is available on npm
         run: |
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,8c3559e9bb840e41f23b53eb50ba29090928f653,2d86d0f22054b6c4c5d5bab4f0a3c9fb8f4db2f5,2022-02-08 12:53:33+01:00,ci: fix github actions (#11693),3,3.10.0,update-studio-version.yml,MODIFY,5,5,,11693,Jolg42,User,MEMBER,Jolg42,User,2022-02-08T11:46:01Z,2022-02-08T11:53:33Z,closed,,,,Follows https://github.com/prisma/prisma/pull/10739,../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/8c3559e_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/8c3559e_update-studio-version.yml,None,None,None,"@@ -13,15 +13,15 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - name: Use Node.js
-        uses: actions/setup-node@v2
-        with:
-          cache: 'pnpm'
-
       - uses: pnpm/action-setup@v2.0.1
         with:
           version: latest
 
+      - uses: actions/setup-node@v2
+        with:
+          cache: 'pnpm'
+          node-version: '16'
+
       # This step uses `@prisma/ensure-npm-release` (abbv. `enr`) https://github.com/prisma/ensure-npm-release
       - name: Check if version is available on npm
         run: |
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,54ce4a15a89d4740d638f0ebcdc3af4ffb38cfe4,9fb55b573acbfe14c9c7189722d8c82d06193b84,2022-02-08 16:27:40+01:00,"chore(deps): update pnpm/action-setup action to v2.1.0 (#11700)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",4,,benchmark.yml,MODIFY,1,1,,11700,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-08T14:45:02Z,2022-02-08T15:27:41Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | minor | `v2.0.1` -> `v2.1.0` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.1.0`](https://togithub.com/pnpm/action-setup/releases/v2.1.0)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.0.1...v2.1.0)

Support pnpm v7 [https://github.com/pnpm/action-setup/pull/29](https://togithub.com/pnpm/action-setup/pull/29)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/54ce4a1_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/54ce4a1_benchmark.yml,None,None,None,"@@ -31,7 +31,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.0.1
+      - uses: pnpm/action-setup@v2.1.0
         with:
           version: latest
 
",False,False,False,False,False,False,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,54ce4a15a89d4740d638f0ebcdc3af4ffb38cfe4,9fb55b573acbfe14c9c7189722d8c82d06193b84,2022-02-08 16:27:40+01:00,"chore(deps): update pnpm/action-setup action to v2.1.0 (#11700)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",4,,test.yml,MODIFY,9,9,,11700,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-08T14:45:02Z,2022-02-08T15:27:41Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | minor | `v2.0.1` -> `v2.1.0` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.1.0`](https://togithub.com/pnpm/action-setup/releases/v2.1.0)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.0.1...v2.1.0)

Support pnpm v7 [https://github.com/pnpm/action-setup/pull/29](https://togithub.com/pnpm/action-setup/pull/29)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/54ce4a1_test.yml,../Mining/generated/scripts/prisma/files_src_after/54ce4a1_test.yml,None,None,None,"@@ -83,7 +83,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.0.1
+      - uses: pnpm/action-setup@v2.1.0
         with:
           version: latest
 
@@ -131,7 +131,7 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb
 
-      - uses: pnpm/action-setup@v2.0.1
+      - uses: pnpm/action-setup@v2.1.0
         with:
           version: latest
 
@@ -185,7 +185,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.0.1
+      - uses: pnpm/action-setup@v2.1.0
         with:
           version: latest
 
@@ -250,7 +250,7 @@ jobs:
       - run: docker-compose -f docker/docker-compose.yml up --detach ${{matrix.database}}
         if: matrix.database != 'sqlite'
 
-      - uses: pnpm/action-setup@v2.0.1
+      - uses: pnpm/action-setup@v2.1.0
         with:
           version: latest
 
@@ -320,7 +320,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.0.1
+      - uses: pnpm/action-setup@v2.1.0
         with:
           version: latest
 
@@ -382,7 +382,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.0.1
+      - uses: pnpm/action-setup@v2.1.0
         with:
           version: latest
 
@@ -452,7 +452,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.0.1
+      - uses: pnpm/action-setup@v2.1.0
         with:
           version: latest
 
@@ -499,7 +499,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.0.1
+      - uses: pnpm/action-setup@v2.1.0
         with:
           version: latest
 
@@ -608,7 +608,7 @@ jobs:
       - name: Setup MySQL
         run: bash .github/workflows/setup-mysql.sh
 
-      - uses: pnpm/action-setup@v2.0.1
+      - uses: pnpm/action-setup@v2.1.0
         with:
           version: latest
 
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,54ce4a15a89d4740d638f0ebcdc3af4ffb38cfe4,9fb55b573acbfe14c9c7189722d8c82d06193b84,2022-02-08 16:27:40+01:00,"chore(deps): update pnpm/action-setup action to v2.1.0 (#11700)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",4,,update-engines-version.yml,MODIFY,1,1,,11700,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-08T14:45:02Z,2022-02-08T15:27:41Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | minor | `v2.0.1` -> `v2.1.0` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.1.0`](https://togithub.com/pnpm/action-setup/releases/v2.1.0)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.0.1...v2.1.0)

Support pnpm v7 [https://github.com/pnpm/action-setup/pull/29](https://togithub.com/pnpm/action-setup/pull/29)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/54ce4a1_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/54ce4a1_update-engines-version.yml,None,None,None,"@@ -13,7 +13,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.0.1
+      - uses: pnpm/action-setup@v2.1.0
         with:
           version: latest
 
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,54ce4a15a89d4740d638f0ebcdc3af4ffb38cfe4,9fb55b573acbfe14c9c7189722d8c82d06193b84,2022-02-08 16:27:40+01:00,"chore(deps): update pnpm/action-setup action to v2.1.0 (#11700)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",4,,update-studio-version.yml,MODIFY,1,1,,11700,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-08T14:45:02Z,2022-02-08T15:27:41Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | minor | `v2.0.1` -> `v2.1.0` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.1.0`](https://togithub.com/pnpm/action-setup/releases/v2.1.0)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.0.1...v2.1.0)

Support pnpm v7 [https://github.com/pnpm/action-setup/pull/29](https://togithub.com/pnpm/action-setup/pull/29)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/54ce4a1_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/54ce4a1_update-studio-version.yml,None,None,None,"@@ -13,7 +13,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.0.1
+      - uses: pnpm/action-setup@v2.1.0
         with:
           version: latest
 
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,6bff4faf0a57bcbe94adbeac3f1ef1f11e2ac245,54ce4a15a89d4740d638f0ebcdc3af4ffb38cfe4,2022-02-08 16:49:48+01:00,ci: Slack Notification on Failure (#11696),6,3.10.0,benchmark.yml,MODIFY,16,0,,11696,Jolg42,User,MEMBER,Jolg42,User,2022-02-08T12:59:58Z,2022-02-08T15:49:49Z,closed,,,,"With this PR we will now get notified if any of these actions fails in Slack

A `SLACK_WEBHOOK` env var was added to https://github.com/prisma/prisma/settings/secrets/actions",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/6bff4fa_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/6bff4fa_benchmark.yml,None,None,None,"@@ -66,3 +66,19 @@ jobs:
           comment-on-alert: true
           fail-on-alert: true
           alert-comment-cc-users: '@Jolg42,@millsp'
+
+      - name: 'Set current job url in SLACK_FOOTER env var'
+        if: ${{ failure() }}
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+
+      - name: Slack Notification on Failure
+        if: ${{ failure() }}
+        uses: rtCamp/action-slack-notify@v2.2.0
+        env:
+          SLACK_TITLE: 'Benchmark failed :x:'
+          SLACK_COLOR: '#FF0000'
+          SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}
+          SLACK_CHANNEL: feed-prisma-failures
+          SLACK_USERNAME: Prismo
+          SLACK_ICON_EMOJI: ':boom:'
+          SLACK_MSG_AUTHOR: prisma-bot
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,6bff4faf0a57bcbe94adbeac3f1ef1f11e2ac245,54ce4a15a89d4740d638f0ebcdc3af4ffb38cfe4,2022-02-08 16:49:48+01:00,ci: Slack Notification on Failure (#11696),6,3.10.0,codeql-analysis.yml,MODIFY,26,10,,11696,Jolg42,User,MEMBER,Jolg42,User,2022-02-08T12:59:58Z,2022-02-08T15:49:49Z,closed,,,,"With this PR we will now get notified if any of these actions fails in Slack

A `SLACK_WEBHOOK` env var was added to https://github.com/prisma/prisma/settings/secrets/actions",../Mining/generated/scripts/prisma/current_code/codeql-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/6bff4fa_codeql-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/6bff4fa_codeql-analysis.yml,None,None,None,"@@ -1,16 +1,16 @@
-name: ""CodeQL: Code Scanning""
+name: 'CodeQL: Code Scanning'
 
 on:
-#   push:
-#     branches: [ main ]
-#   pull_request:
-#     # The branches below must be a subset of the branches above
-#     branches: [ main ]
+  #   push:
+  #     branches: [ main ]
+  #   pull_request:
+  #     # The branches below must be a subset of the branches above
+  #     branches: [ main ]
   schedule:
-    # Runs at 14:43 UTC on Sun. 
+    # Runs at 14:43 UTC on Sun.
     - cron: '43 14 * * 0'
   workflow_dispatch:
-  
+
 jobs:
   analyze:
     name: Analyze
@@ -27,12 +27,12 @@ jobs:
       matrix:
         # CodeQL supports [ 'cpp', 'csharp', 'go', 'java', 'javascript', 'python', 'ruby' ]
         # Learn more about CodeQL language support at https://git.io/codeql-language-support
-        language: [ 'javascript' ]
+        language: ['javascript']
 
     steps:
       - name: Checkout repository
         uses: actions/checkout@v2
-    
+
       # Initializes the CodeQL tools for scanning.
       - name: Initialize CodeQL
         uses: github/codeql-action/init@v1
@@ -45,3 +45,19 @@ jobs:
 
       - name: Perform CodeQL Analysis
         uses: github/codeql-action/analyze@v1
+
+      - name: 'Set current job url in SLACK_FOOTER env var'
+        if: ${{ failure() }}
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+
+      - name: Slack Notification on Failure
+        if: ${{ failure() }}
+        uses: rtCamp/action-slack-notify@v2.2.0
+        env:
+          SLACK_TITLE: 'CodeQL: Code Scanning failed :x:'
+          SLACK_COLOR: '#FF0000'
+          SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}
+          SLACK_CHANNEL: feed-prisma-failures
+          SLACK_USERNAME: Prismo
+          SLACK_ICON_EMOJI: ':boom:'
+          SLACK_MSG_AUTHOR: prisma-bot
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,6bff4faf0a57bcbe94adbeac3f1ef1f11e2ac245,54ce4a15a89d4740d638f0ebcdc3af4ffb38cfe4,2022-02-08 16:49:48+01:00,ci: Slack Notification on Failure (#11696),6,3.10.0,label-stale-issues.yml,MODIFY,16,0,,11696,Jolg42,User,MEMBER,Jolg42,User,2022-02-08T12:59:58Z,2022-02-08T15:49:49Z,closed,,,,"With this PR we will now get notified if any of these actions fails in Slack

A `SLACK_WEBHOOK` env var was added to https://github.com/prisma/prisma/settings/secrets/actions",../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/6bff4fa_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/6bff4fa_label-stale-issues.yml,None,None,None,"@@ -20,3 +20,19 @@ jobs:
           skip-stale-pr-message: true
           ascending: true
           operations-per-run: 100
+
+      - name: 'Set current job url in SLACK_FOOTER env var'
+        if: ${{ failure() }}
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+
+      - name: Slack Notification on Failure
+        if: ${{ failure() }}
+        uses: rtCamp/action-slack-notify@v2.2.0
+        env:
+          SLACK_TITLE: 'Labels stale issues failed :x:'
+          SLACK_COLOR: '#FF0000'
+          SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}
+          SLACK_CHANNEL: feed-prisma-failures
+          SLACK_USERNAME: Prismo
+          SLACK_ICON_EMOJI: ':boom:'
+          SLACK_MSG_AUTHOR: prisma-bot
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,6bff4faf0a57bcbe94adbeac3f1ef1f11e2ac245,54ce4a15a89d4740d638f0ebcdc3af4ffb38cfe4,2022-02-08 16:49:48+01:00,ci: Slack Notification on Failure (#11696),6,3.10.0,scorecards-analysis.yml,MODIFY,20,5,,11696,Jolg42,User,MEMBER,Jolg42,User,2022-02-08T12:59:58Z,2022-02-08T15:49:49Z,closed,,,,"With this PR we will now get notified if any of these actions fails in Slack

A `SLACK_WEBHOOK` env var was added to https://github.com/prisma/prisma/settings/secrets/actions",../Mining/generated/scripts/prisma/current_code/scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/6bff4fa_scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/6bff4fa_scorecards-analysis.yml,None,None,None,"@@ -5,7 +5,7 @@ on:
   schedule:
     - cron: '21 21 * * 2'
   push:
-    branches: [ main ]
+    branches: [main]
 
 # Declare default permissions as read only.
 permissions: read-all
@@ -21,12 +21,12 @@ jobs:
       contents: read
 
     steps:
-      - name: ""Checkout code""
+      - name: 'Checkout code'
         uses: actions/checkout@v2
         with:
           persist-credentials: false
 
-      - name: ""Run analysis""
+      - name: 'Run analysis'
         uses: ossf/scorecard-action@v1.0.3
         with:
           results_file: results.sarif
@@ -41,7 +41,7 @@ jobs:
           publish_results: true
 
       # Upload the results as artifacts (optional).
-      - name: ""Upload artifact""
+      - name: 'Upload artifact'
         uses: actions/upload-artifact@v2.3.1
         with:
           name: SARIF file
@@ -49,7 +49,22 @@ jobs:
           retention-days: 5
 
       # Upload the results to GitHub's code scanning dashboard.
-      - name: ""Upload to code-scanning""
+      - name: 'Upload to code-scanning'
         uses: github/codeql-action/upload-sarif@v1
         with:
           sarif_file: results.sarif
+
+      - name: 'Set current job url in SLACK_FOOTER env var'
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+
+      - name: Slack Notification on Failure
+        if: ${{ failure() }}
+        uses: rtCamp/action-slack-notify@v2.2.0
+        env:
+          SLACK_TITLE: 'Scorecards supply-chain security failed :x:'
+          SLACK_COLOR: '#FF0000'
+          SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}
+          SLACK_CHANNEL: feed-prisma-failures
+          SLACK_USERNAME: Prismo
+          SLACK_ICON_EMOJI: ':boom:'
+          SLACK_MSG_AUTHOR: prisma-bot
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,6bff4faf0a57bcbe94adbeac3f1ef1f11e2ac245,54ce4a15a89d4740d638f0ebcdc3af4ffb38cfe4,2022-02-08 16:49:48+01:00,ci: Slack Notification on Failure (#11696),6,3.10.0,update-engines-version.yml,MODIFY,16,0,,11696,Jolg42,User,MEMBER,Jolg42,User,2022-02-08T12:59:58Z,2022-02-08T15:49:49Z,closed,,,,"With this PR we will now get notified if any of these actions fails in Slack

A `SLACK_WEBHOOK` env var was added to https://github.com/prisma/prisma/settings/secrets/actions",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/6bff4fa_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/6bff4fa_update-engines-version.yml,None,None,None,"@@ -73,3 +73,19 @@ jobs:
         with:
           github-token: ${{ secrets.GITHUB_TOKEN }}
           number: ${{ steps.cpr.outputs.pull-request-number }}
+
+      - name: 'Set current job url in SLACK_FOOTER env var'
+        if: ${{ failure() }}
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+
+      - name: Slack Notification on Failure
+        if: ${{ failure() }}
+        uses: rtCamp/action-slack-notify@v2.2.0
+        env:
+          SLACK_TITLE: 'Update Engines Version failed :x:'
+          SLACK_COLOR: '#FF0000'
+          SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}
+          SLACK_CHANNEL: feed-prisma-failures
+          SLACK_USERNAME: Prismo
+          SLACK_ICON_EMOJI: ':boom:'
+          SLACK_MSG_AUTHOR: prisma-bot
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,6bff4faf0a57bcbe94adbeac3f1ef1f11e2ac245,54ce4a15a89d4740d638f0ebcdc3af4ffb38cfe4,2022-02-08 16:49:48+01:00,ci: Slack Notification on Failure (#11696),6,3.10.0,update-studio-version.yml,MODIFY,16,0,,11696,Jolg42,User,MEMBER,Jolg42,User,2022-02-08T12:59:58Z,2022-02-08T15:49:49Z,closed,,,,"With this PR we will now get notified if any of these actions fails in Slack

A `SLACK_WEBHOOK` env var was added to https://github.com/prisma/prisma/settings/secrets/actions",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/6bff4fa_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/6bff4fa_update-studio-version.yml,None,None,None,"@@ -67,3 +67,19 @@ jobs:
         with:
           github-token: ${{ secrets.GITHUB_TOKEN }}
           number: ${{ steps.cpr.outputs.pull-request-number }}
+
+      - name: 'Set current job url in SLACK_FOOTER env var'
+        if: ${{ failure() }}
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+
+      - name: Slack Notification on Failure
+        if: ${{ failure() }}
+        uses: rtCamp/action-slack-notify@v2.2.0
+        env:
+          SLACK_TITLE: 'Update Studio Version failed :x:'
+          SLACK_COLOR: '#FF0000'
+          SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}
+          SLACK_CHANNEL: feed-prisma-failures
+          SLACK_USERNAME: Prismo
+          SLACK_ICON_EMOJI: ':boom:'
+          SLACK_MSG_AUTHOR: prisma-bot
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,fbebb7770d897783a4dda58a53ca735a5fa71c90,6f6735357069b918e2a455a13cbdb081a940b06e,2022-02-18 08:16:08+01:00,"chore(deps): update ossf/scorecard-action action to v1.0.4 (#11893)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",1,3.10.0,scorecards-analysis.yml,MODIFY,1,1,,11893,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-18T01:39:43Z,2022-02-18T07:16:09Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [ossf/scorecard-action](https://togithub.com/ossf/scorecard-action) | action | patch | `v1.0.3` -> `v1.0.4` |

---

### Release Notes

<details>
<summary>ossf/scorecard-action</summary>

### [`v1.0.4`](https://togithub.com/ossf/scorecard-action/releases/v1.0.4)

[Compare Source](https://togithub.com/ossf/scorecard-action/compare/v1.0.3...v1.0.4)

#### Summary

This release fixes `null` repository and branch issues: see [https://github.com/ossf/scorecard-action/issues/106](https://togithub.com/ossf/scorecard-action/issues/106), [https://github.com/ossf/scorecard-action/issues/84](https://togithub.com/ossf/scorecard-action/issues/84) and [https://github.com/ossf/scorecard-action/issues/73](https://togithub.com/ossf/scorecard-action/issues/73)

#### What's Changed

-   Update codeql-analysis.yml by [@&#8203;jauderho](https://togithub.com/jauderho) in [https://github.com/ossf/scorecard-action/pull/76](https://togithub.com/ossf/scorecard-action/pull/76)
-   use GITHUB_REPOSITORY in shell script by [@&#8203;laurentsimon](https://togithub.com/laurentsimon) in [https://github.com/ossf/scorecard-action/pull/83](https://togithub.com/ossf/scorecard-action/pull/83)
-   Bump github/codeql-action from 1.0.30 to 1.0.31 by [@&#8203;dependabot](https://togithub.com/dependabot) in [https://github.com/ossf/scorecard-action/pull/81](https://togithub.com/ossf/scorecard-action/pull/81)
-   ✨ Add warning for empty repo token by [@&#8203;laurentsimon](https://togithub.com/laurentsimon) in [https://github.com/ossf/scorecard-action/pull/71](https://togithub.com/ossf/scorecard-action/pull/71)
-   🐛  Fix default parameter requirement by [@&#8203;laurentsimon](https://togithub.com/laurentsimon) in [https://github.com/ossf/scorecard-action/pull/89](https://togithub.com/ossf/scorecard-action/pull/89)
-   :sparkles:  Initial porting the shellscript to go by [@&#8203;naveensrinivasan](https://togithub.com/naveensrinivasan) in [https://github.com/ossf/scorecard-action/pull/87](https://togithub.com/ossf/scorecard-action/pull/87)
-   :seedling: Golang CI for clean code. by [@&#8203;naveensrinivasan](https://togithub.com/naveensrinivasan) in [https://github.com/ossf/scorecard-action/pull/90](https://togithub.com/ossf/scorecard-action/pull/90)
-   Bump github/codeql-action from 1.0.31 to 1.0.32 by [@&#8203;dependabot](https://togithub.com/dependabot) in [https://github.com/ossf/scorecard-action/pull/93](https://togithub.com/ossf/scorecard-action/pull/93)
-   :seedling: Porting shell script to Go by [@&#8203;naveensrinivasan](https://togithub.com/naveensrinivasan) in [https://github.com/ossf/scorecard-action/pull/94](https://togithub.com/ossf/scorecard-action/pull/94)
-   🌱 More tests by [@&#8203;naveensrinivasan](https://togithub.com/naveensrinivasan) in [https://github.com/ossf/scorecard-action/pull/95](https://togithub.com/ossf/scorecard-action/pull/95)
-   🐛 Fix null is fork in script by [@&#8203;laurentsimon](https://togithub.com/laurentsimon) in [https://github.com/ossf/scorecard-action/pull/98](https://togithub.com/ossf/scorecard-action/pull/98)
-   :seedling: Porting of shell script to go by [@&#8203;naveensrinivasan](https://togithub.com/naveensrinivasan) in [https://github.com/ossf/scorecard-action/pull/99](https://togithub.com/ossf/scorecard-action/pull/99)
-   Bump github/codeql-action from 1.0.32 to 1.1.0 by [@&#8203;dependabot](https://togithub.com/dependabot) in [https://github.com/ossf/scorecard-action/pull/102](https://togithub.com/ossf/scorecard-action/pull/102)
-   Bump actions/setup-go from 2.1.5 to 2.2.0 by [@&#8203;dependabot](https://togithub.com/dependabot) in [https://github.com/ossf/scorecard-action/pull/101](https://togithub.com/ossf/scorecard-action/pull/101)
-   :seedling: Final bits of porting the shell to go by [@&#8203;naveensrinivasan](https://togithub.com/naveensrinivasan) in [https://github.com/ossf/scorecard-action/pull/103](https://togithub.com/ossf/scorecard-action/pull/103)
-   :seedling: Dependabot for go by [@&#8203;naveensrinivasan](https://togithub.com/naveensrinivasan) in [https://github.com/ossf/scorecard-action/pull/104](https://togithub.com/ossf/scorecard-action/pull/104)
-   :seedling: Verify clean env in build by [@&#8203;naveensrinivasan](https://togithub.com/naveensrinivasan) in [https://github.com/ossf/scorecard-action/pull/105](https://togithub.com/ossf/scorecard-action/pull/105)

#### New Contributors

-   [@&#8203;dependabot](https://togithub.com/dependabot) made their first contribution in [https://github.com/ossf/scorecard-action/pull/81](https://togithub.com/ossf/scorecard-action/pull/81)

**Full Changelog**: https://github.com/ossf/scorecard-action/compare/v1.0.3...v1.0.4

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/fbebb77_scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/fbebb77_scorecards-analysis.yml,None,None,None,"@@ -26,7 +26,7 @@ jobs:
           persist-credentials: false
 
       - name: 'Run analysis'
-        uses: ossf/scorecard-action@v1.0.3
+        uses: ossf/scorecard-action@v1.0.4
         with:
           results_file: results.sarif
           results_format: sarif
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,e5dc7629f567f1c6d2ccd2098aa7261326157ba5,b847818c6498e257e07a43873ca2b1db0b6e8b57,2022-02-18 11:10:35+01:00,ci: fix mongo db seed with --drop (#11897),8,3.10.0,test.yml,MODIFY,1,1,,11897,Jolg42,User,MEMBER,Jolg42,User,2022-02-18T08:03:24Z,2022-02-18T10:10:35Z,closed,,,,"We got a few flaky runs, were seeding was run twice, probably because the service was reused in Buildkite and seeding executed twice.

and small cleanup renaming",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/e5dc762_test.yml,../Mining/generated/scripts/prisma/files_src_after/e5dc762_test.yml,None,None,None,"@@ -372,7 +372,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo_migrate mongo_migrate_seed
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongodb_migrate mongodb_migrate_seed
 
       - name: Set CLI Engine Type
         run: |
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,4f867cbe63afdf063bbdbd0adb7a87988d092246,5029a59568e268b492823ea90dd7058f1224b287,2022-02-23 09:05:54+01:00,"chore(deps): update pnpm/action-setup action to v2.2.0 (#11991)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",4,,benchmark.yml,MODIFY,1,1,,11991,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-23T03:21:08Z,2022-02-23T08:05:55Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | minor | `v2.1.0` -> `v2.2.0` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.0`](https://togithub.com/pnpm/action-setup/releases/v2.2.0)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.1.0...v2.2.0)

-   Support the `packageManager` field in the `package.json` file [https://github.com/pnpm/action-setup/pull/33](https://togithub.com/pnpm/action-setup/pull/33).
-   Use `@pnpm/fetch` as an attempt to fix [https://github.com/pnpm/action-setup/issues/22](https://togithub.com/pnpm/action-setup/issues/22) [https://github.com/pnpm/action-setup/pull/32](https://togithub.com/pnpm/action-setup/pull/32).

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/4f867cb_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/4f867cb_benchmark.yml,None,None,None,"@@ -31,7 +31,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.1.0
+      - uses: pnpm/action-setup@v2.2.0
         with:
           version: latest
 
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,4f867cbe63afdf063bbdbd0adb7a87988d092246,5029a59568e268b492823ea90dd7058f1224b287,2022-02-23 09:05:54+01:00,"chore(deps): update pnpm/action-setup action to v2.2.0 (#11991)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",4,,test.yml,MODIFY,9,9,,11991,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-23T03:21:08Z,2022-02-23T08:05:55Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | minor | `v2.1.0` -> `v2.2.0` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.0`](https://togithub.com/pnpm/action-setup/releases/v2.2.0)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.1.0...v2.2.0)

-   Support the `packageManager` field in the `package.json` file [https://github.com/pnpm/action-setup/pull/33](https://togithub.com/pnpm/action-setup/pull/33).
-   Use `@pnpm/fetch` as an attempt to fix [https://github.com/pnpm/action-setup/issues/22](https://togithub.com/pnpm/action-setup/issues/22) [https://github.com/pnpm/action-setup/pull/32](https://togithub.com/pnpm/action-setup/pull/32).

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/4f867cb_test.yml,../Mining/generated/scripts/prisma/files_src_after/4f867cb_test.yml,None,None,None,"@@ -83,7 +83,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.1.0
+      - uses: pnpm/action-setup@v2.2.0
         with:
           version: latest
 
@@ -131,7 +131,7 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb
 
-      - uses: pnpm/action-setup@v2.1.0
+      - uses: pnpm/action-setup@v2.2.0
         with:
           version: latest
 
@@ -185,7 +185,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.1.0
+      - uses: pnpm/action-setup@v2.2.0
         with:
           version: latest
 
@@ -250,7 +250,7 @@ jobs:
       - run: docker-compose -f docker/docker-compose.yml up --detach ${{matrix.database}}
         if: matrix.database != 'sqlite'
 
-      - uses: pnpm/action-setup@v2.1.0
+      - uses: pnpm/action-setup@v2.2.0
         with:
           version: latest
 
@@ -320,7 +320,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.1.0
+      - uses: pnpm/action-setup@v2.2.0
         with:
           version: latest
 
@@ -382,7 +382,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.1.0
+      - uses: pnpm/action-setup@v2.2.0
         with:
           version: latest
 
@@ -452,7 +452,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.1.0
+      - uses: pnpm/action-setup@v2.2.0
         with:
           version: latest
 
@@ -499,7 +499,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.1.0
+      - uses: pnpm/action-setup@v2.2.0
         with:
           version: latest
 
@@ -608,7 +608,7 @@ jobs:
       - name: Setup MySQL
         run: bash .github/workflows/setup-mysql.sh
 
-      - uses: pnpm/action-setup@v2.1.0
+      - uses: pnpm/action-setup@v2.2.0
         with:
           version: latest
 
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,4f867cbe63afdf063bbdbd0adb7a87988d092246,5029a59568e268b492823ea90dd7058f1224b287,2022-02-23 09:05:54+01:00,"chore(deps): update pnpm/action-setup action to v2.2.0 (#11991)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",4,,update-engines-version.yml,MODIFY,1,1,,11991,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-23T03:21:08Z,2022-02-23T08:05:55Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | minor | `v2.1.0` -> `v2.2.0` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.0`](https://togithub.com/pnpm/action-setup/releases/v2.2.0)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.1.0...v2.2.0)

-   Support the `packageManager` field in the `package.json` file [https://github.com/pnpm/action-setup/pull/33](https://togithub.com/pnpm/action-setup/pull/33).
-   Use `@pnpm/fetch` as an attempt to fix [https://github.com/pnpm/action-setup/issues/22](https://togithub.com/pnpm/action-setup/issues/22) [https://github.com/pnpm/action-setup/pull/32](https://togithub.com/pnpm/action-setup/pull/32).

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/4f867cb_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/4f867cb_update-engines-version.yml,None,None,None,"@@ -13,7 +13,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.1.0
+      - uses: pnpm/action-setup@v2.2.0
         with:
           version: latest
 
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,4f867cbe63afdf063bbdbd0adb7a87988d092246,5029a59568e268b492823ea90dd7058f1224b287,2022-02-23 09:05:54+01:00,"chore(deps): update pnpm/action-setup action to v2.2.0 (#11991)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",4,,update-studio-version.yml,MODIFY,1,1,,11991,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-23T03:21:08Z,2022-02-23T08:05:55Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | minor | `v2.1.0` -> `v2.2.0` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.0`](https://togithub.com/pnpm/action-setup/releases/v2.2.0)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.1.0...v2.2.0)

-   Support the `packageManager` field in the `package.json` file [https://github.com/pnpm/action-setup/pull/33](https://togithub.com/pnpm/action-setup/pull/33).
-   Use `@pnpm/fetch` as an attempt to fix [https://github.com/pnpm/action-setup/issues/22](https://togithub.com/pnpm/action-setup/issues/22) [https://github.com/pnpm/action-setup/pull/32](https://togithub.com/pnpm/action-setup/pull/32).

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/4f867cb_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/4f867cb_update-studio-version.yml,None,None,None,"@@ -13,7 +13,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.1.0
+      - uses: pnpm/action-setup@v2.2.0
         with:
           version: latest
 
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,d7c25cf7e4c708e5b6c5c3fe72d44b4f25839892,1304f064629f333c27cbc4f4335a83ccd49bd639,2022-02-23 15:44:02+01:00,"ci: GitHub Action - retry engines update (#11997)

[skip ci]",1,3.11.0,update-engines-version.yml,MODIFY,9,4,,11997,Jolg42,User,MEMBER,Jolg42,User,2022-02-23T14:21:13Z,2022-02-23T14:44:03Z,closed,,,,"We had many failures on this step in the last days, so let's retry 🐰 

Like https://prisma-company.slack.com/archives/C032H34TACR/p1645546021853659",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/d7c25cf_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/d7c25cf_update-engines-version.yml,None,None,None,"@@ -30,12 +30,17 @@ jobs:
           pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/engines-version -u ${{ github.event.inputs.version }}
           pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/fetch-engine -u ${{ github.event.inputs.version }}
           pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/get-platform -u ${{ github.event.inputs.version }}
-          echo 'Awesome - proceeding to make the PR'
+          echo 'Awesome - proceeding to update the dependencies'
 
       - name: Update the engines dependencies
-        run: |
-          echo 'Updating @prisma/engines, @prisma/engines-version, @prisma/fetch-engine and @prisma/get-platform to ${{ github.event.inputs.version }} using pnpm'
-          pnpm update -r @prisma/engines@${{ github.event.inputs.version }} @prisma/engines-version@${{ github.event.inputs.version  }} @prisma/fetch-engine@${{ github.event.inputs.version  }} @prisma/get-platform@${{ github.event.inputs.version  }}
+        uses: nick-fields/retry@v2
+        with:
+          timeout_minutes: 7
+          max_attempts: 3
+          command: |
+            echo 'Updating @prisma/engines, @prisma/engines-version, @prisma/fetch-engine and @prisma/get-platform to ${{ github.event.inputs.version }} using pnpm'
+            pnpm update -r @prisma/engines@${{ github.event.inputs.version }} @prisma/engines-version@${{ github.event.inputs.version }} @prisma/fetch-engine@${{ github.event.inputs.version }} @prisma/get-platform@${{ github.event.inputs.version }}
+            echo 'Awesome - proceeding to make the PR'
 
       - name: Create Pull Request
         id: cpr
",True,False,False,False,False,True,True
prisma,codesee-architecture-diagrams[bot],,86324825+codesee-architecture-diagrams[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,5ece32bca4d34df2cf4da59a1decde7a0a1aba0c,e865e67a17c02d56ceedbdfe2037891e87ec7495,2022-02-23 19:52:14+01:00,"feat(codesee): Add CodeSee architecture diagram workflow to repository (#12002)

Co-authored-by: codesee-architecture-diagrams[bot] <86324825+codesee-architecture-diagrams[bot]@users.noreply.github.com>",1,,codesee-arch-diagram.yml,ADD,81,0,,12002,ghost,User,NONE,janpio,User,2022-02-23T18:30:05Z,2022-02-23T18:52:14Z,closed,,,,"Approve this pull request to add the CodeSee architecture diagram workflow to your repository.

To view your architecture diagram, navigate to https://app.codesee.io/maps.",../Mining/generated/scripts/prisma/current_code/codesee-arch-diagram.yml,../Mining/generated/scripts/prisma/files_src_before/5ece32b_codesee-arch-diagram.yml,../Mining/generated/scripts/prisma/files_src_after/5ece32b_codesee-arch-diagram.yml,None,None,None,"@@ -0,0 +1,81 @@
+on:
+  push:
+    branches:
+      - main
+  pull_request_target:
+    types: [opened, synchronize, reopened]
+
+name: CodeSee Map
+
+jobs:
+  test_map_action:
+    runs-on: ubuntu-latest
+    continue-on-error: true
+    name: Run CodeSee Map Analysis
+    steps:
+      - name: checkout
+        id: checkout
+        uses: actions/checkout@v2
+        with:
+          repository: ${{ github.event.pull_request.head.repo.full_name }}
+          ref: ${{ github.event.pull_request.head.ref }}
+          fetch-depth: 0
+
+      # codesee-detect-languages has an output with id languages.
+      - name: Detect Languages
+        id: detect-languages
+        uses: Codesee-io/codesee-detect-languages-action@latest
+
+      - name: Configure JDK 16
+        uses: actions/setup-java@v2
+        if: ${{ fromJSON(steps.detect-languages.outputs.languages).java }}
+        with:
+          java-version: '16'
+          distribution: 'zulu'
+
+      # CodeSee Maps Go support uses a static binary so there's no setup step required.
+
+      - name: Configure Node.js 14
+        uses: actions/setup-node@v2
+        if: ${{ fromJSON(steps.detect-languages.outputs.languages).javascript }}
+        with:
+          node-version: '14'
+
+      - name: Configure Python 3.x
+        uses: actions/setup-python@v2
+        if: ${{ fromJSON(steps.detect-languages.outputs.languages).python }}
+        with:
+          python-version: '3.10'
+          architecture: 'x64'
+
+      - name: Configure Ruby '3.x'
+        uses: ruby/setup-ruby@v1
+        if: ${{ fromJSON(steps.detect-languages.outputs.languages).ruby }}
+        with:
+          ruby-version: '3.0'
+
+      # CodeSee Maps Rust support uses a static binary so there's no setup step required.
+
+      - name: Generate Map
+        id: generate-map
+        uses: Codesee-io/codesee-map-action@latest
+        with:
+          step: map
+          github_ref: ${{ github.ref }}
+          languages: ${{ steps.detect-languages.outputs.languages }}
+
+      - name: Upload Map
+        id: upload-map
+        uses: Codesee-io/codesee-map-action@latest
+        with:
+          step: mapUpload
+          api_token: ${{ secrets.CODESEE_ARCH_DIAG_API_TOKEN }}
+          github_ref: ${{ github.ref }}
+      
+      - name: Insights
+        id: insights
+        uses: Codesee-io/codesee-map-action@latest
+        with:
+          step: insights
+          api_token: ${{ secrets.CODESEE_ARCH_DIAG_API_TOKEN }}
+          github_ref: ${{ github.ref }}
",False,False,False,True,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,3d07eb6f166f44ec9e68f4adb2633fa1e84e53b0,52eed079145ee1ff8f04c8ed775a96da293a6477,2022-02-24 20:10:42+01:00,"feat: BuildPulse flaky test detection (#11967)

Co-authored-by: Jason Rudolph <jason@jasonrudolph.com>",21,3.11.0,test.yml,MODIFY,107,22,,11967,janpio,User,MEMBER,janpio,User,2022-02-21T19:37:47Z,2022-02-24T19:10:43Z,closed,,,,"This PR adds [BuildPulse](https://buildpulse.io/) integration to our test GitHub Actions workflow:

> Automatically detect flaky tests. Focus on the top offenders to quickly improve your builds. Save developer time and frustration. Regain trust in your test suite.

That sounds like something we can use right now. 

Currently it adds the reporter only to our no-docker MacOS runs, where I think we have the most flaky tests right now.

To make the BuildPulse integration smoother, I also extracted the `Client` tests from the current `no-docker` job into a `no-docker-client` at the cost of adding 4 jobs per workflow run. I think that is worth it to get a result quicker. (Along the way I resorted our `jest.config.js`s to be the same order of properties)

PS: BuildPulse is currently working on a Windows reporter, as soon as that is available we can also add it for the Windows matrix runs. If Buildpulse turns out to work correctly, we can also add the reporting to our other Linux jobs of course.

Thanks @jasonrudolph for the concierge service with this.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/3d07eb6_test.yml,../Mining/generated/scripts/prisma/files_src_after/3d07eb6_test.yml,None,None,None,"@@ -557,14 +557,14 @@ jobs:
           name: generator-helper-${{ matrix.os }}
 
   #
-  # Run all tests on macOS and Windows.
+  # Run (almost) all tests on macOS and Windows.
   #
   # Unlike the other jobs, this job doesn't use Docker (and thus skips some
   # tests that require dependencies not easily installable without Docker).
   #
-  # It also runs the tests for different packages sequentially to prevent the
-  # combinatorial explosion of the number of parallel jobs, to minimize the
-  # number of times we need to install MySQL using the package manager
+  # It also runs most tests for different packages sequentially (except client,
+  # see below) to prevent the combinatorial explosion of the number of parallel jobs,
+  # to minimize the number of times we need to install MySQL using the package manager
   # (PostgreSQL and MongoDB are provided by GitHub Actions out of the box), and
   # minimize the time spent waiting for a free runner.
   #
@@ -577,7 +577,6 @@ jobs:
       ${{
         contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') ||
         contains(needs.detect_jobs_to_run.outputs.jobs, '-sdk-') ||
-        contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') ||
         contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') ||
         contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-')
       }}
@@ -589,6 +588,9 @@ jobs:
         node: [16]
         queryEngine: ['library', 'binary']
 
+    env:
+      JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/{title}'
+
     steps:
       - uses: actions/checkout@v2
 
@@ -639,23 +641,6 @@ jobs:
           flags: sdk,${{ matrix.os }},${{ matrix.queryEngine }}
           name: sdk-${{ matrix.os }}-${{ matrix.queryEngine }}
 
-      - name: Test packages/client
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-        run: pnpm run test-notypes
-        working-directory: packages/client
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          NODE_OPTIONS: '--max-old-space-size=8096'
-
-      - uses: codecov/codecov-action@v2
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-        with:
-          files: ./packages/client/src/__tests__/coverage/clover.xml
-          flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
-          name: client-${{ matrix.os }}-${{ matrix.queryEngine }}
-
       - name: Test packages/migrate
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') }}
         run: pnpm run test
@@ -735,3 +720,103 @@ jobs:
           files: ./packages/generator-helper/src/__tests__/coverage/clover.xml
           flags: generator-helper,${{ matrix.os }},library,binary
           name: generator-helper-${{ matrix.os }}
+
+      - name: Upload test results to BuildPulse for flaky test detection
+        # Only run this step for branches where where we have access to secrets.
+        # Only run this step on macOS for now.
+        # Run this step even when the tests fail. Skip if the workflow is cancelled.
+        if: startsWith(github.repository, 'prisma/') && runner.os == 'macOS' && !cancelled()
+        env:
+          BUILDPULSE_ACCESS_KEY_ID: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
+          BUILDPULSE_SECRET_ACCESS_KEY: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
+        run: |
+          curl -fsSL https://get.buildpulse.io/test-reporter-darwin-amd64 > ./buildpulse-test-reporter
+          chmod +x ./buildpulse-test-reporter
+          ./buildpulse-test-reporter submit packages --account-id 17219288 --repository-id 192925833
+
+  #
+  # Run Client tests on macOS and Windows. (Rasoning see above)
+  #
+  no-docker-client:
+    timeout-minutes: 40
+    runs-on: ${{ matrix.os }}
+    needs: detect_jobs_to_run
+
+    if: |
+      ${{
+        contains(needs.detect_jobs_to_run.outputs.jobs, '-client-')
+      }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        os: [macos-11, windows-latest]
+        node: [16]
+        queryEngine: ['library', 'binary']
+
+    env:
+      JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/{title}'
+
+    steps:
+      - uses: actions/checkout@v2
+
+      - name: Prerequisites
+        shell: bash
+        run: |
+          echo ""TEST_SKIP_MSSQL=true"" >> $GITHUB_ENV
+          echo ""TEST_SKIP_MONGODB=true"" >> $GITHUB_ENV
+          echo ""TEST_SKIP_COCKROACHDB=true"" >> $GITHUB_ENV
+          echo ""TEST_MONGO_URI_MIGRATE=mongodb://localhost:27017/tests-migrate"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - name: Setup PostgreSQL
+        run: bash .github/workflows/setup-postgres.sh
+
+      - name: Setup MySQL
+        run: bash .github/workflows/setup-mysql.sh
+
+      - uses: pnpm/action-setup@v2.1.0
+        with:
+          version: latest
+
+      - uses: actions/setup-node@v2
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - name: Test packages/client
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
+        run: pnpm run test-notypes
+        working-directory: packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          NODE_OPTIONS: '--max-old-space-size=8096'
+
+      - uses: codecov/codecov-action@v2
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
+        with:
+          files: ./packages/client/src/__tests__/coverage/clover.xml
+          flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: client-${{ matrix.os }}-${{ matrix.queryEngine }}
+
+      - name: Upload test results to BuildPulse for flaky test detection
+        # Only run this step for branches where where we have access to secrets.
+        # Only run this step on macOS for now.
+        # Run this step even when the tests fail. Skip if the workflow is cancelled.
+        if: startsWith(github.repository, 'prisma/') && runner.os == 'macOS' && !cancelled()
+        env:
+          BUILDPULSE_ACCESS_KEY_ID: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
+          BUILDPULSE_SECRET_ACCESS_KEY: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
+        run: |
+          curl -fsSL https://get.buildpulse.io/test-reporter-darwin-amd64 > ./buildpulse-test-reporter
+          chmod +x ./buildpulse-test-reporter
+          ./buildpulse-test-reporter submit packages/client --account-id 17219288 --repository-id 192925833
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,3452c331793ee41b249f2b60fbb8eda7bef9345f,e679b61111a9dca7200c7e0626b08a3d8cc44c9b,2022-02-25 09:02:37+01:00,"chore(deps): update pnpm/action-setup action to v2.2.1 (#12027)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",4,,benchmark.yml,MODIFY,1,1,,12027,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-25T05:36:25Z,2022-02-25T08:02:38Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | patch | `v2.2.0` -> `v2.2.1` |
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | minor | `v2.1.0` -> `v2.2.1` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.1`](https://togithub.com/pnpm/action-setup/releases/v2.2.1)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.2.0...v2.2.1)

Fix `""packageManager""` reader [https://github.com/pnpm/action-setup/pull/35](https://togithub.com/pnpm/action-setup/pull/35)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about these updates again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/3452c33_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/3452c33_benchmark.yml,None,None,None,"@@ -31,7 +31,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.2.0
+      - uses: pnpm/action-setup@v2.2.1
         with:
           version: latest
 
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,3452c331793ee41b249f2b60fbb8eda7bef9345f,e679b61111a9dca7200c7e0626b08a3d8cc44c9b,2022-02-25 09:02:37+01:00,"chore(deps): update pnpm/action-setup action to v2.2.1 (#12027)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",4,,test.yml,MODIFY,10,10,,12027,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-25T05:36:25Z,2022-02-25T08:02:38Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | patch | `v2.2.0` -> `v2.2.1` |
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | minor | `v2.1.0` -> `v2.2.1` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.1`](https://togithub.com/pnpm/action-setup/releases/v2.2.1)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.2.0...v2.2.1)

Fix `""packageManager""` reader [https://github.com/pnpm/action-setup/pull/35](https://togithub.com/pnpm/action-setup/pull/35)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about these updates again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/3452c33_test.yml,../Mining/generated/scripts/prisma/files_src_after/3452c33_test.yml,None,None,None,"@@ -83,7 +83,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.2.0
+      - uses: pnpm/action-setup@v2.2.1
         with:
           version: latest
 
@@ -131,7 +131,7 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb
 
-      - uses: pnpm/action-setup@v2.2.0
+      - uses: pnpm/action-setup@v2.2.1
         with:
           version: latest
 
@@ -185,7 +185,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.2.0
+      - uses: pnpm/action-setup@v2.2.1
         with:
           version: latest
 
@@ -250,7 +250,7 @@ jobs:
       - run: docker-compose -f docker/docker-compose.yml up --detach ${{matrix.database}}
         if: matrix.database != 'sqlite'
 
-      - uses: pnpm/action-setup@v2.2.0
+      - uses: pnpm/action-setup@v2.2.1
         with:
           version: latest
 
@@ -320,7 +320,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.2.0
+      - uses: pnpm/action-setup@v2.2.1
         with:
           version: latest
 
@@ -382,7 +382,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.2.0
+      - uses: pnpm/action-setup@v2.2.1
         with:
           version: latest
 
@@ -452,7 +452,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.2.0
+      - uses: pnpm/action-setup@v2.2.1
         with:
           version: latest
 
@@ -499,7 +499,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.2.0
+      - uses: pnpm/action-setup@v2.2.1
         with:
           version: latest
 
@@ -610,7 +610,7 @@ jobs:
       - name: Setup MySQL
         run: bash .github/workflows/setup-mysql.sh
 
-      - uses: pnpm/action-setup@v2.2.0
+      - uses: pnpm/action-setup@v2.2.1
         with:
           version: latest
 
@@ -776,7 +776,7 @@ jobs:
       - name: Setup MySQL
         run: bash .github/workflows/setup-mysql.sh
 
-      - uses: pnpm/action-setup@v2.1.0
+      - uses: pnpm/action-setup@v2.2.1
         with:
           version: latest
 
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,3452c331793ee41b249f2b60fbb8eda7bef9345f,e679b61111a9dca7200c7e0626b08a3d8cc44c9b,2022-02-25 09:02:37+01:00,"chore(deps): update pnpm/action-setup action to v2.2.1 (#12027)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",4,,update-engines-version.yml,MODIFY,1,1,,12027,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-25T05:36:25Z,2022-02-25T08:02:38Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | patch | `v2.2.0` -> `v2.2.1` |
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | minor | `v2.1.0` -> `v2.2.1` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.1`](https://togithub.com/pnpm/action-setup/releases/v2.2.1)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.2.0...v2.2.1)

Fix `""packageManager""` reader [https://github.com/pnpm/action-setup/pull/35](https://togithub.com/pnpm/action-setup/pull/35)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about these updates again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/3452c33_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/3452c33_update-engines-version.yml,None,None,None,"@@ -13,7 +13,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.2.0
+      - uses: pnpm/action-setup@v2.2.1
         with:
           version: latest
 
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,3452c331793ee41b249f2b60fbb8eda7bef9345f,e679b61111a9dca7200c7e0626b08a3d8cc44c9b,2022-02-25 09:02:37+01:00,"chore(deps): update pnpm/action-setup action to v2.2.1 (#12027)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",4,,update-studio-version.yml,MODIFY,1,1,,12027,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-25T05:36:25Z,2022-02-25T08:02:38Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | patch | `v2.2.0` -> `v2.2.1` |
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | minor | `v2.1.0` -> `v2.2.1` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.1`](https://togithub.com/pnpm/action-setup/releases/v2.2.1)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.2.0...v2.2.1)

Fix `""packageManager""` reader [https://github.com/pnpm/action-setup/pull/35](https://togithub.com/pnpm/action-setup/pull/35)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about these updates again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/3452c33_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/3452c33_update-studio-version.yml,None,None,None,"@@ -13,7 +13,7 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
-      - uses: pnpm/action-setup@v2.2.0
+      - uses: pnpm/action-setup@v2.2.1
         with:
           version: latest
 
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,afdf91a3e8c47c6d307193bf22442c4a100e3981,3452c331793ee41b249f2b60fbb8eda7bef9345f,2022-02-25 09:49:06+01:00,"chore(deps): update actions/setup-node action to v3 (#12030)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",5,,benchmark.yml,MODIFY,1,1,,12030,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-25T08:04:25Z,2022-02-25T08:49:07Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/setup-node](https://togithub.com/actions/setup-node) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>actions/setup-node</summary>

### [`v3`](https://togithub.com/actions/setup-node/compare/v2...v3)

[Compare Source](https://togithub.com/actions/setup-node/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/afdf91a_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/afdf91a_benchmark.yml,None,None,None,"@@ -35,7 +35,7 @@ jobs:
         with:
           version: latest
 
-      - uses: actions/setup-node@v2
+      - uses: actions/setup-node@v3
         with:
           cache: 'pnpm'
           node-version: '16'
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,afdf91a3e8c47c6d307193bf22442c4a100e3981,3452c331793ee41b249f2b60fbb8eda7bef9345f,2022-02-25 09:49:06+01:00,"chore(deps): update actions/setup-node action to v3 (#12030)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",5,,codesee-arch-diagram.yml,MODIFY,1,1,,12030,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-25T08:04:25Z,2022-02-25T08:49:07Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/setup-node](https://togithub.com/actions/setup-node) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>actions/setup-node</summary>

### [`v3`](https://togithub.com/actions/setup-node/compare/v2...v3)

[Compare Source](https://togithub.com/actions/setup-node/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/codesee-arch-diagram.yml,../Mining/generated/scripts/prisma/files_src_before/afdf91a_codesee-arch-diagram.yml,../Mining/generated/scripts/prisma/files_src_after/afdf91a_codesee-arch-diagram.yml,None,None,None,"@@ -36,7 +36,7 @@ jobs:
       # CodeSee Maps Go support uses a static binary so there's no setup step required.
 
       - name: Configure Node.js 14
-        uses: actions/setup-node@v2
+        uses: actions/setup-node@v3
         if: ${{ fromJSON(steps.detect-languages.outputs.languages).javascript }}
         with:
           node-version: '14'
",False,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,afdf91a3e8c47c6d307193bf22442c4a100e3981,3452c331793ee41b249f2b60fbb8eda7bef9345f,2022-02-25 09:49:06+01:00,"chore(deps): update actions/setup-node action to v3 (#12030)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",5,,test.yml,MODIFY,10,10,,12030,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-25T08:04:25Z,2022-02-25T08:49:07Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/setup-node](https://togithub.com/actions/setup-node) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>actions/setup-node</summary>

### [`v3`](https://togithub.com/actions/setup-node/compare/v2...v3)

[Compare Source](https://togithub.com/actions/setup-node/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/afdf91a_test.yml,../Mining/generated/scripts/prisma/files_src_after/afdf91a_test.yml,None,None,None,"@@ -87,7 +87,7 @@ jobs:
         with:
           version: latest
 
-      - uses: actions/setup-node@v2
+      - uses: actions/setup-node@v3
         with:
           cache: 'pnpm'
           node-version: '12'
@@ -135,7 +135,7 @@ jobs:
         with:
           version: latest
 
-      - uses: actions/setup-node@v2
+      - uses: actions/setup-node@v3
         with:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
@@ -189,7 +189,7 @@ jobs:
         with:
           version: latest
 
-      - uses: actions/setup-node@v2
+      - uses: actions/setup-node@v3
         with:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
@@ -254,7 +254,7 @@ jobs:
         with:
           version: latest
 
-      - uses: actions/setup-node@v2
+      - uses: actions/setup-node@v3
         with:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
@@ -324,7 +324,7 @@ jobs:
         with:
           version: latest
 
-      - uses: actions/setup-node@v2
+      - uses: actions/setup-node@v3
         with:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
@@ -386,7 +386,7 @@ jobs:
         with:
           version: latest
 
-      - uses: actions/setup-node@v2
+      - uses: actions/setup-node@v3
         with:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
@@ -456,7 +456,7 @@ jobs:
         with:
           version: latest
 
-      - uses: actions/setup-node@v2
+      - uses: actions/setup-node@v3
         with:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
@@ -503,7 +503,7 @@ jobs:
         with:
           version: latest
 
-      - uses: actions/setup-node@v2
+      - uses: actions/setup-node@v3
         with:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
@@ -614,7 +614,7 @@ jobs:
         with:
           version: latest
 
-      - uses: actions/setup-node@v2
+      - uses: actions/setup-node@v3
         with:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
@@ -780,7 +780,7 @@ jobs:
         with:
           version: latest
 
-      - uses: actions/setup-node@v2
+      - uses: actions/setup-node@v3
         with:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,afdf91a3e8c47c6d307193bf22442c4a100e3981,3452c331793ee41b249f2b60fbb8eda7bef9345f,2022-02-25 09:49:06+01:00,"chore(deps): update actions/setup-node action to v3 (#12030)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",5,,update-engines-version.yml,MODIFY,1,1,,12030,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-25T08:04:25Z,2022-02-25T08:49:07Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/setup-node](https://togithub.com/actions/setup-node) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>actions/setup-node</summary>

### [`v3`](https://togithub.com/actions/setup-node/compare/v2...v3)

[Compare Source](https://togithub.com/actions/setup-node/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/afdf91a_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/afdf91a_update-engines-version.yml,None,None,None,"@@ -17,7 +17,7 @@ jobs:
         with:
           version: latest
 
-      - uses: actions/setup-node@v2
+      - uses: actions/setup-node@v3
         with:
           cache: 'pnpm'
           node-version: '16'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,afdf91a3e8c47c6d307193bf22442c4a100e3981,3452c331793ee41b249f2b60fbb8eda7bef9345f,2022-02-25 09:49:06+01:00,"chore(deps): update actions/setup-node action to v3 (#12030)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",5,,update-studio-version.yml,MODIFY,1,1,,12030,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-02-25T08:04:25Z,2022-02-25T08:49:07Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/setup-node](https://togithub.com/actions/setup-node) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>actions/setup-node</summary>

### [`v3`](https://togithub.com/actions/setup-node/compare/v2...v3)

[Compare Source](https://togithub.com/actions/setup-node/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/afdf91a_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/afdf91a_update-studio-version.yml,None,None,None,"@@ -17,7 +17,7 @@ jobs:
         with:
           version: latest
 
-      - uses: actions/setup-node@v2
+      - uses: actions/setup-node@v3
         with:
           cache: 'pnpm'
           node-version: '16'
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,01daba8513a040f504d5c9d92fbd48657c7afa0e,afdf91a3e8c47c6d307193bf22442c4a100e3981,2022-02-25 09:58:22+01:00,"chore(codesee): remove uneeded action steps (#12031)

[skip ci]
Causes noise like https://github.com/prisma/prisma/pull/12029",1,3.11.0,codesee-arch-diagram.yml,MODIFY,0,24,,12031,Jolg42,User,MEMBER,Jolg42,User,2022-02-25T08:52:25Z,2022-02-25T08:58:23Z,closed,,,,Causes noise like https://github.com/prisma/prisma/pull/12029,../Mining/generated/scripts/prisma/current_code/codesee-arch-diagram.yml,../Mining/generated/scripts/prisma/files_src_before/01daba8_codesee-arch-diagram.yml,../Mining/generated/scripts/prisma/files_src_after/01daba8_codesee-arch-diagram.yml,None,None,None,"@@ -26,36 +26,12 @@ jobs:
         id: detect-languages
         uses: Codesee-io/codesee-detect-languages-action@latest
 
-      - name: Configure JDK 16
-        uses: actions/setup-java@v2
-        if: ${{ fromJSON(steps.detect-languages.outputs.languages).java }}
-        with:
-          java-version: '16'
-          distribution: 'zulu'
-
-      # CodeSee Maps Go support uses a static binary so there's no setup step required.
-
       - name: Configure Node.js 14
         uses: actions/setup-node@v3
         if: ${{ fromJSON(steps.detect-languages.outputs.languages).javascript }}
         with:
           node-version: '14'
 
-      - name: Configure Python 3.x
-        uses: actions/setup-python@v2
-        if: ${{ fromJSON(steps.detect-languages.outputs.languages).python }}
-        with:
-          python-version: '3.10'
-          architecture: 'x64'
-
-      - name: Configure Ruby '3.x'
-        uses: ruby/setup-ruby@v1
-        if: ${{ fromJSON(steps.detect-languages.outputs.languages).ruby }}
-        with:
-          ruby-version: '3.0'
-
-      # CodeSee Maps Rust support uses a static binary so there's no setup step required.
-
       - name: Generate Map
         id: generate-map
         uses: Codesee-io/codesee-map-action@latest
",False,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,db7d42f2c156824e033b608df0fce3a590260ffb,fbc6142ebc67923a79c65108c253ed3a3e473a9a,2022-02-25 11:52:16+01:00,chore: use swc instead of ts-jest for some packages (#11848),27,3.11.0,codesee-arch-diagram.yml,MODIFY,1,1,,11848,Jolg42,User,MEMBER,Jolg42,User,2022-02-16T15:26:22Z,2022-02-25T10:52:17Z,closed,,,,See https://github.com/pnpm/pnpm/issues/2174,../Mining/generated/scripts/prisma/current_code/codesee-arch-diagram.yml,../Mining/generated/scripts/prisma/files_src_before/db7d42f_codesee-arch-diagram.yml,../Mining/generated/scripts/prisma/files_src_after/db7d42f_codesee-arch-diagram.yml,0.0,0.0,1.0,"@@ -47,7 +47,7 @@ jobs:
           step: mapUpload
           api_token: ${{ secrets.CODESEE_ARCH_DIAG_API_TOKEN }}
           github_ref: ${{ github.ref }}
-      
+
       - name: Insights
         id: insights
         uses: Codesee-io/codesee-map-action@latest
",False,False,False,True,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,b2390904be1a36559b1f4b9190c0168b9a1b0bd2,0957d7551321288091b06e5fd3d6caa427e3c727,2022-02-28 12:04:05+01:00,feat(ci): Upload junit.xml from Jest as GH Actions build artifact and improve junit.xml naming (#12044),1,3.11.0,test.yml,MODIFY,20,6,,12044,janpio,User,MEMBER,janpio,User,2022-02-25T17:57:27Z,2022-02-28T11:04:06Z,closed,,,,"Test runs are now called `macos-11/node-16/binary/no-docker/engine-core` or similar so the GH Actions workflow becomes better identifiable in Buildpulse (flaky test detection). Additionally the resulting `junit.xml` files are uploaded as artifacts in the workflow, so it is easier to debug (any analyze) them.

![image](https://user-images.githubusercontent.com/183673/155809347-434fa0fc-4a78-44f4-8fdf-72dd385e38b1.png)

cc FYI @jasonrudolph ",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/b239090_test.yml,../Mining/generated/scripts/prisma/files_src_after/b239090_test.yml,None,None,None,"@@ -588,9 +588,6 @@ jobs:
         node: [16]
         queryEngine: ['library', 'binary']
 
-    env:
-      JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/{title}'
-
     steps:
       - uses: actions/checkout@v2
 
@@ -633,6 +630,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ github.job }}/sdk'
 
       - uses: codecov/codecov-action@v2
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }} || contains(needs.detect_jobs_to_run.outputs.jobs, '-sdk-') }}
@@ -649,6 +647,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ github.job }}/migrate'
 
       - uses: codecov/codecov-action@v2
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') }}
@@ -665,6 +664,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ github.job }}/cli'
 
       - uses: codecov/codecov-action@v2
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-') }}
@@ -681,6 +681,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ github.job }}/debug'
 
       - uses: codecov/codecov-action@v2
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
@@ -697,6 +698,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ github.job }}/engine-core'
 
       - uses: codecov/codecov-action@v2
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
@@ -713,6 +715,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ github.job }}/generator-helper'
 
       - uses: codecov/codecov-action@v2
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
@@ -734,6 +737,12 @@ jobs:
           chmod +x ./buildpulse-test-reporter
           ./buildpulse-test-reporter submit packages --account-id 17219288 --repository-id 192925833
 
+      - uses: actions/upload-artifact@v2
+        if: always()
+        with:
+          name: ${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_${{ github.job }}_junit.xml
+          path: packages/*/junit.xml
+
   #
   # Run Client tests on macOS and Windows. (Rasoning see above)
   #
@@ -754,9 +763,6 @@ jobs:
         node: [16]
         queryEngine: ['library', 'binary']
 
-    env:
-      JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/{title}'
-
     steps:
       - uses: actions/checkout@v2
 
@@ -800,6 +806,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           NODE_OPTIONS: '--max-old-space-size=8096'
+          JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ github.job }}/client'
 
       - uses: codecov/codecov-action@v2
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
@@ -820,3 +827,10 @@ jobs:
           curl -fsSL https://get.buildpulse.io/test-reporter-darwin-amd64 > ./buildpulse-test-reporter
           chmod +x ./buildpulse-test-reporter
           ./buildpulse-test-reporter submit packages/client --account-id 17219288 --repository-id 192925833
+
+      - uses: actions/upload-artifact@v2
+        if: always()
+        with:
+          name: ${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_${{ github.job }}_junit.xml
+          path: packages/*/junit.xml
+
",True,False,False,True,False,True,False
prisma,Alexey Orlenko,User,alex@aqrln.net,GitHub,User,noreply@github.com,d7a4d5dfb312adb169db558bc76f482abb053d6d,b2390904be1a36559b1f4b9190c0168b9a1b0bd2,2022-03-01 09:32:17+01:00,chore: use macos-latest instead of explicit macos-11 (#12075),1,3.11.0,test.yml,MODIFY,3,4,,12075,aqrln,User,MEMBER,Jolg42,User,2022-02-28T15:57:41Z,2022-03-01T08:32:17Z,closed,,,,"See https://prisma-company.slack.com/archives/C019HJREA93/p1645535189380029?thread_ts=1645481351.159949&cid=C019HJREA93
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/d7a4d5d_test.yml,../Mining/generated/scripts/prisma/files_src_after/d7a4d5d_test.yml,None,None,None,"@@ -584,7 +584,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        os: [macos-11, windows-latest]
+        os: [macos-latest, windows-latest]
         node: [16]
         queryEngine: ['library', 'binary']
 
@@ -744,7 +744,7 @@ jobs:
           path: packages/*/junit.xml
 
   #
-  # Run Client tests on macOS and Windows. (Rasoning see above)
+  # Run Client tests on macOS and Windows. (Reasoning see above)
   #
   no-docker-client:
     timeout-minutes: 40
@@ -759,7 +759,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        os: [macos-11, windows-latest]
+        os: [macos-latest, windows-latest]
         node: [16]
         queryEngine: ['library', 'binary']
 
@@ -833,4 +833,3 @@ jobs:
         with:
           name: ${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_${{ github.job }}_junit.xml
           path: packages/*/junit.xml
-
",True,False,False,True,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,7f0ad73f46c8b2e91b8ab05f4e16c88ceb267f04,d7a4d5dfb312adb169db558bc76f482abb053d6d,2022-03-01 09:33:12+01:00,"feat(buildpulse): Cross-platform GitHub Action (#12062)

Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>
Co-authored-by: Jason Rudolph <jason@jasonrudolph.com>",1,3.11.0,test.yml,MODIFY,17,18,,12062,janpio,User,MEMBER,Jolg42,User,2022-02-27T09:11:53Z,2022-03-01T08:33:12Z,closed,,,,"Follow up to https://github.com/prisma/prisma/pull/12054

@jasonrudolph ",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/7f0ad73_test.yml,../Mining/generated/scripts/prisma/files_src_after/7f0ad73_test.yml,None,None,None,"@@ -44,6 +44,7 @@ on:
       - 'graphs/**'
 
 env:
+  HAS_BUILDPULSE_SECRETS: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID != '' && secrets.BUILDPULSE_SECRET_ACCESS_KEY != '' }}
   PRISMA_TELEMETRY_INFORMATION: 'prisma test.yml'
 
 jobs:
@@ -726,16 +727,15 @@ jobs:
 
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where where we have access to secrets.
-        # Only run this step on macOS for now.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: startsWith(github.repository, 'prisma/') && runner.os == 'macOS' && !cancelled()
-        env:
-          BUILDPULSE_ACCESS_KEY_ID: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
-          BUILDPULSE_SECRET_ACCESS_KEY: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
-        run: |
-          curl -fsSL https://get.buildpulse.io/test-reporter-darwin-amd64 > ./buildpulse-test-reporter
-          chmod +x ./buildpulse-test-reporter
-          ./buildpulse-test-reporter submit packages --account-id 17219288 --repository-id 192925833
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled()
+        uses: Workshop64/buildpulse-action@main
+        with:
+          account: 17219288
+          repository: 192925833
+          path: packages
+          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
+          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
       - uses: actions/upload-artifact@v2
         if: always()
@@ -817,16 +817,15 @@ jobs:
 
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where where we have access to secrets.
-        # Only run this step on macOS for now.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: startsWith(github.repository, 'prisma/') && runner.os == 'macOS' && !cancelled()
-        env:
-          BUILDPULSE_ACCESS_KEY_ID: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
-          BUILDPULSE_SECRET_ACCESS_KEY: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
-        run: |
-          curl -fsSL https://get.buildpulse.io/test-reporter-darwin-amd64 > ./buildpulse-test-reporter
-          chmod +x ./buildpulse-test-reporter
-          ./buildpulse-test-reporter submit packages/client --account-id 17219288 --repository-id 192925833
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled()
+        uses: Workshop64/buildpulse-action@main
+        with:
+          account: 17219288
+          repository: 192925833
+          path: packages/client
+          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
+          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
       - uses: actions/upload-artifact@v2
         if: always()
",True,False,False,True,False,True,False
prisma,Pierre-Antoine Mills,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,39a786272fee91fdf0ec5eee9a57d3a927bfdba0,7f0ad73f46c8b2e91b8ab05f4e16c88ceb267f04,2022-03-01 15:57:55+01:00,feat(client): orderBy for composite types (#12004),30,3.11.0,test.yml,MODIFY,1,1,,12004,millsp,User,MEMBER,millsp,User,2022-02-23T20:44:38Z,2022-03-01T14:57:57Z,closed,,,,Closes https://github.com/prisma/prisma-engines/issues/2514,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/39a7862_test.yml,../Mining/generated/scripts/prisma/files_src_after/39a7862_test.yml,0.3159722222222222,1.0,1.0,"@@ -106,7 +106,7 @@ jobs:
   # CLIENT (without types test)
   #
   client:
-    timeout-minutes: 25
+    timeout-minutes: 35
     runs-on: ${{ matrix.os }}
 
     needs: detect_jobs_to_run
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,e6a3cb9cd01760b1987bccba68dc0d2eac90c8ea,4465439372a80eb34dc5bddebf2a7829b49a4026,2022-03-02 11:40:37+01:00,"chore(deps): update actions/checkout action to v3 (#12098)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",7,,benchmark.yml,MODIFY,1,1,,12098,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-03-01T18:59:39Z,2022-03-02T10:40:38Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/checkout](https://togithub.com/actions/checkout) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>actions/checkout</summary>

### [`v3`](https://togithub.com/actions/checkout/compare/v2...v3)

[Compare Source](https://togithub.com/actions/checkout/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/e6a3cb9_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/e6a3cb9_benchmark.yml,None,None,None,"@@ -29,7 +29,7 @@ jobs:
     name: all
     runs-on: ubuntu-latest
     steps:
-      - uses: actions/checkout@v2
+      - uses: actions/checkout@v3
 
       - uses: pnpm/action-setup@v2.2.1
         with:
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,e6a3cb9cd01760b1987bccba68dc0d2eac90c8ea,4465439372a80eb34dc5bddebf2a7829b49a4026,2022-03-02 11:40:37+01:00,"chore(deps): update actions/checkout action to v3 (#12098)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",7,,codeql-analysis.yml,MODIFY,1,1,,12098,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-03-01T18:59:39Z,2022-03-02T10:40:38Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/checkout](https://togithub.com/actions/checkout) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>actions/checkout</summary>

### [`v3`](https://togithub.com/actions/checkout/compare/v2...v3)

[Compare Source](https://togithub.com/actions/checkout/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/codeql-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/e6a3cb9_codeql-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/e6a3cb9_codeql-analysis.yml,None,None,None,"@@ -31,7 +31,7 @@ jobs:
 
     steps:
       - name: Checkout repository
-        uses: actions/checkout@v2
+        uses: actions/checkout@v3
 
       # Initializes the CodeQL tools for scanning.
       - name: Initialize CodeQL
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,e6a3cb9cd01760b1987bccba68dc0d2eac90c8ea,4465439372a80eb34dc5bddebf2a7829b49a4026,2022-03-02 11:40:37+01:00,"chore(deps): update actions/checkout action to v3 (#12098)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",7,,codesee-arch-diagram.yml,MODIFY,1,1,,12098,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-03-01T18:59:39Z,2022-03-02T10:40:38Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/checkout](https://togithub.com/actions/checkout) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>actions/checkout</summary>

### [`v3`](https://togithub.com/actions/checkout/compare/v2...v3)

[Compare Source](https://togithub.com/actions/checkout/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/codesee-arch-diagram.yml,../Mining/generated/scripts/prisma/files_src_before/e6a3cb9_codesee-arch-diagram.yml,../Mining/generated/scripts/prisma/files_src_after/e6a3cb9_codesee-arch-diagram.yml,None,None,None,"@@ -15,7 +15,7 @@ jobs:
     steps:
       - name: checkout
         id: checkout
-        uses: actions/checkout@v2
+        uses: actions/checkout@v3
         with:
           repository: ${{ github.event.pull_request.head.repo.full_name }}
           ref: ${{ github.event.pull_request.head.ref }}
",False,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,e6a3cb9cd01760b1987bccba68dc0d2eac90c8ea,4465439372a80eb34dc5bddebf2a7829b49a4026,2022-03-02 11:40:37+01:00,"chore(deps): update actions/checkout action to v3 (#12098)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",7,,scorecards-analysis.yml,MODIFY,1,1,,12098,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-03-01T18:59:39Z,2022-03-02T10:40:38Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/checkout](https://togithub.com/actions/checkout) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>actions/checkout</summary>

### [`v3`](https://togithub.com/actions/checkout/compare/v2...v3)

[Compare Source](https://togithub.com/actions/checkout/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/e6a3cb9_scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/e6a3cb9_scorecards-analysis.yml,None,None,None,"@@ -21,7 +21,7 @@ jobs:
 
     steps:
       - name: 'Checkout code'
-        uses: actions/checkout@v2
+        uses: actions/checkout@v3
         with:
           persist-credentials: false
 
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,e6a3cb9cd01760b1987bccba68dc0d2eac90c8ea,4465439372a80eb34dc5bddebf2a7829b49a4026,2022-03-02 11:40:37+01:00,"chore(deps): update actions/checkout action to v3 (#12098)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",7,,test.yml,MODIFY,11,11,,12098,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-03-01T18:59:39Z,2022-03-02T10:40:38Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/checkout](https://togithub.com/actions/checkout) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>actions/checkout</summary>

### [`v3`](https://togithub.com/actions/checkout/compare/v2...v3)

[Compare Source](https://togithub.com/actions/checkout/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/e6a3cb9_test.yml,../Mining/generated/scripts/prisma/files_src_after/e6a3cb9_test.yml,None,None,None,"@@ -55,7 +55,7 @@ jobs:
       jobs: ${{ steps.detect.outputs.jobs }}
     steps:
       - id: checkout
-        uses: actions/checkout@v2
+        uses: actions/checkout@v3
       - id: files
         uses: Ana06/get-changed-files@v1.2 # it's a fork of jitterbit/get-changed-files@v1 which works better with pull requests
         with:
@@ -82,7 +82,7 @@ jobs:
     runs-on: ubuntu-latest
 
     steps:
-      - uses: actions/checkout@v2
+      - uses: actions/checkout@v3
 
       - uses: pnpm/action-setup@v2.2.1
         with:
@@ -120,7 +120,7 @@ jobs:
         node: [12, 16]
 
     steps:
-      - uses: actions/checkout@v2
+      - uses: actions/checkout@v3
 
       - name: Set CLI Engine Type
         run: |
@@ -184,7 +184,7 @@ jobs:
         node: [12]
 
     steps:
-      - uses: actions/checkout@v2
+      - uses: actions/checkout@v3
 
       - uses: pnpm/action-setup@v2.2.1
         with:
@@ -238,7 +238,7 @@ jobs:
         node: [12]
 
     steps:
-      - uses: actions/checkout@v2
+      - uses: actions/checkout@v3
 
       - name: Set CLI Engine Type
         run: |
@@ -309,7 +309,7 @@ jobs:
         node: [12, 16]
 
     steps:
-      - uses: actions/checkout@v2
+      - uses: actions/checkout@v3
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql
 
@@ -371,7 +371,7 @@ jobs:
         node: [12, 16]
 
     steps:
-      - uses: actions/checkout@v2
+      - uses: actions/checkout@v3
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongodb_migrate mongodb_migrate_seed
 
@@ -443,7 +443,7 @@ jobs:
         node: [12, 16]
 
     steps:
-      - uses: actions/checkout@v2
+      - uses: actions/checkout@v3
 
       - name: Set CLI Engine Type
         run: |
@@ -498,7 +498,7 @@ jobs:
         node: [12, 16]
 
     steps:
-      - uses: actions/checkout@v2
+      - uses: actions/checkout@v3
 
       - uses: pnpm/action-setup@v2.2.1
         with:
@@ -590,7 +590,7 @@ jobs:
         queryEngine: ['library', 'binary']
 
     steps:
-      - uses: actions/checkout@v2
+      - uses: actions/checkout@v3
 
       - name: Prerequisites
         shell: bash
@@ -764,7 +764,7 @@ jobs:
         queryEngine: ['library', 'binary']
 
     steps:
-      - uses: actions/checkout@v2
+      - uses: actions/checkout@v3
 
       - name: Prerequisites
         shell: bash
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,e6a3cb9cd01760b1987bccba68dc0d2eac90c8ea,4465439372a80eb34dc5bddebf2a7829b49a4026,2022-03-02 11:40:37+01:00,"chore(deps): update actions/checkout action to v3 (#12098)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",7,,update-engines-version.yml,MODIFY,1,1,,12098,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-03-01T18:59:39Z,2022-03-02T10:40:38Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/checkout](https://togithub.com/actions/checkout) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>actions/checkout</summary>

### [`v3`](https://togithub.com/actions/checkout/compare/v2...v3)

[Compare Source](https://togithub.com/actions/checkout/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/e6a3cb9_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/e6a3cb9_update-engines-version.yml,None,None,None,"@@ -11,7 +11,7 @@ jobs:
     name: 'Check and update @prisma/engines@${{ github.event.inputs.version }}'
     runs-on: ubuntu-latest
     steps:
-      - uses: actions/checkout@v2
+      - uses: actions/checkout@v3
 
       - uses: pnpm/action-setup@v2.2.1
         with:
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,e6a3cb9cd01760b1987bccba68dc0d2eac90c8ea,4465439372a80eb34dc5bddebf2a7829b49a4026,2022-03-02 11:40:37+01:00,"chore(deps): update actions/checkout action to v3 (#12098)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",7,,update-studio-version.yml,MODIFY,1,1,,12098,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-03-01T18:59:39Z,2022-03-02T10:40:38Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/checkout](https://togithub.com/actions/checkout) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>actions/checkout</summary>

### [`v3`](https://togithub.com/actions/checkout/compare/v2...v3)

[Compare Source](https://togithub.com/actions/checkout/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/e6a3cb9_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/e6a3cb9_update-studio-version.yml,None,None,None,"@@ -11,7 +11,7 @@ jobs:
     name: 'Check and update @prisma/studio-server@${{ github.event.inputs.version }}'
     runs-on: ubuntu-latest
     steps:
-      - uses: actions/checkout@v2
+      - uses: actions/checkout@v3
 
       - uses: pnpm/action-setup@v2.2.1
         with:
",True,False,False,False,False,True,True
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,50980e26161e7e665fdc59699a0b59a39502b354,451da99ad8809a4fcfa3810df9b963b2a9b69304,2022-03-02 11:46:59+01:00,ci(buildpulse): Restructure junit suite name and junit.xml artifact filename (#12093),1,3.11.0,test.yml,MODIFY,9,9,,12093,janpio,User,MEMBER,Jolg42,User,2022-03-01T16:27:16Z,2022-03-02T10:47:00Z,closed,,,,"Makes more sense this way - the job and sub step are most important, then only the matrix params.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/50980e2_test.yml,../Mining/generated/scripts/prisma/files_src_after/50980e2_test.yml,None,None,None,"@@ -631,7 +631,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ github.job }}/sdk'
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/sdk/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
       - uses: codecov/codecov-action@v2
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }} || contains(needs.detect_jobs_to_run.outputs.jobs, '-sdk-') }}
@@ -648,7 +648,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ github.job }}/migrate'
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/migrate/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
       - uses: codecov/codecov-action@v2
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') }}
@@ -665,7 +665,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ github.job }}/cli'
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/cli/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
       - uses: codecov/codecov-action@v2
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-') }}
@@ -682,7 +682,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ github.job }}/debug'
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/debug/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
       - uses: codecov/codecov-action@v2
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
@@ -699,7 +699,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ github.job }}/engine-core'
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/engine-core/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
       - uses: codecov/codecov-action@v2
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
@@ -716,7 +716,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ github.job }}/generator-helper'
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/generator-helper/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
       - uses: codecov/codecov-action@v2
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
@@ -740,7 +740,7 @@ jobs:
       - uses: actions/upload-artifact@v2
         if: always()
         with:
-          name: ${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_${{ github.job }}_junit.xml
+          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
           path: packages/*/junit.xml
 
   #
@@ -806,7 +806,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           NODE_OPTIONS: '--max-old-space-size=8096'
-          JEST_JUNIT_SUITE_NAME: '${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ github.job }}/client'
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
       - uses: codecov/codecov-action@v2
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
@@ -830,5 +830,5 @@ jobs:
       - uses: actions/upload-artifact@v2
         if: always()
         with:
-          name: ${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_${{ github.job }}_junit.xml
+          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
           path: packages/*/junit.xml
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,4f644611389396f5d8d424c0c960d946cb46cdc3,d7d33d896bcb104a56877fe4d87405f8200a63fc,2022-03-03 14:50:54+01:00,ci: change Jest default timeout for no-docker jobs (#12119),4,3.11.0,test.yml,MODIFY,4,4,,12119,Jolg42,User,MEMBER,Jolg42,User,2022-03-02T16:36:05Z,2022-03-03T13:50:55Z,closed,,,,"This should get rid of a lot of flakyness we see which is associated to no-docker (Windows and macOS) jobs.

It changes the default Jest timeout from 5s to 30s",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/4f64461_test.yml,../Mining/generated/scripts/prisma/files_src_after/4f64461_test.yml,1.0,1.0,1.0,"@@ -625,7 +625,7 @@ jobs:
 
       - name: Test packages/sdk
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }} || contains(needs.detect_jobs_to_run.outputs.jobs, '-sdk-') }}
-        run: pnpm run test
+        run: pnpm run test -- --testTimeout=30000
         working-directory: packages/sdk
         env:
           CI: true
@@ -642,7 +642,7 @@ jobs:
 
       - name: Test packages/migrate
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') }}
-        run: pnpm run test
+        run: pnpm run test -- --testTimeout=30000
         working-directory: packages/migrate
         env:
           CI: true
@@ -659,7 +659,7 @@ jobs:
 
       - name: Test packages/cli
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-') }}
-        run: pnpm run test
+        run: pnpm run test -- --testTimeout=30000
         working-directory: packages/cli
         env:
           CI: true
@@ -799,7 +799,7 @@ jobs:
 
       - name: Test packages/client
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-        run: pnpm run test-notypes
+        run: pnpm run test-notypes -- --testTimeout=30000
         working-directory: packages/client
         env:
           CI: true
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,b4234077322e20837d30b8865d820d96cec30b4f,f2a958b946fa613d93f3caed49dcf1a713c0d47b,2022-03-03 23:40:59+01:00,"chore(deps): update actions/upload-artifact action (#12141)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",2,,scorecards-analysis.yml,MODIFY,1,1,,12141,renovate[bot],Bot,CONTRIBUTOR,millsp,User,2022-03-03T20:02:27Z,2022-03-03T22:40:59Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/upload-artifact](https://togithub.com/actions/upload-artifact) | action | major | `v2` -> `v3` |
| [actions/upload-artifact](https://togithub.com/actions/upload-artifact) | action | major | `v2.3.1` -> `v3.0.0` |

---

### Release Notes

<details>
<summary>actions/upload-artifact</summary>

### [`v3`](https://togithub.com/actions/upload-artifact/compare/v2...v3)

[Compare Source](https://togithub.com/actions/upload-artifact/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/renovate/discussions) if that's undesired.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/b423407_scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/b423407_scorecards-analysis.yml,None,None,None,"@@ -41,7 +41,7 @@ jobs:
 
       # Upload the results as artifacts (optional).
       - name: 'Upload artifact'
-        uses: actions/upload-artifact@v2.3.1
+        uses: actions/upload-artifact@v3.0.0
         with:
           name: SARIF file
           path: results.sarif
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,b4234077322e20837d30b8865d820d96cec30b4f,f2a958b946fa613d93f3caed49dcf1a713c0d47b,2022-03-03 23:40:59+01:00,"chore(deps): update actions/upload-artifact action (#12141)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",2,,test.yml,MODIFY,2,2,,12141,renovate[bot],Bot,CONTRIBUTOR,millsp,User,2022-03-03T20:02:27Z,2022-03-03T22:40:59Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/upload-artifact](https://togithub.com/actions/upload-artifact) | action | major | `v2` -> `v3` |
| [actions/upload-artifact](https://togithub.com/actions/upload-artifact) | action | major | `v2.3.1` -> `v3.0.0` |

---

### Release Notes

<details>
<summary>actions/upload-artifact</summary>

### [`v3`](https://togithub.com/actions/upload-artifact/compare/v2...v3)

[Compare Source](https://togithub.com/actions/upload-artifact/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

👻 **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/renovate/discussions) if that's undesired.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/b423407_test.yml,../Mining/generated/scripts/prisma/files_src_after/b423407_test.yml,None,None,None,"@@ -737,7 +737,7 @@ jobs:
           key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
-      - uses: actions/upload-artifact@v2
+      - uses: actions/upload-artifact@v3
         if: always()
         with:
           name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
@@ -827,7 +827,7 @@ jobs:
           key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
-      - uses: actions/upload-artifact@v2
+      - uses: actions/upload-artifact@v3
         if: always()
         with:
           name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,94d1c9369ee6fdcc54104c755132d4200e227344,83a69b4364585e03607aac5d3f4cd925bad234ea,2022-03-09 17:42:31+01:00,ci: increase timeouts for windows / macos (#12224),2,3.11.0,test.yml,MODIFY,4,4,,12224,Jolg42,User,MEMBER,Jolg42,User,2022-03-09T15:25:29Z,2022-03-09T16:42:31Z,closed,,,,Example https://github.com/prisma/prisma/runs/5480717710?check_suite_focus=true,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/94d1c93_test.yml,../Mining/generated/scripts/prisma/files_src_after/94d1c93_test.yml,None,None,None,"@@ -625,7 +625,7 @@ jobs:
 
       - name: Test packages/sdk
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }} || contains(needs.detect_jobs_to_run.outputs.jobs, '-sdk-') }}
-        run: pnpm run test -- --testTimeout=30000
+        run: pnpm run test -- --testTimeout=40000
         working-directory: packages/sdk
         env:
           CI: true
@@ -642,7 +642,7 @@ jobs:
 
       - name: Test packages/migrate
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') }}
-        run: pnpm run test -- --testTimeout=30000
+        run: pnpm run test -- --testTimeout=40000
         working-directory: packages/migrate
         env:
           CI: true
@@ -659,7 +659,7 @@ jobs:
 
       - name: Test packages/cli
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-') }}
-        run: pnpm run test -- --testTimeout=30000
+        run: pnpm run test -- --testTimeout=40000
         working-directory: packages/cli
         env:
           CI: true
@@ -799,7 +799,7 @@ jobs:
 
       - name: Test packages/client
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-        run: pnpm run test-notypes -- --testTimeout=30000
+        run: pnpm run test-notypes -- --testTimeout=40000
         working-directory: packages/client
         env:
           CI: true
",True,False,False,True,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,7b2b6c78b02757cebdb9e76da340665d3ad07644,2bf91d81fbed6ea7e95702af39593cdcc23c3833,2022-03-14 08:50:55+01:00,test(version): Replace blanket sanitization of all version output value with more nuanced sanitization (#12307),3,3.11.0,test.yml,MODIFY,3,6,,12307,janpio,User,MEMBER,Jolg42,User,2022-03-13T19:46:16Z,2022-03-14T07:50:56Z,closed,,,,"The previous sanitization was pretty broad, potentially hiding bugs in the version command output.
Now only specific variable values like paths or version number are sanitized, making the snapshots much more useful.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/7b2b6c7_test.yml,../Mining/generated/scripts/prisma/files_src_after/7b2b6c7_test.yml,1.0,1.0,1.0,"@@ -572,8 +572,8 @@ jobs:
   no-docker:
     timeout-minutes: 40
     runs-on: ${{ matrix.os }}
-    needs: detect_jobs_to_run
 
+    needs: detect_jobs_to_run
     if: |
       ${{
         contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') ||
@@ -749,12 +749,9 @@ jobs:
   no-docker-client:
     timeout-minutes: 40
     runs-on: ${{ matrix.os }}
-    needs: detect_jobs_to_run
 
-    if: |
-      ${{
-        contains(needs.detect_jobs_to_run.outputs.jobs, '-client-')
-      }}
+    needs: detect_jobs_to_run
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
 
     strategy:
       fail-fast: false
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,9c71dde7dba7f6679dd879cf80131f23a9ff5770,6797519fd5c5fc7f523d965e9a55a56c80dc2ee1,2022-03-23 10:29:14+01:00,"chore(deps): update peter-evans/create-pull-request action to v4 (#12485)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",2,,update-engines-version.yml,MODIFY,1,1,,12485,renovate[bot],Bot,CONTRIBUTOR,millsp,User,2022-03-23T09:01:36Z,2022-03-23T09:29:14Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [peter-evans/create-pull-request](https://togithub.com/peter-evans/create-pull-request) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>peter-evans/create-pull-request</summary>

### [`v4`](https://togithub.com/peter-evans/create-pull-request/compare/v3...v4)

[Compare Source](https://togithub.com/peter-evans/create-pull-request/compare/v3...v4)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/9c71dde_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/9c71dde_update-engines-version.yml,None,None,None,"@@ -44,7 +44,7 @@ jobs:
 
       - name: Create Pull Request
         id: cpr
-        uses: peter-evans/create-pull-request@v3
+        uses: peter-evans/create-pull-request@v4
         with:
           token: ${{ secrets.BOT_TOKEN }}
           commit-message: 'chore(deps): update engines to ${{ github.event.inputs.version }}'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,9c71dde7dba7f6679dd879cf80131f23a9ff5770,6797519fd5c5fc7f523d965e9a55a56c80dc2ee1,2022-03-23 10:29:14+01:00,"chore(deps): update peter-evans/create-pull-request action to v4 (#12485)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",2,,update-studio-version.yml,MODIFY,1,1,,12485,renovate[bot],Bot,CONTRIBUTOR,millsp,User,2022-03-23T09:01:36Z,2022-03-23T09:29:14Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [peter-evans/create-pull-request](https://togithub.com/peter-evans/create-pull-request) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>peter-evans/create-pull-request</summary>

### [`v4`](https://togithub.com/peter-evans/create-pull-request/compare/v3...v4)

[Compare Source](https://togithub.com/peter-evans/create-pull-request/compare/v3...v4)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/9c71dde_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/9c71dde_update-studio-version.yml,None,None,None,"@@ -36,7 +36,7 @@ jobs:
 
       - name: Create Pull Request
         id: cpr
-        uses: peter-evans/create-pull-request@v3
+        uses: peter-evans/create-pull-request@v4
         with:
           token: ${{ secrets.BOT_TOKEN }}
           commit-message: 'chore(deps): update studio to ${{ github.event.inputs.version }}'
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,fff34263e7d56b17a58b967de5d15e419b47d978,34f122958be88d04c12377213c371838c104da5d,2022-04-06 09:55:28+02:00,ci: disable GitHub annotations from linting (#12669),1,3.13.0,test.yml,MODIFY,8,0,,12669,Jolg42,User,MEMBER,Jolg42,User,2022-04-05T07:27:59Z,2022-04-06T07:55:28Z,closed,,,,"[Internal Slack](https://prisma-company.slack.com/archives/C025RHD851U/p1648733473903529)


<img width=""1620"" alt=""Screen Shot 2022-04-05 at 09 13 03"" src=""https://user-images.githubusercontent.com/1328733/161702461-ffd74adb-4a15-448c-a46e-281b7dc99cc2.png"">

They are from lint, there is even a button on the right side and the full list is in the run https://github.com/prisma/prisma/runs/5824934981?check_suite_focus=true#step:6:14

GitHub only displays the first few

Apparently it’s defined by setup-node action
https://github.com/actions/setup-node/blob/bacd6b4b3ac3127b28a1e1920c23bf1c2cadbb85/src/main.ts#L54-L60

",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/fff3426_test.yml,../Mining/generated/scripts/prisma/files_src_after/fff3426_test.yml,None,None,None,"@@ -93,6 +93,14 @@ jobs:
           cache: 'pnpm'
           node-version: '12'
 
+      # https://github.com/actions/toolkit/blob/master/docs/commands.md#problem-matchers
+      # Matchers are added in setup-node
+      # https://github.com/actions/setup-node/blob/bacd6b4b3ac3127b28a1e1920c23bf1c2cadbb85/src/main.ts#L54-L60
+      - name: Disable GitHub annotations from linting
+        run: |
+         echo ""::remove-matcher owner=eslint-compact::""
+         echo ""::remove-matcher owner=eslint-stylish::""
+       
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,38e66c2af900950fc71289892f2997b0bbad9fb4,fff34263e7d56b17a58b967de5d15e419b47d978,2022-04-06 09:59:13+02:00,"chore(deps): update codecov/codecov-action action to v3 (#12676)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",1,,test.yml,MODIFY,16,16,,12676,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-04-05T17:03:42Z,2022-04-06T07:59:14Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [codecov/codecov-action](https://togithub.com/codecov/codecov-action) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>codecov/codecov-action</summary>

### [`v3`](https://togithub.com/codecov/codecov-action/compare/v2...v3)

[Compare Source](https://togithub.com/codecov/codecov-action/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/38e66c2_test.yml,../Mining/generated/scripts/prisma/files_src_after/38e66c2_test.yml,None,None,None,"@@ -170,7 +170,7 @@ jobs:
           TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
           NODE_OPTIONS: '--max-old-space-size=8096'
 
-      - uses: codecov/codecov-action@v2
+      - uses: codecov/codecov-action@v3
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
@@ -216,7 +216,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - uses: codecov/codecov-action@v2
+      - uses: codecov/codecov-action@v3
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client-types,${{ matrix.os }},library,binary
@@ -293,7 +293,7 @@ jobs:
           TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
 
-      - uses: codecov/codecov-action@v2
+      - uses: codecov/codecov-action@v3
         with:
           files: ./packages/integration-tests/src/__tests__/coverage/clover.xml
           flags: integration-tests,${{ matrix.database }},${{ matrix.queryEngine }}
@@ -355,7 +355,7 @@ jobs:
           TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
           TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
 
-      - uses: codecov/codecov-action@v2
+      - uses: codecov/codecov-action@v3
         with:
           files: ./packages/sdk/src/__tests__/coverage/clover.xml
           flags: sdk,${{ matrix.os }},${{ matrix.queryEngine }}
@@ -427,7 +427,7 @@ jobs:
           TEST_MSSQL_SHADOWDB_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate-shadowdb;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
           TEST_MONGO_URI_MIGRATE: 'mongodb://root:prisma@localhost:27017/tests-migrate?authSource=admin'
 
-      - uses: codecov/codecov-action@v2
+      - uses: codecov/codecov-action@v3
         with:
           files: ./packages/migrate/src/__tests__/coverage/clover.xml
           flags: migrate,${{ matrix.os }},${{ matrix.queryEngine }}
@@ -483,7 +483,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - uses: codecov/codecov-action@v2
+      - uses: codecov/codecov-action@v3
         with:
           files: ./packages/cli/src/__tests__/coverage/clover.xml
           flags: cli,${{ matrix.os }},${{ matrix.queryEngine }}
@@ -531,7 +531,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - uses: codecov/codecov-action@v2
+      - uses: codecov/codecov-action@v3
         with:
           files: ./packages/debug/src/__tests__/coverage/clover.xml
           flags: debug,${{ matrix.os }},library,binary
@@ -545,7 +545,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - uses: codecov/codecov-action@v2
+      - uses: codecov/codecov-action@v3
         with:
           files: ./packages/engine-core/src/__tests__/coverage/clover.xml
           flags: engine-core,${{ matrix.os }},library,binary
@@ -559,7 +559,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - uses: codecov/codecov-action@v2
+      - uses: codecov/codecov-action@v3
         with:
           files: ./packages/generator-helper/src/__tests__/coverage/clover.xml
           flags: generator-helper,${{ matrix.os }},library,binary
@@ -641,7 +641,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/sdk/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
-      - uses: codecov/codecov-action@v2
+      - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }} || contains(needs.detect_jobs_to_run.outputs.jobs, '-sdk-') }}
         with:
           files: ./packages/sdk/src/__tests__/coverage/clover.xml
@@ -658,7 +658,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/migrate/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
-      - uses: codecov/codecov-action@v2
+      - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') }}
         with:
           files: ./packages/migrate/src/__tests__/coverage/clover.xml
@@ -675,7 +675,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/cli/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
-      - uses: codecov/codecov-action@v2
+      - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-') }}
         with:
           files: ./packages/cli/src/__tests__/coverage/clover.xml
@@ -692,7 +692,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/debug/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
-      - uses: codecov/codecov-action@v2
+      - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
         with:
           files: ./packages/debug/src/__tests__/coverage/clover.xml
@@ -709,7 +709,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/engine-core/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
-      - uses: codecov/codecov-action@v2
+      - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
         with:
           files: ./packages/engine-core/src/__tests__/coverage/clover.xml
@@ -726,7 +726,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/generator-helper/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
-      - uses: codecov/codecov-action@v2
+      - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
         with:
           files: ./packages/generator-helper/src/__tests__/coverage/clover.xml
@@ -813,7 +813,7 @@ jobs:
           NODE_OPTIONS: '--max-old-space-size=8096'
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
-      - uses: codecov/codecov-action@v2
+      - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,e8d1ea5310d85247da74bd20b325c406ccd60900,b6a58e2f289d6baaad00dc5e060e63b144266a30,2022-04-19 09:04:23+02:00,"chore(deps): update fkirc/skip-duplicate-actions action to v4 (#12826)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",1,,test.yml,MODIFY,1,1,,12826,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-04-14T20:30:46Z,2022-04-19T07:04:25Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [fkirc/skip-duplicate-actions](https://togithub.com/fkirc/skip-duplicate-actions) | action | major | `v3.4.1` -> `v4.0.0` |

---

### Release Notes

<details>
<summary>fkirc/skip-duplicate-actions</summary>

### [`v4.0.0`](https://togithub.com/fkirc/skip-duplicate-actions/releases/v4.0.0)

[Compare Source](https://togithub.com/fkirc/skip-duplicate-actions/compare/v3.4.1...v4.0.0)

Advanced path-filtering and output options

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/e8d1ea5_test.yml,../Mining/generated/scripts/prisma/files_src_after/e8d1ea5_test.yml,None,None,None,"@@ -72,7 +72,7 @@ jobs:
     runs-on: ubuntu-latest
     if: ""!startsWith(github.ref, 'refs/tags/') && github.ref != 'refs/heads/main' && !contains(github.actor, 'renovate')""
     steps:
-      - uses: fkirc/skip-duplicate-actions@v3.4.1
+      - uses: fkirc/skip-duplicate-actions@v4.0.0
 
   #
   # Linting
",True,False,False,True,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,bd8bd5792661bb7a07d755f15d6bb63d377fb012,d026f298004d3a6b9f05e0fdb4050ff66cc33e66,2022-04-25 13:34:52+02:00,"test(client): new test client setup (#12560)

Co-authored-by: Daniel Starns <danielstarns@hotmail.com>",50,3.13.0,test.yml,MODIFY,4,4,,12560,millsp,User,MEMBER,millsp,User,2022-03-28T20:16:40Z,2022-04-25T11:34:52Z,closed,,millsp,User,"* Fixed `watch` mode
    * Debounce will now prevent infinite compilation loops (because of intermediary files).
* New entries into `blaze`. But why blaze?
	* It's in magnitudes [faster than ramda, lodash](https://jsben.ch/yAJqf), and even native methods
	* It's built to be type-first, it brings [first class type-safety from ts-toolbelt](https://github.com/millsp/ts-toolbelt)
* Matrix based testing
	* Define your `_matrix.ts` and dynamically run a test suite with all possibilities
	* The matrix is to automatically prepare schemas, and powers multi-provider testing
* Automatic type testing
    * For each generated schema, the test suite is tested against the generated types
    * The type checks will let you know which generated test/schema has failed
* Some of the perks
  * We can now write one test suite and run against many providers
  * Each test suite runs on an isolated and unique database
  * The teardown/setup/generation/types is done automatically
  * No more boiler plate, you can get started in just a few lines of code
  * Generation is as close as it can be to a real-world project

How to run:
`pnpm run test:functional:code && pnpm run test:functional:types`
or just
`pnpm run test:functional`

fixes https://github.com/prisma/prisma/issues/11573",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/bd8bd57_test.yml,../Mining/generated/scripts/prisma/files_src_after/bd8bd57_test.yml,1.0,0.9442815249266863,0.9648093841642229,"@@ -98,9 +98,9 @@ jobs:
       # https://github.com/actions/setup-node/blob/bacd6b4b3ac3127b28a1e1920c23bf1c2cadbb85/src/main.ts#L54-L60
       - name: Disable GitHub annotations from linting
         run: |
-         echo ""::remove-matcher owner=eslint-compact::""
-         echo ""::remove-matcher owner=eslint-stylish::""
-       
+          echo ""::remove-matcher owner=eslint-compact::""
+          echo ""::remove-matcher owner=eslint-stylish::""
+
       - run: bash .github/workflows/setup.sh
         env:
           CI: true
@@ -155,7 +155,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm run test-notypes
+      - run: pnpm run test-notypes && pnpm run test:functional
         working-directory: packages/client
         env:
           CI: true
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,99b3e2ca2be862ccb7a232a34b617155c6a03e40,2ebee34451877aa68f758d59938b239a44c504b9,2022-04-26 09:21:54+02:00,"chore(deps): update github/codeql-action action to v2 (#12990)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",2,,codeql-analysis.yml,MODIFY,2,2,,12990,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-04-25T13:56:08Z,2022-04-26T07:21:54Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [github/codeql-action](https://togithub.com/github/codeql-action) | action | major | `v1` -> `v2` |

---

### Release Notes

<details>
<summary>github/codeql-action</summary>

### [`v2`](https://togithub.com/github/codeql-action/compare/v1...v2)

[Compare Source](https://togithub.com/github/codeql-action/compare/v1...v2)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/codeql-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/99b3e2c_codeql-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/99b3e2c_codeql-analysis.yml,None,None,None,"@@ -35,7 +35,7 @@ jobs:
 
       # Initializes the CodeQL tools for scanning.
       - name: Initialize CodeQL
-        uses: github/codeql-action/init@v1
+        uses: github/codeql-action/init@v2
         with:
           languages: ${{ matrix.language }}
           # If you wish to specify custom queries, you can do so here or in a config file.
@@ -44,7 +44,7 @@ jobs:
           # queries: ./path/to/local/query, your-org/your-repo/queries@main
 
       - name: Perform CodeQL Analysis
-        uses: github/codeql-action/analyze@v1
+        uses: github/codeql-action/analyze@v2
 
       - name: 'Set current job url in SLACK_FOOTER env var'
         if: ${{ failure() }}
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,99b3e2ca2be862ccb7a232a34b617155c6a03e40,2ebee34451877aa68f758d59938b239a44c504b9,2022-04-26 09:21:54+02:00,"chore(deps): update github/codeql-action action to v2 (#12990)

Co-authored-by: Renovate Bot <bot@renovateapp.com>",2,,scorecards-analysis.yml,MODIFY,1,1,,12990,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-04-25T13:56:08Z,2022-04-26T07:21:54Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [github/codeql-action](https://togithub.com/github/codeql-action) | action | major | `v1` -> `v2` |

---

### Release Notes

<details>
<summary>github/codeql-action</summary>

### [`v2`](https://togithub.com/github/codeql-action/compare/v1...v2)

[Compare Source](https://togithub.com/github/codeql-action/compare/v1...v2)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/99b3e2c_scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/99b3e2c_scorecards-analysis.yml,None,None,None,"@@ -49,7 +49,7 @@ jobs:
 
       # Upload the results to GitHub's code scanning dashboard.
       - name: 'Upload to code-scanning'
-        uses: github/codeql-action/upload-sarif@v1
+        uses: github/codeql-action/upload-sarif@v2
         with:
           sarif_file: results.sarif
 
",True,False,False,False,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,f5f30c4d5caf41477f02655435bb4c379b25f065,f4bbe2f22b39572c00920d083e746a672d5bb444,2022-04-29 18:41:11+02:00,ci: Create Rebase GH Action to be used via `/rebase` in comments (#13086),1,,rebase.yml,ADD,19,0,,13086,janpio,User,MEMBER,janpio,User,2022-04-29T16:40:01Z,2022-04-29T16:41:11Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/rebase.yml,../Mining/generated/scripts/prisma/files_src_before/f5f30c4_rebase.yml,../Mining/generated/scripts/prisma/files_src_after/f5f30c4_rebase.yml,None,None,None,"@@ -0,0 +1,19 @@
+name: Automatic Rebase
+on:
+  issue_comment:
+    types: [created]
+jobs:
+  rebase:
+    name: Rebase
+    if: github.event.issue.pull_request != '' && contains(github.event.comment.body, '/rebase') && github.event.comment.author_association == 'MEMBER'
+    runs-on: ubuntu-latest
+    steps:
+      - name: Checkout the latest code
+        uses: actions/checkout@v2
+        with:
+          token: ${{ secrets.BOT_TOKEN }}
+          fetch-depth: 0 # otherwise, you will fail to push refs to dest repo
+      - name: Automatic Rebase
+        uses: cirrus-actions/rebase@1.5
+        env:
+          GITHUB_TOKEN: ${{ secrets.BOT_TOKEN }}
",False,False,False,False,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,395df47b12f90767175e1732a59783560effd7c7,3d2216b3e78a5a6e2da900c8ac0af7c0e1fa5347,2022-04-29 20:14:05+02:00,"ci: /rebase (#13090)

* ci: rebase-command

* Rename rebase-command.yml to rebase-action.yml

* Create rebase-slash-command.yml",2,3.14.0,rebase-action.yml,ADD,20,0,,13090,janpio,User,MEMBER,janpio,User,2022-04-29T18:10:33Z,2022-04-29T18:14:05Z,closed,,,,via https://github.com/peter-evans/rebase#rebase-slash-command,../Mining/generated/scripts/prisma/current_code/rebase-action.yml,../Mining/generated/scripts/prisma/files_src_before/395df47_rebase-action.yml,../Mining/generated/scripts/prisma/files_src_after/395df47_rebase-action.yml,None,None,None,"@@ -0,0 +1,20 @@
+name: rebase-command
+on:
+  repository_dispatch:
+    types: [rebase-command]
+jobs:
+  rebase:
+    runs-on: ubuntu-latest
+    steps:
+      - uses: peter-evans/rebase@v2
+        id: rebase
+        with:
+          head: ${{ github.event.client_payload.pull_request.head.label }}
+      - name: Add reaction
+        if: steps.rebase.outputs.rebased-count == 1
+        uses: peter-evans/create-or-update-comment@v1
+        with:
+          token: ${{ secrets.BOT_TOKEN }}
+          repository: ${{ github.event.client_payload.github.payload.repository.full_name }}
+          comment-id: ${{ github.event.client_payload.github.payload.comment.id }}
+          reaction-type: hooray
",False,False,False,False,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,395df47b12f90767175e1732a59783560effd7c7,3d2216b3e78a5a6e2da900c8ac0af7c0e1fa5347,2022-04-29 20:14:05+02:00,"ci: /rebase (#13090)

* ci: rebase-command

* Rename rebase-command.yml to rebase-action.yml

* Create rebase-slash-command.yml",2,3.14.0,rebase-slash-command.yml,ADD,15,0,,13090,janpio,User,MEMBER,janpio,User,2022-04-29T18:10:33Z,2022-04-29T18:14:05Z,closed,,,,via https://github.com/peter-evans/rebase#rebase-slash-command,../Mining/generated/scripts/prisma/current_code/rebase-slash-command.yml,../Mining/generated/scripts/prisma/files_src_before/395df47_rebase-slash-command.yml,../Mining/generated/scripts/prisma/files_src_after/395df47_rebase-slash-command.yml,None,None,None,"@@ -0,0 +1,15 @@
+name: Slash Command Dispatch
+on:
+  issue_comment:
+    types: [created]
+jobs:
+  slashCommandDispatch:
+    runs-on: ubuntu-latest
+    steps:
+      - name: Slash Command Dispatch
+        uses: peter-evans/slash-command-dispatch@v3
+        with:
+          token: ${{ secrets.BOT_TOKEN }}
+          commands: rebase
+          permission: write
+          issue-type: pull-request
",False,False,False,False,False,False,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,753013f7f2996e3dae717e51563f1d0859ce8222,60e9c0fd2663f9355eba3594f7dfd9037eab2ca8,2022-05-02 12:38:53+02:00,ci: pin pnpm v6 (#13113),4,3.14.0,benchmark.yml,MODIFY,1,1,,13113,Jolg42,User,MEMBER,Jolg42,User,2022-05-02T10:26:28Z,2022-05-02T10:38:53Z,closed,,,,pnpm v7 was released but has some breaking changes,../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/753013f_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/753013f_benchmark.yml,None,None,None,"@@ -33,7 +33,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.1
         with:
-          version: latest
+          version: 6
 
       - uses: actions/setup-node@v3
         with:
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,753013f7f2996e3dae717e51563f1d0859ce8222,60e9c0fd2663f9355eba3594f7dfd9037eab2ca8,2022-05-02 12:38:53+02:00,ci: pin pnpm v6 (#13113),4,3.14.0,test.yml,MODIFY,10,10,,13113,Jolg42,User,MEMBER,Jolg42,User,2022-05-02T10:26:28Z,2022-05-02T10:38:53Z,closed,,,,pnpm v7 was released but has some breaking changes,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/753013f_test.yml,../Mining/generated/scripts/prisma/files_src_after/753013f_test.yml,None,None,None,"@@ -86,7 +86,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.1
         with:
-          version: latest
+          version: 6
 
       - uses: actions/setup-node@v3
         with:
@@ -142,7 +142,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.1
         with:
-          version: latest
+          version: 6
 
       - uses: actions/setup-node@v3
         with:
@@ -196,7 +196,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.1
         with:
-          version: latest
+          version: 6
 
       - uses: actions/setup-node@v3
         with:
@@ -261,7 +261,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.1
         with:
-          version: latest
+          version: 6
 
       - uses: actions/setup-node@v3
         with:
@@ -331,7 +331,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.1
         with:
-          version: latest
+          version: 6
 
       - uses: actions/setup-node@v3
         with:
@@ -393,7 +393,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.1
         with:
-          version: latest
+          version: 6
 
       - uses: actions/setup-node@v3
         with:
@@ -463,7 +463,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.1
         with:
-          version: latest
+          version: 6
 
       - uses: actions/setup-node@v3
         with:
@@ -510,7 +510,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.1
         with:
-          version: latest
+          version: 6
 
       - uses: actions/setup-node@v3
         with:
@@ -618,7 +618,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.1
         with:
-          version: latest
+          version: 6
 
       - uses: actions/setup-node@v3
         with:
@@ -789,7 +789,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.1
         with:
-          version: latest
+          version: 6
 
       - uses: actions/setup-node@v3
         with:
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,753013f7f2996e3dae717e51563f1d0859ce8222,60e9c0fd2663f9355eba3594f7dfd9037eab2ca8,2022-05-02 12:38:53+02:00,ci: pin pnpm v6 (#13113),4,3.14.0,update-engines-version.yml,MODIFY,1,1,,13113,Jolg42,User,MEMBER,Jolg42,User,2022-05-02T10:26:28Z,2022-05-02T10:38:53Z,closed,,,,pnpm v7 was released but has some breaking changes,../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/753013f_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/753013f_update-engines-version.yml,None,None,None,"@@ -15,7 +15,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.1
         with:
-          version: latest
+          version: 6
 
       - uses: actions/setup-node@v3
         with:
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,753013f7f2996e3dae717e51563f1d0859ce8222,60e9c0fd2663f9355eba3594f7dfd9037eab2ca8,2022-05-02 12:38:53+02:00,ci: pin pnpm v6 (#13113),4,3.14.0,update-studio-version.yml,MODIFY,1,1,,13113,Jolg42,User,MEMBER,Jolg42,User,2022-05-02T10:26:28Z,2022-05-02T10:38:53Z,closed,,,,pnpm v7 was released but has some breaking changes,../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/753013f_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/753013f_update-studio-version.yml,None,None,None,"@@ -15,7 +15,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.1
         with:
-          version: latest
+          version: 6
 
       - uses: actions/setup-node@v3
         with:
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,0af9c4ea1038e96506a73fee48ebb9a8c1def859,bc2a701ad737931493ae9ebad6fb30f68c1e5c9a,2022-05-02 14:58:04+02:00,"chore(deps): update peter-evans/create-or-update-comment action to v2 (#13091)

Co-authored-by: Renovate Bot <bot@renovateapp.com>

[skip ci]",1,,rebase-action.yml,MODIFY,1,1,,13091,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-04-29T19:05:24Z,2022-05-02T12:58:05Z,closed,,,,"[![WhiteSource Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [peter-evans/create-or-update-comment](https://togithub.com/peter-evans/create-or-update-comment) | action | major | `v1` -> `v2` |

---

### Release Notes

<details>
<summary>peter-evans/create-or-update-comment</summary>

### [`v2`](https://togithub.com/peter-evans/create-or-update-comment/compare/v1...v2)

[Compare Source](https://togithub.com/peter-evans/create-or-update-comment/compare/v1...v2)

</details>

---

### Configuration

📅 **Schedule**: At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).",../Mining/generated/scripts/prisma/current_code/rebase-action.yml,../Mining/generated/scripts/prisma/files_src_before/0af9c4e_rebase-action.yml,../Mining/generated/scripts/prisma/files_src_after/0af9c4e_rebase-action.yml,None,None,None,"@@ -12,7 +12,7 @@ jobs:
           head: ${{ github.event.client_payload.pull_request.head.label }}
       - name: Add reaction
         if: steps.rebase.outputs.rebased-count == 1
-        uses: peter-evans/create-or-update-comment@v1
+        uses: peter-evans/create-or-update-comment@v2
         with:
           token: ${{ secrets.BOT_TOKEN }}
           repository: ${{ github.event.client_payload.github.payload.repository.full_name }}
",False,False,False,False,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,f3beb6bbdaa76019faf37f08468ebdbcf01f42b2,0af9c4ea1038e96506a73fee48ebb9a8c1def859,2022-05-02 15:42:47+02:00,"ci: print gh actions workflow_dispatch input (#13078)

[skip ci]",1,3.14.0,update-engines-version.yml,MODIFY,6,0,,13078,janpio,User,MEMBER,Jolg42,User,2022-04-29T11:05:00Z,2022-05-02T13:42:48Z,closed,,,,similar to https://github.com/prisma/prisma-fmt-wasm/blob/7732b3bd5396a64f45364a94941872906851cb61/.github/workflows/publish-prisma-fmt-wasm.yml#L23-L27,../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/f3beb6b_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/f3beb6b_update-engines-version.yml,None,None,None,"@@ -11,6 +11,12 @@ jobs:
     name: 'Check and update @prisma/engines@${{ github.event.inputs.version }}'
     runs-on: ubuntu-latest
     steps:
+      - name: Print workflow_dispatch input
+        env:
+          THE_INPUT: '${{ toJson(github.event.inputs) }}'
+        run: |
+          echo $THE_INPUT
+          
       - uses: actions/checkout@v3
 
       - uses: pnpm/action-setup@v2.2.1
",True,False,False,False,False,True,True
prisma,Anthony DePasquale,User,anthony@depasquale.org,GitHub,User,noreply@github.com,1370dde1002bde301b8c79e12bf7cec57a8df335,f3beb6bbdaa76019faf37f08468ebdbcf01f42b2,2022-05-02 15:57:45+02:00,"fix: correct ""setup"" to ""set up"" when used as a verb (#13104)",14,3.14.0,test.yml,MODIFY,4,4,,13104,DePasqualeOrg,User,CONTRIBUTOR,aqrln,User,2022-04-30T14:55:06Z,2022-05-02T13:57:46Z,closed,,,,"""setup"" is a noun, and ""set up"" is a verb. Previously ""setup"" was used incorrectly as a verb.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/1370dde_test.yml,../Mining/generated/scripts/prisma/files_src_after/1370dde_test.yml,None,None,None,"@@ -610,10 +610,10 @@ jobs:
           echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - name: Setup PostgreSQL
+      - name: Set up PostgreSQL
         run: bash .github/workflows/setup-postgres.sh
 
-      - name: Setup MySQL
+      - name: Set up MySQL
         run: bash .github/workflows/setup-mysql.sh
 
       - uses: pnpm/action-setup@v2.2.1
@@ -781,10 +781,10 @@ jobs:
           echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - name: Setup PostgreSQL
+      - name: Set up PostgreSQL
         run: bash .github/workflows/setup-postgres.sh
 
-      - name: Setup MySQL
+      - name: Set up MySQL
         run: bash .github/workflows/setup-mysql.sh
 
       - uses: pnpm/action-setup@v2.2.1
",True,False,False,True,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,5f3b733a98cefd41dea1a36954bd3b92520af15a,209ba18aeac184e3bcc3298f096c2aa4b83d71d8,2022-05-02 17:16:30+02:00,"ci(update-engines-version): Output Prisma-Engines commit hash with link (#13079)

[skip ci]",1,3.14.0,update-engines-version.yml,MODIFY,15,5,,13079,janpio,User,MEMBER,Jolg42,User,2022-04-29T11:15:18Z,2022-05-02T15:16:30Z,closed,,,,This PR adds an output of the Prisma-Engines commit hash with a link to `prisma-engines` so that it becomes clickable to easier find out which Engines commits (and which change) triggered the PR.,../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/5f3b733_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/5f3b733_update-engines-version.yml,None,None,None,"@@ -48,6 +48,14 @@ jobs:
             pnpm update -r @prisma/engines@${{ github.event.inputs.version }} @prisma/engines-version@${{ github.event.inputs.version }} @prisma/fetch-engine@${{ github.event.inputs.version }} @prisma/get-platform@${{ github.event.inputs.version }}
             echo 'Awesome - proceeding to make the PR'
 
+      - name: Extract Engine Commit hash from version
+        id: extract-engine-commit-hash
+        uses: actions/github-script@v6
+        with:
+          script: |
+            const hash = context.payload.inputs.version.split('.').pop()
+            core.setOutput('hash', hash)
+
       - name: Create Pull Request
         id: cpr
         uses: peter-evans/create-pull-request@v4
@@ -61,14 +69,16 @@ jobs:
           labels: automerge
           title: 'chore(deps): update engines to ${{ github.event.inputs.version }}'
           body: |
-            This automatic PR updates the engines to version `${{  github.event.inputs.version }}`. This will get automatically merged if all the tests pass.
-            ## Packages:
+            This automatic PR updates the engines to version `${{ github.event.inputs.version }}`. This will get automatically merged if all the tests pass.
+            ## Packages
             | Package | NPM URL |
             |---------|---------|
             |`@prisma/engines`| https://npmjs.com/package/@prisma/engines/v/${{ github.event.inputs.version }}|
-            |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{  github.event.inputs.version }}|
-            |`@prisma/fetch-engine`| https://npmjs.com/package/@prisma/fetch-engine/v/${{  github.event.inputs.version }}|
-            |`@prisma/get-platform`| https://npmjs.com/package/@prisma/get-platform/v/${{  github.event.inputs.version }}|
+            |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
+            |`@prisma/fetch-engine`| https://npmjs.com/package/@prisma/fetch-engine/v/${{ github.event.inputs.version }}|
+            |`@prisma/get-platform`| https://npmjs.com/package/@prisma/get-platform/v/${{ github.event.inputs.version }}|
+            ## Engines commit
+            [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
 
       - name: PR url
         run: |
",True,False,False,False,False,True,True
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,e109901fed4f6f648e2496633df8c1611b076adf,c40a3387dc9d65645d205598c655853dc5d92996,2022-05-03 11:22:53+02:00,"ci: Remove unused GH Actions workflows and move scripts into subfolder (#13087)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",9,3.14.0,benchmark.yml,MODIFY,1,1,,13087,janpio,User,MEMBER,Jolg42,User,2022-04-29T17:02:06Z,2022-05-03T09:22:53Z,closed,,,,"- Remove 3 GH Actions workflows we never use/look at
- Move scripts to subfolder to separate from actual workflows",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/e109901_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/e109901_benchmark.yml,None,None,None,"@@ -40,7 +40,7 @@ jobs:
           cache: 'pnpm'
           node-version: '16'
 
-      - run: bash .github/workflows/setup.sh
+      - run: bash .github/workflows/scripts/setup.sh
         env:
           CI: true
           SKIP_GIT: true
",True,False,False,False,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,e109901fed4f6f648e2496633df8c1611b076adf,c40a3387dc9d65645d205598c655853dc5d92996,2022-05-03 11:22:53+02:00,"ci: Remove unused GH Actions workflows and move scripts into subfolder (#13087)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",9,3.14.0,codesee-arch-diagram.yml,DELETE,0,57,,13087,janpio,User,MEMBER,Jolg42,User,2022-04-29T17:02:06Z,2022-05-03T09:22:53Z,closed,,,,"- Remove 3 GH Actions workflows we never use/look at
- Move scripts to subfolder to separate from actual workflows",../Mining/generated/scripts/prisma/current_code/codesee-arch-diagram.yml,../Mining/generated/scripts/prisma/files_src_before/e109901_codesee-arch-diagram.yml,../Mining/generated/scripts/prisma/files_src_after/e109901_codesee-arch-diagram.yml,None,None,None,"@@ -1,57 +0,0 @@
-on:
-  push:
-    branches:
-      - main
-  pull_request_target:
-    types: [opened, synchronize, reopened]
-
-name: CodeSee Map
-
-jobs:
-  test_map_action:
-    runs-on: ubuntu-latest
-    continue-on-error: true
-    name: Run CodeSee Map Analysis
-    steps:
-      - name: checkout
-        id: checkout
-        uses: actions/checkout@v3
-        with:
-          repository: ${{ github.event.pull_request.head.repo.full_name }}
-          ref: ${{ github.event.pull_request.head.ref }}
-          fetch-depth: 0
-
-      # codesee-detect-languages has an output with id languages.
-      - name: Detect Languages
-        id: detect-languages
-        uses: Codesee-io/codesee-detect-languages-action@latest
-
-      - name: Configure Node.js 14
-        uses: actions/setup-node@v3
-        if: ${{ fromJSON(steps.detect-languages.outputs.languages).javascript }}
-        with:
-          node-version: '14'
-
-      - name: Generate Map
-        id: generate-map
-        uses: Codesee-io/codesee-map-action@latest
-        with:
-          step: map
-          github_ref: ${{ github.ref }}
-          languages: ${{ steps.detect-languages.outputs.languages }}
-
-      - name: Upload Map
-        id: upload-map
-        uses: Codesee-io/codesee-map-action@latest
-        with:
-          step: mapUpload
-          api_token: ${{ secrets.CODESEE_ARCH_DIAG_API_TOKEN }}
-          github_ref: ${{ github.ref }}
-
-      - name: Insights
-        id: insights
-        uses: Codesee-io/codesee-map-action@latest
-        with:
-          step: insights
-          api_token: ${{ secrets.CODESEE_ARCH_DIAG_API_TOKEN }}
-          github_ref: ${{ github.ref }}
",True,False,False,False,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,e109901fed4f6f648e2496633df8c1611b076adf,c40a3387dc9d65645d205598c655853dc5d92996,2022-05-03 11:22:53+02:00,"ci: Remove unused GH Actions workflows and move scripts into subfolder (#13087)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",9,3.14.0,scorecards-analysis.yml,DELETE,0,69,,13087,janpio,User,MEMBER,Jolg42,User,2022-04-29T17:02:06Z,2022-05-03T09:22:53Z,closed,,,,"- Remove 3 GH Actions workflows we never use/look at
- Move scripts to subfolder to separate from actual workflows",../Mining/generated/scripts/prisma/current_code/scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/e109901_scorecards-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/e109901_scorecards-analysis.yml,None,None,None,"@@ -1,69 +0,0 @@
-name: Scorecards supply-chain security
-on:
-  # when a branch protection rule has been edited, created or deleted
-  branch_protection_rule:
-  push:
-    # Only the default branch is supported.
-    branches: [main]
-
-# Declare default permissions as read only.
-permissions: read-all
-
-jobs:
-  analysis:
-    name: Scorecards analysis
-    runs-on: ubuntu-latest
-    permissions:
-      # Needed to upload the results to code-scanning dashboard.
-      security-events: write
-      actions: read
-      contents: read
-
-    steps:
-      - name: 'Checkout code'
-        uses: actions/checkout@v3
-        with:
-          persist-credentials: false
-
-      - name: 'Run analysis'
-        uses: ossf/scorecard-action@v1.0.4
-        with:
-          results_file: results.sarif
-          results_format: sarif
-          # Read-only PAT token. To create it,
-          # follow the steps in https://github.com/ossf/scorecard-action#pat-token-creation.
-          repo_token: ${{ secrets.SCORECARD_READ_TOKEN }}
-          # Publish the results to enable scorecard badges. For more details, see
-          # https://github.com/ossf/scorecard-action#publishing-results.
-          # For private repositories, `publish_results` will automatically be set to `false`,
-          # regardless of the value entered here.
-          publish_results: true
-
-      # Upload the results as artifacts (optional).
-      - name: 'Upload artifact'
-        uses: actions/upload-artifact@v3.0.0
-        with:
-          name: SARIF file
-          path: results.sarif
-          retention-days: 5
-
-      # Upload the results to GitHub's code scanning dashboard.
-      - name: 'Upload to code-scanning'
-        uses: github/codeql-action/upload-sarif@v2
-        with:
-          sarif_file: results.sarif
-
-      - name: 'Set current job url in SLACK_FOOTER env var'
-        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
-
-      - name: Slack Notification on Failure
-        if: ${{ failure() }}
-        uses: rtCamp/action-slack-notify@v2.2.0
-        env:
-          SLACK_TITLE: 'Scorecards supply-chain security failed :x:'
-          SLACK_COLOR: '#FF0000'
-          SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}
-          SLACK_CHANNEL: feed-prisma-failures
-          SLACK_USERNAME: Prismo
-          SLACK_ICON_EMOJI: ':boom:'
-          SLACK_MSG_AUTHOR: prisma-bot
",True,False,False,False,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,e109901fed4f6f648e2496633df8c1611b076adf,c40a3387dc9d65645d205598c655853dc5d92996,2022-05-03 11:22:53+02:00,"ci: Remove unused GH Actions workflows and move scripts into subfolder (#13087)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",9,3.14.0,test.yml,MODIFY,15,15,,13087,janpio,User,MEMBER,Jolg42,User,2022-04-29T17:02:06Z,2022-05-03T09:22:53Z,closed,,,,"- Remove 3 GH Actions workflows we never use/look at
- Move scripts to subfolder to separate from actual workflows",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/e109901_test.yml,../Mining/generated/scripts/prisma/files_src_after/e109901_test.yml,None,None,None,"@@ -61,7 +61,7 @@ jobs:
         with:
           format: 'json'
       - id: detect
-        run: ./.github/workflows/detect-jobs-to-run.js <<<'${{ steps.files.outputs.all }}'
+        run: ./.github/workflows/scripts/detect-jobs-to-run.js <<<'${{ steps.files.outputs.all }}'
 
   # From https://github.com/marketplace/actions/skip-duplicate-actions
   # This action cleans up previously running instances of a workflow on the same branch.
@@ -101,7 +101,7 @@ jobs:
           echo ""::remove-matcher owner=eslint-compact::""
           echo ""::remove-matcher owner=eslint-stylish::""
 
-      - run: bash .github/workflows/setup.sh
+      - run: bash .github/workflows/scripts/setup.sh
         env:
           CI: true
           SKIP_GIT: true
@@ -149,7 +149,7 @@ jobs:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
-      - run: bash .github/workflows/setup.sh
+      - run: bash .github/workflows/scripts/setup.sh
         env:
           CI: true
           SKIP_GIT: true
@@ -203,7 +203,7 @@ jobs:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
-      - run: bash .github/workflows/setup.sh
+      - run: bash .github/workflows/scripts/setup.sh
         env:
           CI: true
           SKIP_GIT: true
@@ -268,7 +268,7 @@ jobs:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
-      - run: bash .github/workflows/setup.sh
+      - run: bash .github/workflows/scripts/setup.sh
         env:
           CI: true
           SKIP_GIT: true
@@ -338,7 +338,7 @@ jobs:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
-      - run: bash .github/workflows/setup.sh
+      - run: bash .github/workflows/scripts/setup.sh
         env:
           CI: true
           SKIP_GIT: true
@@ -400,7 +400,7 @@ jobs:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
-      - run: bash .github/workflows/setup.sh
+      - run: bash .github/workflows/scripts/setup.sh
         env:
           CI: true
           SKIP_GIT: true
@@ -470,7 +470,7 @@ jobs:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
-      - run: bash .github/workflows/setup.sh
+      - run: bash .github/workflows/scripts/setup.sh
         env:
           CI: true
           SKIP_GIT: true
@@ -517,7 +517,7 @@ jobs:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
-      - run: bash .github/workflows/setup.sh
+      - run: bash .github/workflows/scripts/setup.sh
         env:
           CI: true
           SKIP_GIT: true
@@ -611,10 +611,10 @@ jobs:
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
       - name: Set up PostgreSQL
-        run: bash .github/workflows/setup-postgres.sh
+        run: bash .github/workflows/scripts/setup-postgres.sh
 
       - name: Set up MySQL
-        run: bash .github/workflows/setup-mysql.sh
+        run: bash .github/workflows/scripts/setup-mysql.sh
 
       - uses: pnpm/action-setup@v2.2.1
         with:
@@ -625,7 +625,7 @@ jobs:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
-      - run: bash .github/workflows/setup.sh
+      - run: bash .github/workflows/scripts/setup.sh
         env:
           CI: true
           SKIP_GIT: true
@@ -782,10 +782,10 @@ jobs:
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
       - name: Set up PostgreSQL
-        run: bash .github/workflows/setup-postgres.sh
+        run: bash .github/workflows/scripts/setup-postgres.sh
 
       - name: Set up MySQL
-        run: bash .github/workflows/setup-mysql.sh
+        run: bash .github/workflows/scripts/setup-mysql.sh
 
       - uses: pnpm/action-setup@v2.2.1
         with:
@@ -796,7 +796,7 @@ jobs:
           cache: 'pnpm'
           node-version: ${{ matrix.node }}
 
-      - run: bash .github/workflows/setup.sh
+      - run: bash .github/workflows/scripts/setup.sh
         env:
           CI: true
           SKIP_GIT: true
",True,False,False,True,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,6937321bee9a3729dfdaee69e2feef33f362c412,ee595a974214b91f8ce27c368645bdf5e6f1d328,2022-05-04 16:47:13+02:00,"ci: Removing /rebase GH Actions (#13159)

* ci: Removing /rebase GH Actions 

as they caused a _lot_ of GH Actions workflow runs that do nothing in 99.99% of cases - but they still consume runners and actually wait quite long

* Delete rebase-action.yml",2,,rebase-action.yml,DELETE,0,20,,13159,janpio,User,MEMBER,janpio,User,2022-05-04T14:41:23Z,2022-05-04T14:47:13Z,closed,,,,"as they caused a _lot_ of GH Actions workflow runs that do nothing in 99.99% of cases - but they still consume runners and actually wait quite long: https://github.com/prisma/prisma/actions/workflows/rebase-slash-command.yml
<img width=""740"" alt=""image"" src=""https://user-images.githubusercontent.com/183673/166705902-5a8439c1-1a2d-4c02-9173-c8e4e264b873.png"">
",../Mining/generated/scripts/prisma/current_code/rebase-action.yml,../Mining/generated/scripts/prisma/files_src_before/6937321_rebase-action.yml,../Mining/generated/scripts/prisma/files_src_after/6937321_rebase-action.yml,None,None,None,"@@ -1,20 +0,0 @@
-name: rebase-command
-on:
-  repository_dispatch:
-    types: [rebase-command]
-jobs:
-  rebase:
-    runs-on: ubuntu-latest
-    steps:
-      - uses: peter-evans/rebase@v2
-        id: rebase
-        with:
-          head: ${{ github.event.client_payload.pull_request.head.label }}
-      - name: Add reaction
-        if: steps.rebase.outputs.rebased-count == 1
-        uses: peter-evans/create-or-update-comment@v2
-        with:
-          token: ${{ secrets.BOT_TOKEN }}
-          repository: ${{ github.event.client_payload.github.payload.repository.full_name }}
-          comment-id: ${{ github.event.client_payload.github.payload.comment.id }}
-          reaction-type: hooray
",True,False,False,True,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,6937321bee9a3729dfdaee69e2feef33f362c412,ee595a974214b91f8ce27c368645bdf5e6f1d328,2022-05-04 16:47:13+02:00,"ci: Removing /rebase GH Actions (#13159)

* ci: Removing /rebase GH Actions 

as they caused a _lot_ of GH Actions workflow runs that do nothing in 99.99% of cases - but they still consume runners and actually wait quite long

* Delete rebase-action.yml",2,,rebase-slash-command.yml,DELETE,0,15,,13159,janpio,User,MEMBER,janpio,User,2022-05-04T14:41:23Z,2022-05-04T14:47:13Z,closed,,,,"as they caused a _lot_ of GH Actions workflow runs that do nothing in 99.99% of cases - but they still consume runners and actually wait quite long: https://github.com/prisma/prisma/actions/workflows/rebase-slash-command.yml
<img width=""740"" alt=""image"" src=""https://user-images.githubusercontent.com/183673/166705902-5a8439c1-1a2d-4c02-9173-c8e4e264b873.png"">
",../Mining/generated/scripts/prisma/current_code/rebase-slash-command.yml,../Mining/generated/scripts/prisma/files_src_before/6937321_rebase-slash-command.yml,../Mining/generated/scripts/prisma/files_src_after/6937321_rebase-slash-command.yml,None,None,None,"@@ -1,15 +0,0 @@
-name: Slash Command Dispatch
-on:
-  issue_comment:
-    types: [created]
-jobs:
-  slashCommandDispatch:
-    runs-on: ubuntu-latest
-    steps:
-      - name: Slash Command Dispatch
-        uses: peter-evans/slash-command-dispatch@v3
-        with:
-          token: ${{ secrets.BOT_TOKEN }}
-          commands: rebase
-          permission: write
-          issue-type: pull-request
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,ee828d9ff8a83a9ee2c0d464cd055f272e749d68,b856420204137ffdddc9b64da2d4a47e1c8f09be,2022-05-06 19:01:09+02:00,ci: try running integration-tests package tests all at once (#13224),1,3.14.0,test.yml,MODIFY,4,21,,13224,Jolg42,User,MEMBER,Jolg42,User,2022-05-06T15:59:00Z,2022-05-06T17:01:10Z,closed,,,,"To save GitHub runners, since the slowest part is actually the setup

 integration-tests (library, 12)
succeeded 1 minute ago in 7m 53s 
https://github.com/prisma/prisma/runs/6325770187?check_suite_focus=true

 integration-tests (binary, 12)
succeeded 1 minute ago in 10m 5s 
https://github.com/prisma/prisma/runs/6325770247?check_suite_focus=true

Where before it was taking 6 min just for one run (5min on setup) like
https://github.com/prisma/prisma/runs/6324538464?check_suite_focus=true

So it's going to help with out GitHub Actions queuing!",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/ee828d9_test.yml,../Mining/generated/scripts/prisma/files_src_after/ee828d9_test.yml,None,None,None,"@@ -236,13 +236,6 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
-        database:
-          - sqlite
-          - postgres
-          - mysql
-          - mariadb
-          - mssql
-          # - mongo
         node: [12]
 
     steps:
@@ -256,8 +249,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach ${{matrix.database}}
-        if: matrix.database != 'sqlite'
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mariadb mssql
 
       - uses: pnpm/action-setup@v2.2.1
         with:
@@ -274,12 +266,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      # TODO: is this still necessary?
-      - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
-        if: ${{ matrix.database == 'sqlite' }}
-        working-directory: packages/integration-tests
-
-      - run: pnpm run jest integration/${{ matrix.database }} -- --maxConcurrency=8
+      - run: pnpm run test
         working-directory: packages/integration-tests
         env:
           CI: true
@@ -296,8 +283,8 @@ jobs:
       - uses: codecov/codecov-action@v3
         with:
           files: ./packages/integration-tests/src/__tests__/coverage/clover.xml
-          flags: integration-tests,${{ matrix.database }},${{ matrix.queryEngine }}
-          name: integration-tests-${{ matrix.database }}-${{ matrix.queryEngine }}
+          flags: integration-tests,${{ matrix.node }},${{ matrix.queryEngine }}
+          name: integration-tests-${{ matrix.node }}-${{ matrix.queryEngine }}
 
   #
   # SDK
@@ -406,10 +393,6 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      # TODO: is this still necessary?
-      - run: pnpm i sqlite3@5.0.2 --unsafe-perm --reporter=silent
-        working-directory: packages/cli
-
       - run: pnpm run test
         working-directory: packages/migrate
         env:
",True,False,False,True,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,859778c555ba564031ced2fb8540e372a7dbd051,9b3eb5bbb0162aad8d3f4725a4d560f82a46a082,2022-05-06 19:41:02+02:00,"chore: add contributors (#13231)

[skip ci]",3,3.14.0,benchmark.yml,MODIFY,1,1,,13231,millsp,User,MEMBER,Jolg42,User,2022-05-06T17:36:23Z,2022-05-06T17:41:02Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/859778c_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/859778c_benchmark.yml,None,None,None,"@@ -65,7 +65,7 @@ jobs:
           alert-threshold: '200%'
           comment-on-alert: true
           fail-on-alert: true
-          alert-comment-cc-users: '@Jolg42,@millsp'
+          alert-comment-cc-users: '@Jolg42,@millsp,@aqrln,@SevInf,@danstarns,@jkomyno'
 
       - name: 'Set current job url in SLACK_FOOTER env var'
         if: ${{ failure() }}
",True,False,False,False,False,True,False
prisma,Alberto Schiabel,User,jkomyno@users.noreply.github.com,GitHub,User,noreply@github.com,34e8353245201f1c89e7263490b25d2bdb5b234f,c0bdd272dab05b9734fe0f848d83665eb97925ca,2022-05-09 10:43:48+02:00,"fix(db pull): --url no longer overrides the datasource provider (#12910)

* migrate: --url no longer overrides the datasource provider

* migrate: added tests, had to use postgres service rather than cockroachdb

* migrate: fixed bug spotted thanks to mongodb tests

* migrate: try to exclude one test when running on Windows

* migrate: try to use cockroachdb

* ci: add missing cockroachdb

* ci: removed cockroachdb from 'migrate'

* ci: removed cockroachdb from 'integration-tests'

* ci: retry cockroachdb in 'migrate'

* ci: updated cockroachdb URIs

* migrate: updated snapshot for cockroachdb

* migrate: possibly fixed cockroachdb tests

* migrate: updated snapshot

* ci: probably fixed tests for github actions

* ci: fix?

* ci: fix cockroach on buildkite

* ci: revert edits to .buildkite

* sdk: added cockroachdb to normalizeDbUrl

* migrate: skip cockroachdb tests in no-docker CI steps

* migrate: fixed linting in tests

* migrate: address PR suggestions

* update TEST_COCKROACH_URI in TESTING.md

[skip ci]

* add missing test for cockroachdb database and postgresql provider

* update snapshots

* migrate: update snapshots for db pull

* Add reference to issue #13077

[skip-ci]

* Updated TODO

Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>

Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>
Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",15,3.14.0,test.yml,MODIFY,2,1,,12910,jkomyno,User,CONTRIBUTOR,Jolg42,User,2022-04-21T10:06:16Z,2022-05-09T08:43:48Z,closed,,,,Closes https://github.com/prisma/prisma/issues/11527.,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/34e8353_test.yml,../Mining/generated/scripts/prisma/files_src_after/34e8353_test.yml,0.6886792452830188,1.0,1.0,"@@ -368,7 +368,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongodb_migrate mongodb_migrate_seed
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongodb_migrate mongodb_migrate_seed cockroachdb
 
       - name: Set CLI Engine Type
         run: |
@@ -409,6 +409,7 @@ jobs:
           TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
           TEST_MSSQL_SHADOWDB_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate-shadowdb;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
           TEST_MONGO_URI_MIGRATE: 'mongodb://root:prisma@localhost:27017/tests-migrate?authSource=admin'
+          TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
 
       - uses: codecov/codecov-action@v3
         with:
",True,False,False,True,False,True,False
prisma,Alberto Schiabel,User,jkomyno@users.noreply.github.com,GitHub,User,noreply@github.com,7af1434d46f95d395e44f0a3f6103178ee8cea25,d2a7168e371e4d1c5344ab926e8dd12ca6a657e7,2022-05-12 18:02:00+02:00,"feat(cli): support artificial panics (#13084)

* chore(engine-core): updated library definition after engines debugPanic update

* sdk: add skeleton support to artificial panics

* chore(engine-core): turn debugPanic into a Promise

* cli: set the ground for testing artificial panics

* cli: minimal changes to artificial-panic tests

* sdk: removed dead code in getConfig

* sdk: minimal changes to getDmmf to align it to getConfig

* cli: added conditionals to artificial-panic test suite

* sdk: towards a better error handling for getConfig/getDmmf

* sdk: added fp-ts dependency

* sdk: enhanced error handling in getConfigBinary (preview)

* sdk: fixed typo

* one step further

* sdk: standardized getConfig and getDmmf

* sdk: simplified query-engine commands, added queryEngineCommons

* sdk: included details about original error when throwing GetConfigError and GetDmmfError

* sdk: added back retry support to getDmmfBinary, ported unlinkTempDatamodelPath to queryEngineCommonds, added comments.

* cli: added type-safe RustPanic   management

* sdk: fixed nullable bug in unlinkTempDatamodelPath

* cli: fixed tests for artificial-panic

* sdk: brought TypeScript version down to 4.5.4

* minor

* sdk: updated snapshot

* sdk: renamed ErrorArea QUERY_ENGINE_LIBRARY -> QUERY_ENGINE_LIBRARY_CLI

* engine-core: removed unused

* sdk: removed log from handlePanic

* engine-core: downgraded typescript version to original 4.5.4

* sdk: updated snapshot

* cli: fixed artificial-panic tests

* sdk: updated snapshots

* sdk: updated snapshot

* sdk: add more assertions to artificial-panic

* sdk: fixed bug with tempDatamodelPath in binary getConfig and getDmmf

* removed useless edits

* sdk: improved error handling and debug lines of getConfig and getDmmf

* sdk: improved debug lines of getConfig and getDmmf

* client: updated snapshot

* sdk: removed outdated test

* client: updated snapshot

* client: updated snapshot

* sdk: updated tests

* update snapshots

* cli: updated artificial-panic

* snapshot update

* updated snapshots

* cli: fixed artificial panic tests on windows?

* cli: fix windows CI?

* sdk: fix pnpm-lock disalignment

* use appropriate ErrorArea

* Added comments

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* Added comment

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* sdk: fixed bug in which the 'sendPanic' function tries to read a path unlinked by getConfig and getDmmf

* migrate: increased max event listeners for test

* sdk: unlink temporary directory only when not in CI

* migrate: get things ready to merge

* migrate: try to fix CI

* revert max listeners stuff

* fixed CI?

* sdk: added tests about E2BIG eventuality

* Update packages/cli/src/__tests__/artificial-panic.test.ts

[skip ci]

Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>

* [skip ci] remove outdated comment

* [skip ci] added comments

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>
Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>",22,3.15.0,update-engines-version.yml,MODIFY,1,1,,13084,jkomyno,User,CONTRIBUTOR,Jolg42,User,2022-04-29T16:13:40Z,2022-05-12T16:02:00Z,closed,,,,"Contributes to https://github.com/prisma/prisma/issues/12495, points 2, 3, 4.
This is still a work in progress.

## High-level overview:
- [x] Added artificial panic support for `formatSchema` via the `FORCE_PANIC_PRISMA_FMT` env var
- [x] Added artificial panic support for `getConfig` via the `FORCE_PANIC_QUERY_ENGINE_GET_CONFIG` env var
- [x] Added artificial panic support for `getDmmf` via the `FORCE_PANIC_QUERY_ENGINE_GET_DMMF` env var
- [x] Added granular type-safe error management for [`getConfig`](https://github.com/prisma/prisma/blob/84537652e07577e1ccce8cff4e7c7bd5b58d291d/packages/sdk/src/engine-commands/getConfig.ts), catching more errors than before, and emitting more detailed information when using the `DEBUG` env var
- [x] Added granular type-safe error management for [`getDmmf`](https://github.com/prisma/prisma/blob/84537652e07577e1ccce8cff4e7c7bd5b58d291d/packages/sdk/src/engine-commands/getDmmf.ts), catching more errors than before, and emitting more detailed information when using the `DEBUG` env var
- [x] Highlighted type errors in the `getConfig` and `getDmmf` functions of the `Library` type in [`Library.ts`](https://github.com/prisma/prisma/blob/84537652e07577e1ccce8cff4e7c7bd5b58d291d/packages/engine-core/src/library/types/Library.ts), which return an eager value rather than a `Promise`
- [x] Added type-safe `RustPanic` detection to the [`cli`](https://github.com/prisma/prisma/blob/84537652e07577e1ccce8cff4e7c7bd5b58d291d/packages/cli/src/bin.ts)
- [x] Introduced [`fp-ts`](https://github.com/gcanti/fp-ts) dependency (in particular to use the `Either` monad to branch between errors, relying on an abstraction also used in the Rust codebase)

## TODOs after the error-reporting dashboard gets updated (ref. https://github.com/prisma/error-handling-backend/pull/6)
- [x] Update the `ErrorArea` in the `RustPanic` thrown in the formatter to `ErrorArea.FMT_CLI`
- [x] Update the `ErrorArea` in the `RustPanic` thrown in `getDmmf` library to `ErrorArea.QUERY_ENGINE_LIBRARY_CLI`
- [x] Update the `ErrorArea` in the `RustPanic` thrown in `getDmmf` binary to `ErrorArea.QUERY_ENGINE_BINARY_CLI`
- [x] Update the `ErrorArea` in the `RustPanic` thrown in `getConfig` library to `ErrorArea.QUERY_ENGINE_LIBRARY_CLI`
- [x] Update the `ErrorArea` in the `RustPanic` thrown in `getConfig` binary to `ErrorArea.QUERY_ENGINE_BINARY_CLI`

## Post-merge TODOs:
- [ ] Capture Rust stacktrace in library panics (https://github.com/prisma/prisma/issues/13557)
- [ ] Add granular type-safe error management to [`formatSchema`](https://github.com/prisma/prisma/blob/84537652e07577e1ccce8cff4e7c7bd5b58d291d/packages/sdk/src/engine-commands/formatSchema.ts)
- [ ] Decide whether to decorate errors caught in `getConfig` with information about the `OpenSSL` version installed on the system, similarly to how it's already done in `getDmmf`
- [ ] Fix the type errors in the `Library` type (https://github.com/prisma/prisma/issues/13558)
- [x] Print the error in case we're not able to submit an error report (https://github.com/prisma/prisma/pull/13257)
- [x] Document how to trigger artificial panics (https://github.com/prisma/prisma/pull/13359)

## How to reproduce

- Make sure you have both the `libquery` and the `query-engine` Rust binaries installed locally
- `npx prisma init`
- To trigger panic in `getDmmf`, using the `node-api` library, run `PRISMA_CLI_QUERY_ENGINE_TYPE=library FORCE_PANIC_QUERY_ENGINE_GET_DMMF=1 npx prisma validate`
- To trigger panic in `getDmmf`, using the `node-api` binary, run `PRISMA_CLI_QUERY_ENGINE_TYPE=binary FORCE_PANIC_QUERY_ENGINE_GET_DMMF=1 npx prisma validate`
- To trigger panic in `getConfig`, using the `node-api` library, run `PRISMA_CLI_QUERY_ENGINE_TYPE=library FORCE_PANIC_QUERY_ENGINE_GET_CONFIG=1 npx prisma validate`
- To trigger panic in `getConfig`, using the `node-api` binary, run `PRISMA_CLI_QUERY_ENGINE_TYPE=binary FORCE_PANIC_QUERY_ENGINE_GET_CONFIG=1 npx prisma validate`",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/7af1434_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/7af1434_update-engines-version.yml,0.7084233261339092,1.0,1.0,"@@ -16,7 +16,7 @@ jobs:
           THE_INPUT: '${{ toJson(github.event.inputs) }}'
         run: |
           echo $THE_INPUT
-          
+
       - uses: actions/checkout@v3
 
       - uses: pnpm/action-setup@v2.2.1
",True,False,False,False,False,True,True
prisma,Alberto Schiabel,User,jkomyno@users.noreply.github.com,GitHub,User,noreply@github.com,1469772a67ed8e6adbb1f0aa652d35e1433d43e6,24a1ec07640feb99816692379a72423c2b14d793,2022-05-30 10:12:09+02:00,fix: MacOS CI by updating pnpm/action-setup to v2.2.2 (#13547),4,3.15.0,benchmark.yml,MODIFY,1,1,,13547,jkomyno,User,CONTRIBUTOR,jkomyno,User,2022-05-28T22:23:14Z,2022-05-30T08:12:10Z,closed,,,,"The MacOS CI seems to be failing due to [this issue with pnpm/action-setup](https://github.com/pnpm/action-setup/issues/47).
This has been fixed in https://github.com/pnpm/action-setup/pull/46, which was shipped with `pnpm/action-setup@2.2.2`.",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/1469772_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/1469772_benchmark.yml,None,None,None,"@@ -31,7 +31,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.1
+      - uses: pnpm/action-setup@v2.2.2
         with:
           version: 6
 
",True,False,False,False,False,True,False
prisma,Alberto Schiabel,User,jkomyno@users.noreply.github.com,GitHub,User,noreply@github.com,1469772a67ed8e6adbb1f0aa652d35e1433d43e6,24a1ec07640feb99816692379a72423c2b14d793,2022-05-30 10:12:09+02:00,fix: MacOS CI by updating pnpm/action-setup to v2.2.2 (#13547),4,3.15.0,test.yml,MODIFY,10,10,,13547,jkomyno,User,CONTRIBUTOR,jkomyno,User,2022-05-28T22:23:14Z,2022-05-30T08:12:10Z,closed,,,,"The MacOS CI seems to be failing due to [this issue with pnpm/action-setup](https://github.com/pnpm/action-setup/issues/47).
This has been fixed in https://github.com/pnpm/action-setup/pull/46, which was shipped with `pnpm/action-setup@2.2.2`.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/1469772_test.yml,../Mining/generated/scripts/prisma/files_src_after/1469772_test.yml,None,None,None,"@@ -84,7 +84,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.1
+      - uses: pnpm/action-setup@v2.2.2
         with:
           version: 6
 
@@ -140,7 +140,7 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb
 
-      - uses: pnpm/action-setup@v2.2.1
+      - uses: pnpm/action-setup@v2.2.2
         with:
           version: 6
 
@@ -194,7 +194,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.1
+      - uses: pnpm/action-setup@v2.2.2
         with:
           version: 6
 
@@ -251,7 +251,7 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mariadb mssql
 
-      - uses: pnpm/action-setup@v2.2.1
+      - uses: pnpm/action-setup@v2.2.2
         with:
           version: 6
 
@@ -316,7 +316,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.2.1
+      - uses: pnpm/action-setup@v2.2.2
         with:
           version: 6
 
@@ -378,7 +378,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.2.1
+      - uses: pnpm/action-setup@v2.2.2
         with:
           version: 6
 
@@ -445,7 +445,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.2.1
+      - uses: pnpm/action-setup@v2.2.2
         with:
           version: 6
 
@@ -492,7 +492,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.1
+      - uses: pnpm/action-setup@v2.2.2
         with:
           version: 6
 
@@ -600,7 +600,7 @@ jobs:
       - name: Set up MySQL
         run: bash .github/workflows/scripts/setup-mysql.sh
 
-      - uses: pnpm/action-setup@v2.2.1
+      - uses: pnpm/action-setup@v2.2.2
         with:
           version: 6
 
@@ -771,7 +771,7 @@ jobs:
       - name: Set up MySQL
         run: bash .github/workflows/scripts/setup-mysql.sh
 
-      - uses: pnpm/action-setup@v2.2.1
+      - uses: pnpm/action-setup@v2.2.2
         with:
           version: 6
 
",True,False,False,True,False,True,False
prisma,Alberto Schiabel,User,jkomyno@users.noreply.github.com,GitHub,User,noreply@github.com,1469772a67ed8e6adbb1f0aa652d35e1433d43e6,24a1ec07640feb99816692379a72423c2b14d793,2022-05-30 10:12:09+02:00,fix: MacOS CI by updating pnpm/action-setup to v2.2.2 (#13547),4,3.15.0,update-engines-version.yml,MODIFY,1,1,,13547,jkomyno,User,CONTRIBUTOR,jkomyno,User,2022-05-28T22:23:14Z,2022-05-30T08:12:10Z,closed,,,,"The MacOS CI seems to be failing due to [this issue with pnpm/action-setup](https://github.com/pnpm/action-setup/issues/47).
This has been fixed in https://github.com/pnpm/action-setup/pull/46, which was shipped with `pnpm/action-setup@2.2.2`.",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/1469772_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/1469772_update-engines-version.yml,None,None,None,"@@ -19,7 +19,7 @@ jobs:
 
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.1
+      - uses: pnpm/action-setup@v2.2.2
         with:
           version: 6
 
",True,False,False,False,False,True,True
prisma,Alberto Schiabel,User,jkomyno@users.noreply.github.com,GitHub,User,noreply@github.com,1469772a67ed8e6adbb1f0aa652d35e1433d43e6,24a1ec07640feb99816692379a72423c2b14d793,2022-05-30 10:12:09+02:00,fix: MacOS CI by updating pnpm/action-setup to v2.2.2 (#13547),4,3.15.0,update-studio-version.yml,MODIFY,1,1,,13547,jkomyno,User,CONTRIBUTOR,jkomyno,User,2022-05-28T22:23:14Z,2022-05-30T08:12:10Z,closed,,,,"The MacOS CI seems to be failing due to [this issue with pnpm/action-setup](https://github.com/pnpm/action-setup/issues/47).
This has been fixed in https://github.com/pnpm/action-setup/pull/46, which was shipped with `pnpm/action-setup@2.2.2`.",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/1469772_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/1469772_update-studio-version.yml,None,None,None,"@@ -13,7 +13,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.1
+      - uses: pnpm/action-setup@v2.2.2
         with:
           version: 6
 
",True,False,False,False,False,True,True
prisma,Alberto Schiabel,User,jkomyno@users.noreply.github.com,GitHub,User,noreply@github.com,6ba097ff0da1e59300daf9b04c7c135f01751087,5f64b0dc7272a673fa10d8bde805ceee487e1fba,2022-06-05 16:28:42+02:00,"ci: added support for additional cockroachdb tests (#13537)

* ci: added support for additional cockroachdb tests

* migrate: added new cockroachdb tests for db execute, migrate dev, migrate diff

* migrate: fixed race env write in tests

* migrate: removed empty snapshots

* migrate: recovered non-empty test

* migrate: fix ci",18,3.15.0,test.yml,MODIFY,2,0,,13537,jkomyno,User,CONTRIBUTOR,jkomyno,User,2022-05-28T08:43:45Z,2022-06-05T14:28:43Z,closed,,,,"This PR adds cockroachdb tests for:

- [x] db execute
- [x] migrate dev
- [x] migrate diff 

Closes https://github.com/prisma/prisma/issues/13268",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/6ba097f_test.yml,../Mining/generated/scripts/prisma/files_src_after/6ba097f_test.yml,0.4226415094339623,1.0,1.0,"@@ -410,6 +410,8 @@ jobs:
           TEST_MSSQL_SHADOWDB_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate-shadowdb;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
           TEST_MONGO_URI_MIGRATE: 'mongodb://root:prisma@localhost:27017/tests-migrate?authSource=admin'
           TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
+          TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
+          TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
 
       - uses: codecov/codecov-action@v3
         with:
",True,False,False,True,False,True,False
prisma,Daniel Starns,User,danielstarns@hotmail.com,GitHub,User,noreply@github.com,8912a354557a64ca1bcc88d0eae383aa061580be,001821edc401dcb5b4ab1eea092a0739a8f8f908,2022-06-09 10:37:49+02:00,"test(client): Opt Out Of Providers (#13507)

* test/feat: add optIn options

* test: add coverage for all in the _example

* refactor: change to opt out

* test: add more provider support

* refactor: add missingProvider helper

* temp: remove cockroachdb

* Revert ""temp: remove cockroachdb""

This reverts commit fc84e59036dc8b8a0c8e11aee069f02bec656111.

* temp: opt out cockroach for metrics

* fix: add cockroach and mongo to metrics

* temp: remove other tests and add cockroach uri

* Revert ""temp: remove other tests and add cockroach uri""

This reverts commit 9ab5b863bb2515f087784e67fce42290a241baf8.

* ci/fix: add cockroachdb envs to client tests",30,4.0.0,test.yml,MODIFY,3,0,,13507,danstarns,User,CONTRIBUTOR,danstarns,User,2022-05-26T12:37:58Z,2022-06-09T08:37:50Z,closed,,danstarns,User,"This PR adds a helper to enforce that the functional test suite covers all providers listed in the `providers` file. You can opt-out of specific providers using `options.outOut`. This will make it easier to enforce coverage across all providers and allow us to easily see what isn't covered. 

## How to use: 
**The test suite will enforce that you cover all providers listed in the `providers` file. Given you have the following matrix and only want to test mongodb:** 

```ts
import { defineMatrix } from '../_utils/defineMatrix'

export default defineMatrix(() => [
  [
    {
      'provider': 'mongodb',
      'id': 'String @id @default(auto()) @map(""_id"") @db.ObjectId',
      'providerFeatures': '""mongoDb"", ',
      'previewFeatures': '""filterJson""',
    },
  ]
*/
```

In your `test.ts` file you must `optOut` of other providers to only use `mongodb` like so: 

```ts
import { getTestSuiteSchema } from '../_utils/getTestSuiteInfo'
import testMatrix from './_matrix'

// @ts-ignore this is just for type checks
declare let prisma: import('@prisma/client').PrismaClient

testMatrix.setupTestSuite(
  (suiteConfig, suiteMeta) => {

    test('...', () => {
    })

    test('...', () => {
    })

    test('...', () => {
    })
  },
  { 
      optOut:  { // <--------------  👀
        from: ['postgresql', 'mysql', 'sqlite', 'cockroachdb'],
        reason: 'I only want to test MongoDB here'
      }
   } 
)
```

Given this use case, if you do not opt-out of the missing providers it will throw the following error: 

```
 FAIL  tests/functional/_example/tests.ts
  ● Test suite failed to run

    Test: '_example' is missing providers 'sqlite, postgresql, mysql, cockroachdb' optIn using options.optIn

      84 |
      85 |     if (missingProviders.length) {
    > 86 |       throw new Error(
         |             ^
      87 |         `Test: '${suiteMeta.testDirName}' is missing providers '${missingProviders.join(
      88 |           ', ',
      89 |         )}' optIn using options.optIn`,

      at Object.setupTestSuiteMatrix [as setupTestSuite] (_utils/setupTestSuiteMatrix.ts:86:13)
      at Object.setupTestSuite (_example/tests.ts:9:12)
      at TestScheduler.scheduleTests (../../../../node_modules/.pnpm/@jest+core@28.1.0_ts-node@10.7.0/node_modules/@jest/core/build/TestScheduler.js:317:13)
```
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/8912a35_test.yml,../Mining/generated/scripts/prisma/files_src_after/8912a35_test.yml,0.3142857142857143,0.37142857142857144,0.45714285714285713,"@@ -168,6 +168,9 @@ jobs:
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
           TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
           TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
+          TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
+          TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
+          TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
           NODE_OPTIONS: '--max-old-space-size=8096'
 
       - uses: codecov/codecov-action@v3
",True,False,False,True,False,True,False
prisma,Alexey Orlenko,User,alex@aqrln.net,GitHub,User,noreply@github.com,da15e1f13e952a886618c38ff7227f3da5a2e227,77c941941b2568f08661b3ba34c0a2ec9d6efc8a,2022-06-09 18:22:06+02:00,"chore: drop Node.js 12 and modernize the toolchain (#13705)

- Stop testing on Node.js 12, start testing on Node.js 18
  (i.e., test on Node.js 14, 16, and 18).

*Before the changes:*

| Workflow                     | Node.js Version    |
| ---------------------------- | ------------------ |
| Buildkite (Tests):           | 14                 |
| Buildkite (Release):         | 12                 |
| GitHub Actions (Tests):      | 12, 16             |
| GitHub Actions (Other Jobs): | 12                 |

*After the changes:*

| Workflow                     | Node.js Version    |
| ---------------------------- | ------------------ |
| Buildkite (Tests):           | 14                 |
| Buildkite (Release):         | 14                 |
| GitHub Actions (Tests):      | 16, 18             |
| GitHub Actions (Other Jobs): | 16                 |

- Update the example commands in CONTRIBUTING.md:

  - Update the nvm installation command.

  - Update the Node.js installation command to install Node.js 16 since
    the text recommends using Active LTS and Node.js 14 is not Active
    LTS Anymore (it's already Maintenance LTS and on track to becoming
    EOL in 2023).

- Update the VSCode Dev Container to use the current Active LTS, update
  the comments there.

- Prepare to un-pin ts-node in a follow-up PR.
  Update ts-node in `packages/{client,debug}` from 28.0.3 to 28.0.4
  because `ts-node@28.0.3` has a peer dependency on `@types/jest@27`
  and new pnpm now errors on incorrect peer dependency instead of just
  printing a warning.",13,4.0.0,test.yml,MODIFY,8,8,,13705,aqrln,User,MEMBER,aqrln,User,2022-06-08T15:29:14Z,2022-06-09T16:22:07Z,closed,,,,"- Stop testing on Node.js 12, start testing on Node.js 18
  (i.e., test on Node.js 14, 16, and 18).

*Before the changes:*

| Workflow                     | Node.js Version    |
| ---------------------------- | ------------------ |
| Buildkite (Tests):           | 14                 |
| Buildkite (Release):         | 12                 |
| GitHub Actions (Tests):      | 12, 16             |
| GitHub Actions (Other Jobs): | 12                 |

*After the changes:*

| Workflow                     | Node.js Version    |
| ---------------------------- | ------------------ |
| Buildkite (Tests):           | 14                 |
| Buildkite (Release):         | 14                 |
| GitHub Actions (Tests):      | 16, 18             |
| GitHub Actions (Other Jobs): | 16                 |

- Update the example commands in CONTRIBUTING.md:

  - Update the nvm installation command.

  - Update the Node.js installation command to install Node.js 16 since
    the text recommends using Active LTS and Node.js 14 is not Active
    LTS anymore (it's already Maintenance LTS and on track to becoming
    EOL in 2023).

- Update the VSCode Dev Container to use the current Active LTS, update
  the comments there.

- Prepare to un-pin ts-node in a follow-up PR.
  Update ts-node in `packages/{client,debug}` from 28.0.3 to 28.0.4
  because `ts-node@28.0.3` has a peer dependency on `@types/jest@27`
  and new pnpm now errors on incorrect peer dependency instead of just
  printing a warning.

Ref: https://github.com/prisma/client-planning/issues/19",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/da15e1f_test.yml,../Mining/generated/scripts/prisma/files_src_after/da15e1f_test.yml,1.0,1.0,0.0,"@@ -91,7 +91,7 @@ jobs:
       - uses: actions/setup-node@v3
         with:
           cache: 'pnpm'
-          node-version: '12'
+          node-version: '16'
 
       # https://github.com/actions/toolkit/blob/master/docs/commands.md#problem-matchers
       # Matchers are added in setup-node
@@ -125,7 +125,7 @@ jobs:
       matrix:
         queryEngine: ['library', 'binary']
         os: [ubuntu-latest]
-        node: [12, 16]
+        node: [16, 18]
 
     steps:
       - uses: actions/checkout@v3
@@ -192,7 +192,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        node: [12]
+        node: [16]
 
     steps:
       - uses: actions/checkout@v3
@@ -239,7 +239,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
-        node: [12]
+        node: [16]
 
     steps:
       - uses: actions/checkout@v3
@@ -304,7 +304,7 @@ jobs:
       matrix:
         queryEngine: ['library', 'binary']
         os: [ubuntu-latest]
-        node: [12, 16]
+        node: [16, 18]
 
     steps:
       - uses: actions/checkout@v3
@@ -366,7 +366,7 @@ jobs:
       matrix:
         queryEngine: ['library', 'binary']
         os: [ubuntu-latest]
-        node: [12, 16]
+        node: [16, 18]
 
     steps:
       - uses: actions/checkout@v3
@@ -437,7 +437,7 @@ jobs:
       matrix:
         queryEngine: ['library', 'binary']
         os: [ubuntu-latest]
-        node: [12, 16]
+        node: [16, 18]
 
     steps:
       - uses: actions/checkout@v3
@@ -492,7 +492,7 @@ jobs:
       fail-fast: false
       matrix:
         os: [ubuntu-latest]
-        node: [12, 16]
+        node: [16, 18]
 
     steps:
       - uses: actions/checkout@v3
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,e5ff44a53322e72070e9cf37800139afbc600f41,bc432bddf9b05ff1ad93bd4d4b7accd4ddcd6287,2022-06-10 09:58:15+02:00,"ci: try buildjet for ubuntu runners (#13707)

* ci: try buildjet for ubuntu runners

* switch to buildjet-4vcpu-ubuntu-2004

* Update test.yml",1,4.0.0,test.yml,MODIFY,10,10,,13707,Jolg42,User,MEMBER,Jolg42,User,2022-06-08T16:09:34Z,2022-06-10T07:58:16Z,closed,,,,"https://app.buildjet.com/runners

Only runners available are ubuntu, this should speed up our CI here for these as GitHub Actions are queuing/waiting a lot these days.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/e5ff44a_test.yml,../Mining/generated/scripts/prisma/files_src_after/e5ff44a_test.yml,None,None,None,"@@ -50,7 +50,7 @@ env:
 jobs:
   detect_jobs_to_run:
     name: Detect jobs to run
-    runs-on: ubuntu-latest
+    runs-on: buildjet-4vcpu-ubuntu-2004
     outputs:
       jobs: ${{ steps.detect.outputs.jobs }}
     steps:
@@ -69,7 +69,7 @@ jobs:
   # which is a common feature in most CI systems but currently not possible with GitHub actions.
   cleanup-runs:
     continue-on-error: true
-    runs-on: ubuntu-latest
+    runs-on: buildjet-4vcpu-ubuntu-2004
     if: ""!startsWith(github.ref, 'refs/tags/') && github.ref != 'refs/heads/main' && !contains(github.actor, 'renovate')""
     steps:
       - uses: fkirc/skip-duplicate-actions@v4.0.0
@@ -79,7 +79,7 @@ jobs:
   #
   lint:
     timeout-minutes: 7
-    runs-on: ubuntu-latest
+    runs-on: buildjet-4vcpu-ubuntu-2004
 
     steps:
       - uses: actions/checkout@v3
@@ -124,7 +124,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
-        os: [ubuntu-latest]
+        os: [buildjet-4vcpu-ubuntu-2004]
         node: [16, 18]
 
     steps:
@@ -184,7 +184,7 @@ jobs:
   #
   client-types:
     timeout-minutes: 15
-    runs-on: ubuntu-latest
+    runs-on: buildjet-4vcpu-ubuntu-2004
 
     needs: detect_jobs_to_run
     if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
@@ -230,7 +230,7 @@ jobs:
   #
   integration-tests:
     timeout-minutes: 20
-    runs-on: ubuntu-latest
+    runs-on: buildjet-4vcpu-ubuntu-2004
 
     needs: detect_jobs_to_run
     if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-integration-tests-') }}
@@ -303,7 +303,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
-        os: [ubuntu-latest]
+        os: [buildjet-4vcpu-ubuntu-2004]
         node: [16, 18]
 
     steps:
@@ -365,7 +365,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
-        os: [ubuntu-latest]
+        os: [buildjet-4vcpu-ubuntu-2004]
         node: [16, 18]
 
     steps:
@@ -436,7 +436,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
-        os: [ubuntu-latest]
+        os: [buildjet-4vcpu-ubuntu-2004]
         node: [16, 18]
 
     steps:
@@ -491,7 +491,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        os: [ubuntu-latest]
+        os: [buildjet-4vcpu-ubuntu-2004]
         node: [16, 18]
 
     steps:
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,eb9d9c827a34e86dc6155a91d28513248dc167d7,db2032457fdd86e59aa3599b18cb3669ed812955,2022-06-10 16:49:53+02:00,ci: avoid CLI update message (#13747),3,4.0.0,test.yml,MODIFY,2,0,,13747,Jolg42,User,MEMBER,Jolg42,User,2022-06-10T12:58:25Z,2022-06-10T14:49:53Z,closed,,,,"Example
```
    + ┌─────────────────────────────────────────────────────────┐
    + │  Update available 0.0.0 -> 3.15.1                       │
    + │                                                         │
    + │  This is a major update - please follow the guide at    │
    + │  https://pris.ly/d/major-version-upgrade                │
    + │                                                         │
    + │  Run the following to update                            │
    + │    npm i --save-dev prisma@latest                       │
    + │    npm i @prisma/client@latest                          │
    + └─────────────────────────────────────────────────────────┘

```
https://github.com/prisma/prisma/runs/6827262259?check_suite_focus=true#step:8:817",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/eb9d9c8_test.yml,../Mining/generated/scripts/prisma/files_src_after/eb9d9c8_test.yml,None,None,None,"@@ -46,6 +46,8 @@ on:
 env:
   HAS_BUILDPULSE_SECRETS: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID != '' && secrets.BUILDPULSE_SECRET_ACCESS_KEY != '' }}
   PRISMA_TELEMETRY_INFORMATION: 'prisma test.yml'
+  # To hide ""Update available 0.0.0 -> x.x.x""
+  PRISMA_HIDE_UPDATE_MESSAGE: true
 
 jobs:
   detect_jobs_to_run:
",True,False,False,True,False,True,False
prisma,Alberto Schiabel,User,jkomyno@users.noreply.github.com,GitHub,User,noreply@github.com,4154115b44d1ffda0f23518868cfd41c3135159a,7649fa3224bf6b11a585a72342ab72b4ade11227,2022-06-10 15:47:58+00:00,"ci: add dockerhub login to ci (#13753)

* chore: add dockerhub login to ci

* Update .github/workflows/test.yml

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* Update .github/workflows/test.yml

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* Update .github/workflows/test.yml

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* Update .github/workflows/test.yml

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",1,4.0.0,test.yml,MODIFY,24,0,,13753,jkomyno,User,CONTRIBUTOR,jkomyno,User,2022-06-10T15:17:05Z,2022-06-10T15:47:58Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/4154115_test.yml,../Mining/generated/scripts/prisma/files_src_after/4154115_test.yml,None,None,None,"@@ -132,6 +132,12 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
+      - name: Login to Docker Hub
+        uses: docker/login-action@v2
+        with:
+          username: ${{ secrets.DOCKERHUB_USERNAME }}
+          password: ${{ secrets.DOCKERHUB_TOKEN }}
+
       - name: Set CLI Engine Type
         run: |
           echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
@@ -246,6 +252,12 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
+      - name: Login to Docker Hub
+        uses: docker/login-action@v2
+        with:
+          username: ${{ secrets.DOCKERHUB_USERNAME }}
+          password: ${{ secrets.DOCKERHUB_TOKEN }}
+
       - name: Set CLI Engine Type
         run: |
           echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
@@ -311,6 +323,12 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
+      - name: Login to Docker Hub
+        uses: docker/login-action@v2
+        with:
+          username: ${{ secrets.DOCKERHUB_USERNAME }}
+          password: ${{ secrets.DOCKERHUB_TOKEN }}
+
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql
 
       - name: Set CLI Engine Type
@@ -373,6 +391,12 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
+      - name: Login to Docker Hub
+        uses: docker/login-action@v2
+        with:
+          username: ${{ secrets.DOCKERHUB_USERNAME }}
+          password: ${{ secrets.DOCKERHUB_TOKEN }}
+
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongodb_migrate mongodb_migrate_seed cockroachdb
 
       - name: Set CLI Engine Type
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,84c60a8e1de5f5007d266f5c1afaf46ffbdcd309,4154115b44d1ffda0f23518868cfd41c3135159a,2022-06-10 18:33:13+02:00,"ci: reduce macos jobs, combine all tests (#13749)",1,4.0.0,test.yml,MODIFY,23,91,,13749,Jolg42,User,MEMBER,Jolg42,User,2022-06-10T13:16:14Z,2022-06-10T16:33:14Z,closed,,,,"Client test takes ~10min and setup 5min but also means a lot of queuing is happening since the max concurrent macos runners is 5

Example https://github.com/prisma/prisma/runs/6798858585?check_suite_focus=true",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/84c60a8_test.yml,../Mining/generated/scripts/prisma/files_src_after/84c60a8_test.yml,None,None,None,"@@ -581,13 +581,13 @@ jobs:
           name: generator-helper-${{ matrix.os }}
 
   #
-  # Run (almost) all tests on macOS and Windows.
+  # Run all tests on macOS and Windows.
   #
   # Unlike the other jobs, this job doesn't use Docker (and thus skips some
   # tests that require dependencies not easily installable without Docker).
   #
-  # It also runs most tests for different packages sequentially (except client,
-  # see below) to prevent the combinatorial explosion of the number of parallel jobs,
+  # It also runs most tests for different packages sequentially
+  # to prevent the combinatorial explosion of the number of parallel jobs,
   # to minimize the number of times we need to install MySQL using the package manager
   # (PostgreSQL and MongoDB are provided by GitHub Actions out of the box), and
   # minimize the time spent waiting for a free runner.
@@ -602,7 +602,8 @@ jobs:
         contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') ||
         contains(needs.detect_jobs_to_run.outputs.jobs, '-sdk-') ||
         contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') ||
-        contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-')
+        contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-') ||
+        contains(needs.detect_jobs_to_run.outputs.jobs, '-client-')
       }}
 
     strategy:
@@ -663,6 +664,24 @@ jobs:
           flags: sdk,${{ matrix.os }},${{ matrix.queryEngine }}
           name: sdk-${{ matrix.os }}-${{ matrix.queryEngine }}
 
+      - name: Test packages/client
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
+        run: pnpm run test-notypes -- --testTimeout=40000
+        working-directory: packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          NODE_OPTIONS: '--max-old-space-size=8096'
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+
+      - uses: codecov/codecov-action@v3
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
+        with:
+          files: ./packages/client/src/__tests__/coverage/clover.xml
+          flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: client-${{ matrix.os }}-${{ matrix.queryEngine }}
+
       - name: Test packages/migrate
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') }}
         run: pnpm run test -- --testTimeout=40000
@@ -765,90 +784,3 @@ jobs:
         with:
           name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
           path: packages/*/junit.xml
-
-  #
-  # Run Client tests on macOS and Windows. (Reasoning see above)
-  #
-  no-docker-client:
-    timeout-minutes: 40
-    runs-on: ${{ matrix.os }}
-
-    needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-
-    strategy:
-      fail-fast: false
-      matrix:
-        os: [macos-latest, windows-latest]
-        node: [16]
-        queryEngine: ['library', 'binary']
-
-    steps:
-      - uses: actions/checkout@v3
-
-      - name: Prerequisites
-        shell: bash
-        run: |
-          echo ""TEST_SKIP_MSSQL=true"" >> $GITHUB_ENV
-          echo ""TEST_SKIP_MONGODB=true"" >> $GITHUB_ENV
-          echo ""TEST_SKIP_COCKROACHDB=true"" >> $GITHUB_ENV
-          echo ""TEST_MONGO_URI_MIGRATE=mongodb://localhost:27017/tests-migrate"" >> $GITHUB_ENV
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-
-      - name: Set up PostgreSQL
-        run: bash .github/workflows/scripts/setup-postgres.sh
-
-      - name: Set up MySQL
-        run: bash .github/workflows/scripts/setup-mysql.sh
-
-      - uses: pnpm/action-setup@v2.2.2
-        with:
-          version: 6
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - name: Test packages/client
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-        run: pnpm run test-notypes -- --testTimeout=40000
-        working-directory: packages/client
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          NODE_OPTIONS: '--max-old-space-size=8096'
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
-
-      - uses: codecov/codecov-action@v3
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-        with:
-          files: ./packages/client/src/__tests__/coverage/clover.xml
-          flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
-          name: client-${{ matrix.os }}-${{ matrix.queryEngine }}
-
-      - name: Upload test results to BuildPulse for flaky test detection
-        # Only run this step for branches where where we have access to secrets.
-        # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled()
-        uses: Workshop64/buildpulse-action@main
-        with:
-          account: 17219288
-          repository: 192925833
-          path: packages/client
-          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
-          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
-
-      - uses: actions/upload-artifact@v3
-        if: always()
-        with:
-          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
-          path: packages/*/junit.xml
",True,False,False,True,False,True,False
prisma,Daniel Starns,User,danielstarns@hotmail.com,GitHub,User,noreply@github.com,e4fac7181afde86cab9e7b52d75e0101de58ab77,e3d46316450b99f9c34abbc701b67c0475064632,2022-06-13 17:02:11+02:00,fix: skip docker login if no docker secrets are found (#13788),1,4.0.0,test.yml,MODIFY,16,0,,13788,danstarns,User,CONTRIBUTOR,danstarns,User,2022-06-13T14:23:22Z,2022-06-13T15:02:12Z,closed,,,,Closes: https://github.com/prisma/prisma/issues/13775,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/e4fac71_test.yml,../Mining/generated/scripts/prisma/files_src_after/e4fac71_test.yml,None,None,None,"@@ -134,6 +134,10 @@ jobs:
 
       - name: Login to Docker Hub
         uses: docker/login-action@v2
+        env:
+          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
+          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
+        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
         with:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
@@ -254,6 +258,10 @@ jobs:
 
       - name: Login to Docker Hub
         uses: docker/login-action@v2
+        env:
+          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
+          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
+        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
         with:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
@@ -325,6 +333,10 @@ jobs:
 
       - name: Login to Docker Hub
         uses: docker/login-action@v2
+        env:
+          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
+          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
+        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
         with:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
@@ -393,6 +405,10 @@ jobs:
 
       - name: Login to Docker Hub
         uses: docker/login-action@v2
+        env:
+          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
+          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
+        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
         with:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
",True,False,False,True,False,True,False
prisma,Daniel Starns,User,danielstarns@hotmail.com,GitHub,User,noreply@github.com,82938b9bf02fbaa4d26a0fce02eba348bba46a6d,2fdbc2ad2797201cec12cb0b5060756f17dbc745,2022-06-17 12:30:36+02:00,"test(client): add missing sqlserver (#13801)

* test: add missing sqlserver

* test/fix: fail fast on errors

* Revert ""Merge branch 'test/fail-fast' into test/missing-sqlserver""

This reverts commit 0913e4436f68011c4ad3cf4ba64ef63c09a8223a, reversing
changes made to 763dcbb355feefc3f2dd4732aabccda73e63099c.

* fix: changes to support sqlserver

* ci: add missing env

* fix: add missing sql server to test

* test: opt out sqlserver",19,4.0.0,test.yml,MODIFY,1,0,,13801,danstarns,User,CONTRIBUTOR,danstarns,User,2022-06-14T08:28:11Z,2022-06-17T10:30:37Z,closed,,,,Adds missing provider sqlserver to the functional test suite. ,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/82938b9_test.yml,../Mining/generated/scripts/prisma/files_src_after/82938b9_test.yml,None,None,None,"@@ -179,6 +179,7 @@ jobs:
           TEST_MYSQL_ISOLATED_URI: mysql://root:root@localhost:3307/tests
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
           TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
+          TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
           TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
           TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
           TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,27c038fa2b61161fb9164f826f0ef1b574dff445,55ebd5de1c80720f5b23488419bdb562c6ba75d0,2022-06-20 17:03:38+02:00,chore(sdk): rename @prisma/sdk to @prisma/internals part 2 (#13915),171,4.0.0,test.yml,MODIFY,16,16,,13915,Jolg42,User,MEMBER,Jolg42,User,2022-06-20T12:39:49Z,2022-06-20T15:03:39Z,closed,,,,"Part 2 of https://github.com/prisma/prisma/pull/13868

Note: most of it is `File renamed without changes.`",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/27c038f_test.yml,../Mining/generated/scripts/prisma/files_src_after/27c038f_test.yml,None,None,None,"@@ -313,14 +313,14 @@ jobs:
           name: integration-tests-${{ matrix.node }}-${{ matrix.queryEngine }}
 
   #
-  # SDK
+  # `@prisma/internals`
   #
-  sdk:
+  internals:
     timeout-minutes: 15
     runs-on: ${{ matrix.os }}
 
     needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-sdk-') }}
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-internals-') }}
 
     strategy:
       fail-fast: false
@@ -368,7 +368,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - run: pnpm run test
-        working-directory: packages/sdk
+        working-directory: packages/internals
         env:
           CI: true
           SKIP_GIT: true
@@ -380,9 +380,9 @@ jobs:
 
       - uses: codecov/codecov-action@v3
         with:
-          files: ./packages/sdk/src/__tests__/coverage/clover.xml
-          flags: sdk,${{ matrix.os }},${{ matrix.queryEngine }}
-          name: sdk-${{ matrix.os }}-${{ matrix.queryEngine }}
+          files: ./packages/internals/src/__tests__/coverage/clover.xml
+          flags: internals,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: internals-${{ matrix.os }}-${{ matrix.queryEngine }}
 
   #
   # MIGRATE
@@ -617,7 +617,7 @@ jobs:
     if: |
       ${{
         contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') ||
-        contains(needs.detect_jobs_to_run.outputs.jobs, '-sdk-') ||
+        contains(needs.detect_jobs_to_run.outputs.jobs, '-internals-') ||
         contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') ||
         contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-') ||
         contains(needs.detect_jobs_to_run.outputs.jobs, '-client-')
@@ -664,22 +664,22 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - name: Test packages/sdk
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }} || contains(needs.detect_jobs_to_run.outputs.jobs, '-sdk-') }}
+      - name: Test packages/internals
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }} || contains(needs.detect_jobs_to_run.outputs.jobs, '-internals-') }}
         run: pnpm run test -- --testTimeout=40000
-        working-directory: packages/sdk
+        working-directory: packages/internals
         env:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/sdk/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/internals/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
       - uses: codecov/codecov-action@v3
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }} || contains(needs.detect_jobs_to_run.outputs.jobs, '-sdk-') }}
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }} || contains(needs.detect_jobs_to_run.outputs.jobs, '-internals-') }}
         with:
-          files: ./packages/sdk/src/__tests__/coverage/clover.xml
-          flags: sdk,${{ matrix.os }},${{ matrix.queryEngine }}
-          name: sdk-${{ matrix.os }}-${{ matrix.queryEngine }}
+          files: ./packages/internals/src/__tests__/coverage/clover.xml
+          flags: internals,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: internals-${{ matrix.os }}-${{ matrix.queryEngine }}
 
       - name: Test packages/client
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
",True,False,False,True,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,24c072b3d462bdeb12d49fdeb908953a3a94a91d,0fe36d907d6853607e6e0999472400f8e2e37d93,2022-07-01 14:12:40+02:00,"chore: bring `engines-wrapper` packages back & pnpm 7 (#13769)

* bring engine-wrapper packages back

* set jest maxWorkers for CI

* fix engine postinstall script in monorepo

* disable dmmfTypes tests, it cannot be typechecked

* use swc jest in all projects

* update snaps

* update locks

* remove ts-node/register from cli tests

* add jest as a depdency to engines

* update engine version snapshot logic

* add swc/jest to work in more places

* add test todo in engines

* set --unsafe-perm for builkite to run postinstall

* upgrade to pnpm@7

* bump engines to latest

* remove exclusion out of tsconfig

* cahnges to adapt to pnpm@7

* changes to adapt to pnpm@7

* add missing pnpm@7 for buildkite

* add typesxcrupt to dependencies for esm test

* cahnges to adapt to pnpm@7

* changes to adapt to pnpm@7

* skip high concurrency itx for sqlite

* remove yarn pack to alleviate memory and speed

* attempt to make copy sync

* exclude node_modules from swc jest

* try to only transpile what is necessary

* try to bump nodejs to 18

* fix forceTraspile to work with jest logic

* apply review

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* skip memory-heavy tests on windows

* run tests on node 14 for windows/mac

* Apply suggestions from code review

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* update readmes

* update update-engines-version.yml

* re-enabled skipped tests

* adapt data version resolution

* adapt publish script

* make execa a dependency of engines

* revert compiling es2020 to es2018

* move execa to happen in monorepo only in engine postinstall

* add a line break

* update locks

* Apply suggestions from code review

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* update engine.getDatabaseDescription(schema) snapshot

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",111,4.1.0,benchmark.yml,MODIFY,1,1,,13769,millsp,User,MEMBER,Jolg42,User,2022-06-12T14:06:01Z,2022-07-01T12:12:41Z,closed,,Jolg42,User," With this PR, we are bringing the [engine download logic packages](https://github.com/prisma/engines-wrapper/) back into the monorepo. This move will improve maintainability and consistency across packages. In this PR, we can already see the benefit of that. It enabled tree-shaking and the runtime size dropped from `2.6MB` to `1MB`. As a bonus, I am enabling `@swc/jest` with bundling, which means that we can now update all our outdated `cjs` deps to `esm`. We might also need to upgrade to `pnpm@7` because of [a bug in replacing](https://github.com/pnpm/pnpm/pull/4627) `workspace:*` on publish (to be tested via `integration`).

-----

I had to downgrade Windows tests to run on Node 14. The memory leaks are [too high on Node 16+](https://github.com/prisma/prisma/runs/7028259912?check_suite_focus=true). The extra memory leaks are caused by `@swc/jest`, which pushed it just over the tipping point on Windows. I think it will only be a matter of time before we start seeing memory issues on Linux too (as we add more and more tests), and it might make sense to plan work on the solution found in https://www.notion.so/prismaio/Memory-leaks-in-Jest-954dab67a40a465aa9418b5011254d64. I believe the priority of getting ESM upgrades is higher than testing windows on Node 16 (given that we also support Node 14).

-----

🟢 [ecosystem-tests](https://github.com/prisma/ecosystem-tests/actions/runs/2583417690)",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/24c072b_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/24c072b_benchmark.yml,0.3001567398119122,0.8126959247648903,0.9012539184952978,"@@ -33,7 +33,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.2
         with:
-          version: 6
+          version: 7
 
       - uses: actions/setup-node@v3
         with:
",True,False,False,False,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,24c072b3d462bdeb12d49fdeb908953a3a94a91d,0fe36d907d6853607e6e0999472400f8e2e37d93,2022-07-01 14:12:40+02:00,"chore: bring `engines-wrapper` packages back & pnpm 7 (#13769)

* bring engine-wrapper packages back

* set jest maxWorkers for CI

* fix engine postinstall script in monorepo

* disable dmmfTypes tests, it cannot be typechecked

* use swc jest in all projects

* update snaps

* update locks

* remove ts-node/register from cli tests

* add jest as a depdency to engines

* update engine version snapshot logic

* add swc/jest to work in more places

* add test todo in engines

* set --unsafe-perm for builkite to run postinstall

* upgrade to pnpm@7

* bump engines to latest

* remove exclusion out of tsconfig

* cahnges to adapt to pnpm@7

* changes to adapt to pnpm@7

* add missing pnpm@7 for buildkite

* add typesxcrupt to dependencies for esm test

* cahnges to adapt to pnpm@7

* changes to adapt to pnpm@7

* skip high concurrency itx for sqlite

* remove yarn pack to alleviate memory and speed

* attempt to make copy sync

* exclude node_modules from swc jest

* try to only transpile what is necessary

* try to bump nodejs to 18

* fix forceTraspile to work with jest logic

* apply review

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* skip memory-heavy tests on windows

* run tests on node 14 for windows/mac

* Apply suggestions from code review

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* update readmes

* update update-engines-version.yml

* re-enabled skipped tests

* adapt data version resolution

* adapt publish script

* make execa a dependency of engines

* revert compiling es2020 to es2018

* move execa to happen in monorepo only in engine postinstall

* add a line break

* update locks

* Apply suggestions from code review

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* update engine.getDatabaseDescription(schema) snapshot

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",111,4.1.0,test.yml,MODIFY,14,14,,13769,millsp,User,MEMBER,Jolg42,User,2022-06-12T14:06:01Z,2022-07-01T12:12:41Z,closed,,Jolg42,User," With this PR, we are bringing the [engine download logic packages](https://github.com/prisma/engines-wrapper/) back into the monorepo. This move will improve maintainability and consistency across packages. In this PR, we can already see the benefit of that. It enabled tree-shaking and the runtime size dropped from `2.6MB` to `1MB`. As a bonus, I am enabling `@swc/jest` with bundling, which means that we can now update all our outdated `cjs` deps to `esm`. We might also need to upgrade to `pnpm@7` because of [a bug in replacing](https://github.com/pnpm/pnpm/pull/4627) `workspace:*` on publish (to be tested via `integration`).

-----

I had to downgrade Windows tests to run on Node 14. The memory leaks are [too high on Node 16+](https://github.com/prisma/prisma/runs/7028259912?check_suite_focus=true). The extra memory leaks are caused by `@swc/jest`, which pushed it just over the tipping point on Windows. I think it will only be a matter of time before we start seeing memory issues on Linux too (as we add more and more tests), and it might make sense to plan work on the solution found in https://www.notion.so/prismaio/Memory-leaks-in-Jest-954dab67a40a465aa9418b5011254d64. I believe the priority of getting ESM upgrades is higher than testing windows on Node 16 (given that we also support Node 14).

-----

🟢 [ecosystem-tests](https://github.com/prisma/ecosystem-tests/actions/runs/2583417690)",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/24c072b_test.yml,../Mining/generated/scripts/prisma/files_src_after/24c072b_test.yml,0.3001567398119122,0.8126959247648903,0.9012539184952978,"@@ -88,7 +88,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.2
         with:
-          version: 6
+          version: 7
 
       - uses: actions/setup-node@v3
         with:
@@ -154,7 +154,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.2
         with:
-          version: 6
+          version: 7
 
       - uses: actions/setup-node@v3
         with:
@@ -212,7 +212,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.2
         with:
-          version: 6
+          version: 7
 
       - uses: actions/setup-node@v3
         with:
@@ -279,7 +279,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.2
         with:
-          version: 6
+          version: 7
 
       - uses: actions/setup-node@v3
         with:
@@ -354,7 +354,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.2
         with:
-          version: 6
+          version: 7
 
       - uses: actions/setup-node@v3
         with:
@@ -426,7 +426,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.2
         with:
-          version: 6
+          version: 7
 
       - uses: actions/setup-node@v3
         with:
@@ -495,7 +495,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.2
         with:
-          version: 6
+          version: 7
 
       - uses: actions/setup-node@v3
         with:
@@ -542,7 +542,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.2
         with:
-          version: 6
+          version: 7
 
       - uses: actions/setup-node@v3
         with:
@@ -627,7 +627,7 @@ jobs:
       fail-fast: false
       matrix:
         os: [macos-latest, windows-latest]
-        node: [16]
+        node: [14]
         queryEngine: ['library', 'binary']
 
     steps:
@@ -651,7 +651,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.2
         with:
-          version: 6
+          version: 7
 
       - uses: actions/setup-node@v3
         with:
@@ -666,7 +666,7 @@ jobs:
 
       - name: Test packages/internals
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }} || contains(needs.detect_jobs_to_run.outputs.jobs, '-internals-') }}
-        run: pnpm run test -- --testTimeout=40000
+        run: pnpm run test --testTimeout=40000
         working-directory: packages/internals
         env:
           CI: true
@@ -683,7 +683,7 @@ jobs:
 
       - name: Test packages/client
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-        run: pnpm run test-notypes -- --testTimeout=40000
+        run: pnpm run test-notypes --testTimeout=40000
         working-directory: packages/client
         env:
           CI: true
@@ -701,7 +701,7 @@ jobs:
 
       - name: Test packages/migrate
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') }}
-        run: pnpm run test -- --testTimeout=40000
+        run: pnpm run test --testTimeout=40000
         working-directory: packages/migrate
         env:
           CI: true
@@ -718,7 +718,7 @@ jobs:
 
       - name: Test packages/cli
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-') }}
-        run: pnpm run test -- --testTimeout=40000
+        run: pnpm run test --testTimeout=40000
         working-directory: packages/cli
         env:
           CI: true
",True,False,False,True,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,24c072b3d462bdeb12d49fdeb908953a3a94a91d,0fe36d907d6853607e6e0999472400f8e2e37d93,2022-07-01 14:12:40+02:00,"chore: bring `engines-wrapper` packages back & pnpm 7 (#13769)

* bring engine-wrapper packages back

* set jest maxWorkers for CI

* fix engine postinstall script in monorepo

* disable dmmfTypes tests, it cannot be typechecked

* use swc jest in all projects

* update snaps

* update locks

* remove ts-node/register from cli tests

* add jest as a depdency to engines

* update engine version snapshot logic

* add swc/jest to work in more places

* add test todo in engines

* set --unsafe-perm for builkite to run postinstall

* upgrade to pnpm@7

* bump engines to latest

* remove exclusion out of tsconfig

* cahnges to adapt to pnpm@7

* changes to adapt to pnpm@7

* add missing pnpm@7 for buildkite

* add typesxcrupt to dependencies for esm test

* cahnges to adapt to pnpm@7

* changes to adapt to pnpm@7

* skip high concurrency itx for sqlite

* remove yarn pack to alleviate memory and speed

* attempt to make copy sync

* exclude node_modules from swc jest

* try to only transpile what is necessary

* try to bump nodejs to 18

* fix forceTraspile to work with jest logic

* apply review

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* skip memory-heavy tests on windows

* run tests on node 14 for windows/mac

* Apply suggestions from code review

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* update readmes

* update update-engines-version.yml

* re-enabled skipped tests

* adapt data version resolution

* adapt publish script

* make execa a dependency of engines

* revert compiling es2020 to es2018

* move execa to happen in monorepo only in engine postinstall

* add a line break

* update locks

* Apply suggestions from code review

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* update engine.getDatabaseDescription(schema) snapshot

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",111,4.1.0,update-engines-version.yml,MODIFY,4,10,,13769,millsp,User,MEMBER,Jolg42,User,2022-06-12T14:06:01Z,2022-07-01T12:12:41Z,closed,,Jolg42,User," With this PR, we are bringing the [engine download logic packages](https://github.com/prisma/engines-wrapper/) back into the monorepo. This move will improve maintainability and consistency across packages. In this PR, we can already see the benefit of that. It enabled tree-shaking and the runtime size dropped from `2.6MB` to `1MB`. As a bonus, I am enabling `@swc/jest` with bundling, which means that we can now update all our outdated `cjs` deps to `esm`. We might also need to upgrade to `pnpm@7` because of [a bug in replacing](https://github.com/pnpm/pnpm/pull/4627) `workspace:*` on publish (to be tested via `integration`).

-----

I had to downgrade Windows tests to run on Node 14. The memory leaks are [too high on Node 16+](https://github.com/prisma/prisma/runs/7028259912?check_suite_focus=true). The extra memory leaks are caused by `@swc/jest`, which pushed it just over the tipping point on Windows. I think it will only be a matter of time before we start seeing memory issues on Linux too (as we add more and more tests), and it might make sense to plan work on the solution found in https://www.notion.so/prismaio/Memory-leaks-in-Jest-954dab67a40a465aa9418b5011254d64. I believe the priority of getting ESM upgrades is higher than testing windows on Node 16 (given that we also support Node 14).

-----

🟢 [ecosystem-tests](https://github.com/prisma/ecosystem-tests/actions/runs/2583417690)",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/24c072b_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/24c072b_update-engines-version.yml,0.3001567398119122,0.8126959247648903,0.9012539184952978,"@@ -21,7 +21,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.2
         with:
-          version: 6
+          version: 7
 
       - uses: actions/setup-node@v3
         with:
@@ -31,11 +31,8 @@ jobs:
       # This step uses `@prisma/ensure-npm-release` (abbv. `enr`) https://github.com/prisma/ensure-npm-release
       - name: Check if version is available on npm
         run: |
-          echo 'Checking that all packages [@prisma/engines, @prisma/engines-version, @prisma/fetch-engine, @prisma/get-platform] have the published version @${{ github.event.inputs.version }}'
-          pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/engines -u ${{ github.event.inputs.version }}
+          echo 'Checking that all packages [@prisma/engines-version] have the published version @${{ github.event.inputs.version }}'
           pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/engines-version -u ${{ github.event.inputs.version }}
-          pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/fetch-engine -u ${{ github.event.inputs.version }}
-          pnpx -y -p @prisma/ensure-npm-release enr update -p @prisma/get-platform -u ${{ github.event.inputs.version }}
           echo 'Awesome - proceeding to update the dependencies'
 
       - name: Update the engines dependencies
@@ -44,8 +41,8 @@ jobs:
           timeout_minutes: 7
           max_attempts: 3
           command: |
-            echo 'Updating @prisma/engines, @prisma/engines-version, @prisma/fetch-engine and @prisma/get-platform to ${{ github.event.inputs.version }} using pnpm'
-            pnpm update -r @prisma/engines@${{ github.event.inputs.version }} @prisma/engines-version@${{ github.event.inputs.version }} @prisma/fetch-engine@${{ github.event.inputs.version }} @prisma/get-platform@${{ github.event.inputs.version }}
+            echo 'Updating @prisma/engines-version to ${{ github.event.inputs.version }} using pnpm'
+            pnpm update -r @prisma/engines-version@${{ github.event.inputs.version }}
             echo 'Awesome - proceeding to make the PR'
 
       - name: Extract Engine Commit hash from version
@@ -73,10 +70,7 @@ jobs:
             ## Packages
             | Package | NPM URL |
             |---------|---------|
-            |`@prisma/engines`| https://npmjs.com/package/@prisma/engines/v/${{ github.event.inputs.version }}|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
-            |`@prisma/fetch-engine`| https://npmjs.com/package/@prisma/fetch-engine/v/${{ github.event.inputs.version }}|
-            |`@prisma/get-platform`| https://npmjs.com/package/@prisma/get-platform/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
 
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,24c072b3d462bdeb12d49fdeb908953a3a94a91d,0fe36d907d6853607e6e0999472400f8e2e37d93,2022-07-01 14:12:40+02:00,"chore: bring `engines-wrapper` packages back & pnpm 7 (#13769)

* bring engine-wrapper packages back

* set jest maxWorkers for CI

* fix engine postinstall script in monorepo

* disable dmmfTypes tests, it cannot be typechecked

* use swc jest in all projects

* update snaps

* update locks

* remove ts-node/register from cli tests

* add jest as a depdency to engines

* update engine version snapshot logic

* add swc/jest to work in more places

* add test todo in engines

* set --unsafe-perm for builkite to run postinstall

* upgrade to pnpm@7

* bump engines to latest

* remove exclusion out of tsconfig

* cahnges to adapt to pnpm@7

* changes to adapt to pnpm@7

* add missing pnpm@7 for buildkite

* add typesxcrupt to dependencies for esm test

* cahnges to adapt to pnpm@7

* changes to adapt to pnpm@7

* skip high concurrency itx for sqlite

* remove yarn pack to alleviate memory and speed

* attempt to make copy sync

* exclude node_modules from swc jest

* try to only transpile what is necessary

* try to bump nodejs to 18

* fix forceTraspile to work with jest logic

* apply review

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* skip memory-heavy tests on windows

* run tests on node 14 for windows/mac

* Apply suggestions from code review

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* update readmes

* update update-engines-version.yml

* re-enabled skipped tests

* adapt data version resolution

* adapt publish script

* make execa a dependency of engines

* revert compiling es2020 to es2018

* move execa to happen in monorepo only in engine postinstall

* add a line break

* update locks

* Apply suggestions from code review

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* update engine.getDatabaseDescription(schema) snapshot

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",111,4.1.0,update-studio-version.yml,MODIFY,2,2,,13769,millsp,User,MEMBER,Jolg42,User,2022-06-12T14:06:01Z,2022-07-01T12:12:41Z,closed,,Jolg42,User," With this PR, we are bringing the [engine download logic packages](https://github.com/prisma/engines-wrapper/) back into the monorepo. This move will improve maintainability and consistency across packages. In this PR, we can already see the benefit of that. It enabled tree-shaking and the runtime size dropped from `2.6MB` to `1MB`. As a bonus, I am enabling `@swc/jest` with bundling, which means that we can now update all our outdated `cjs` deps to `esm`. We might also need to upgrade to `pnpm@7` because of [a bug in replacing](https://github.com/pnpm/pnpm/pull/4627) `workspace:*` on publish (to be tested via `integration`).

-----

I had to downgrade Windows tests to run on Node 14. The memory leaks are [too high on Node 16+](https://github.com/prisma/prisma/runs/7028259912?check_suite_focus=true). The extra memory leaks are caused by `@swc/jest`, which pushed it just over the tipping point on Windows. I think it will only be a matter of time before we start seeing memory issues on Linux too (as we add more and more tests), and it might make sense to plan work on the solution found in https://www.notion.so/prismaio/Memory-leaks-in-Jest-954dab67a40a465aa9418b5011254d64. I believe the priority of getting ESM upgrades is higher than testing windows on Node 16 (given that we also support Node 14).

-----

🟢 [ecosystem-tests](https://github.com/prisma/ecosystem-tests/actions/runs/2583417690)",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/24c072b_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/24c072b_update-studio-version.yml,0.3001567398119122,0.8126959247648903,0.9012539184952978,"@@ -15,7 +15,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.2
         with:
-          version: 6
+          version: 7
 
       - uses: actions/setup-node@v3
         with:
@@ -35,7 +35,7 @@ jobs:
           echo 'Updating @prisma/studio, @prisma/studio-server to ${{ github.event.inputs.version }} using pnpm'
           pnpm update -r @prisma/studio@${{ github.event.inputs.version }} @prisma/studio-server@${{ github.event.inputs.version }}
           echo 'Awesome - proceeding to make the PR'
-            
+
       - name: Create Pull Request
         id: cpr
         uses: peter-evans/create-pull-request@v4
",True,False,False,False,False,True,True
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,82153e0c0fc9a786bea23fe5af80213786ee8c75,53af01b2370c2b9506519ac4e294889c12f59b3c,2022-07-05 11:14:26+02:00,"test(client): fix db isolation and run tests in parallel (#14081)

* test: Fix db isolation and run tests in parallel

- Introduce separate set of env variables for functional tests DBs
urls. During test execution, `PRISMA_DB_NAME` substring in those URLs
will be replaced with unique name.
- Workaround for jest BigInt serialization issues

Fix #13186

Co-authored-by: Alexey Orlenko <alex@aqrln.net>",12,4.1.0,test.yml,MODIFY,5,0,,14081,SevInf,User,CONTRIBUTOR,SevInf,User,2022-06-30T17:11:28Z,2022-07-05T09:14:27Z,closed,,,,"- Introduce separate set of env variables for functional tests DBs
urls. During test execution, `PRISMA_DB_NAME` substring in those URLs
will be replaced with unique name.
- Workaround for iTx performance issues with library engine
- Workaround for jest BigInt serialization issues

Fix #13186",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/82153e0_test.yml,../Mining/generated/scripts/prisma/files_src_after/82153e0_test.yml,1.0,1.0,1.0,"@@ -184,6 +184,11 @@ jobs:
           TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
           TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
           TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
+          TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
+          TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
+          TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+          TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
+          TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
           NODE_OPTIONS: '--max-old-space-size=8096'
 
       - uses: codecov/codecov-action@v3
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,9a3435d53f4b9933659671d7315d4ad108c0e6bb,3c9a979c83bb31fc2a7c1c9515b622cf0267c683,2022-07-06 16:02:53+02:00,"ci: test fetch-engine & get-platform & engines packages (#14121)

* ci: test fetch-engine & get-platform & engines packages

Looks like we missed that during review of https://github.com/prisma/prisma/pull/13769

Closes https://github.com/prisma/engines-wrapper/issues/141

* update FIXED_BINARIES_HASH

* update snapshots

* describeIf for node-api test

* simple describeIf

* debug windows test failure

* path.posix.join

* add mxschmitt/action-tmate@v3

* fix beforeEach del for windows

* merge/remove node-api test + rename

* code suggestion",6,4.1.0,test.yml,MODIFY,93,0,,14121,Jolg42,User,MEMBER,Jolg42,User,2022-07-04T08:10:16Z,2022-07-06T14:02:53Z,closed,,,,"Looks like we missed that during review of https://github.com/prisma/prisma/pull/13769

Closes https://github.com/prisma/engines-wrapper/issues/141",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/9a3435d_test.yml,../Mining/generated/scripts/prisma/files_src_after/9a3435d_test.yml,0.0,1.0,1.0,"@@ -602,6 +602,48 @@ jobs:
           flags: generator-helper,${{ matrix.os }},library,binary
           name: generator-helper-${{ matrix.os }}
 
+      - run: pnpm run test
+        name: 'get-platform'
+        working-directory: packages/get-platform
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/get-platform/src/__tests__/coverage/clover.xml
+          flags: get-platform,${{ matrix.os }},library,binary
+          name: get-platform-${{ matrix.os }}
+
+      - run: pnpm run test
+        name: 'fetch-engine'
+        working-directory: packages/fetch-engine
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/fetch-engine/src/__tests__/coverage/clover.xml
+          flags: fetch-engine,${{ matrix.os }},library,binary
+          name: fetch-engine-${{ matrix.os }}
+
+      - run: pnpm run test
+        name: 'engines'
+        working-directory: packages/engines
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/engines/src/__tests__/coverage/clover.xml
+          flags: engines,${{ matrix.os }},library,binary
+          name: engines-${{ matrix.os }}
+
   #
   # Run all tests on macOS and Windows.
   #
@@ -789,6 +831,57 @@ jobs:
           flags: generator-helper,${{ matrix.os }},library,binary
           name: generator-helper-${{ matrix.os }}
 
+      - name: Test packages/get-platform
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
+        run: pnpm run test
+        working-directory: packages/get-platform
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/get-platform/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+
+      - uses: codecov/codecov-action@v3
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
+        with:
+          files: ./packages/get-platform/src/__tests__/coverage/clover.xml
+          flags: get-platform,${{ matrix.os }},library,binary
+          name: get-platform-${{ matrix.os }}
+
+      - name: Test packages/fetch-engine
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
+        run: pnpm run test
+        working-directory: packages/fetch-engine
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/fetch-engine/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+
+      - uses: codecov/codecov-action@v3
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
+        with:
+          files: ./packages/fetch-engine/src/__tests__/coverage/clover.xml
+          flags: fetch-engine,${{ matrix.os }},library,binary
+          name: fetch-engine-${{ matrix.os }}
+
+      - name: Test packages/engines
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
+        run: pnpm run test
+        working-directory: packages/engines
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/engines/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+
+      - uses: codecov/codecov-action@v3
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
+        with:
+          files: ./packages/engines/src/__tests__/coverage/clover.xml
+          flags: engines,${{ matrix.os }},library,binary
+          name: engines-${{ matrix.os }}
+
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
",True,False,False,True,False,True,False
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,135d7692b9601f18ba265d3cfb4e32b306e9c71a,8d99655c91253828e8cbf58b98051e4afda12887,2022-07-08 18:40:27+02:00,"chore: Fix benchmark file path, run benchmark on PRs (#14220)

Run benchmark on PR, but skip publishing and notifications",2,4.1.0,benchmark.yml,MODIFY,16,3,,14220,SevInf,User,CONTRIBUTOR,SevInf,User,2022-07-08T15:19:32Z,2022-07-08T16:40:27Z,closed,,,,"Run benchmark on PR, but skip publishing and notifications",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/135d769_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/135d769_benchmark.yml,None,None,None,"@@ -1,5 +1,4 @@
 name: Benchmark
-# Run on push only for main, if not it will trigger push & pull_request on PRs at the same time
 on:
   push:
     branches:
@@ -20,6 +19,19 @@ on:
       - '.dockerignore'
       - 'scripts/ci/publish.ts'
       - 'graphs/**'
+  pull_request:
+    paths-ignore:
+      - '*.md'
+      - '.devcontainer/**'
+      - '.vscode/**'
+      - 'docs/**'
+      - 'examples/**'
+      - 'LICENSE'
+      - '.github/CODEOWNERS'
+      - 'src/.buildkite/**'
+      - '.dockerignore'
+      - 'scripts/ci/publish.ts'
+      - 'graphs/**'
 
 env:
   PRISMA_TELEMETRY_INFORMATION: 'prisma benchmark.yml'
@@ -53,6 +65,7 @@ jobs:
         run: pnpm run bench
 
       - name: Store benchmark result
+        if: ${{ github.ref == 'refs/heads/main' }}
         uses: rhysd/github-action-benchmark@v1
         with:
           name: Benchmark.js Benchmark
@@ -68,11 +81,11 @@ jobs:
           alert-comment-cc-users: '@Jolg42,@millsp,@aqrln,@SevInf,@danstarns,@jkomyno'
 
       - name: 'Set current job url in SLACK_FOOTER env var'
-        if: ${{ failure() }}
+        if: ${{ failure() && github.ref == 'refs/heads/main' }}
         run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
 
       - name: Slack Notification on Failure
-        if: ${{ failure() }}
+        if: ${{ failure() && github.ref == 'refs/heads/main' }}
         uses: rtCamp/action-slack-notify@v2.2.0
         env:
           SLACK_TITLE: 'Benchmark failed :x:'
",True,False,False,False,False,True,False
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,4684be77fa6419e780db7a74c804dc646e2ed41e,215a124f4d4b2f4cc3a5f3877a24a0a876eb2828,2022-07-14 15:12:10+02:00,"test: Enable functional tests on mac and windows (#14281)

Enables functional tests on mac and windows and fixes few discrepances
between them and Windows CI.

- MySQL has different `lowercase_table_names` settings on different
  platforms which some times shows up in error message, when print DB
  error verbatim. Easiest way to work around it is forcing linux to convert
  table names to lowercase.

- `swc` sometimes produces incorrect source maps. In our case, that
  happens only on Windows. Fixed by temprary switching `ts-jest` on
  Windows only.

- Some iTx tests produce different error message depending on timing,
  which didn't really show up before. Fixed by adjusting the tests to
  assert only on consistent porition of those messages.",11,4.1.0,test.yml,MODIFY,1,1,,14281,SevInf,User,CONTRIBUTOR,SevInf,User,2022-07-13T08:55:19Z,2022-07-14T13:12:11Z,closed,,,,"Enables functional tests on mac and windows and fixes few discrepances
between them and Windows CI.

- MySQL has different `lowercase_table_names` settings on different
  platforms which some times shows up in error message, when print DB
  error verbatim. Easiest way to work around it is forcing linux to convert
  table names to lowercase.

- `swc` sometimes produces incorrect source maps. In our case, that
  happens only on Windows. Fixed by temprary switching `ts-jest` on
  Windows only.

- Some iTx tests produce different error message depending on timing,
  which didn't really show up before. Fixed by adjusting the tests to
  assert only on consistent porition of those messages.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/4684be7_test.yml,../Mining/generated/scripts/prisma/files_src_after/4684be7_test.yml,0.0,0.3076923076923077,1.0,"@@ -730,7 +730,7 @@ jobs:
 
       - name: Test packages/client
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-        run: pnpm run test-notypes --testTimeout=40000
+        run: pnpm run test:functional:code && pnpm run test-notypes --testTimeout=40000
         working-directory: packages/client
         env:
           CI: true
",True,False,False,True,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,e4ba03021047f6a1807316409aeba0a17b7acaab,0c573b399cdfa55df4ef45566bdf15ae073d26d6,2022-07-15 14:36:28+01:00,"feat(client): Consolidating Tracing (#13980)

* simplify otel context propagation logic

* basic tracing setup

* test: add create coverage to otel

* feat: add model name and method to root span

* feat: add otel to ITX

* rough itx fixes

* test: updates based on itx

* feat: pass header str in json to binary

* fix: pass trace thru on lib transaction

* binary itx

* feat: add groundwork for @prisma/instrumentation

* rename tracing names

* test: updates add crud coverage for tracing

* refactor: remove tracing ts-ignore, move funcs to correct pkgs, more testing.

* revert: non relevant changes

* fix: only pass --enable-open-telemetry if its set

* test: skip tracing tests untill tracing engines are merged

* fix: add bundledPackages back

* fix: await _tracedRequest to set clientVersion

* fix: await consumer to set clientVersion

* fix: add back AsyncResource for async-hooks

* fix: type error

* feat: add middleware tracing

* pkg: updates to lock

* test: remove skip

* test: add log buffer

* test: add afterall for disconnect client

* test: add tracing coverage for SQL based providers

* test: mongo tracing

* feat: add transactionTracer for proper nesting ITX.

* test: fix add itx flag

* test: skip mongo untill merged

* ci: try fix publish

* ci: revert publish.ts change and add pkg.json files

* add readme warning and keywords

* refactor: delete npmrc

* refactor: remove random ts-ignore

* fix: add interactiveTransactions preview flag back

* ci: refactor instrumentation to use others section

* package: lock problems

* test: updates for mongo tracing and itx changes

* refactor: make sure we pickup on panics in logs

* refactor: tree shake pkg and remove eslint

* refactor: remove optional flag

* refactor: have a strict type for trace headers

* *: throw when tracing on data proxy

Co-authored-by: garren smith <garren.smith@gmail.com>
Co-authored-by: daniel starns <danielstarns@hotmail.com>
Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",43,4.1.0,test.yml,MODIFY,14,0,,13980,millsp,User,MEMBER,danstarns,User,2022-06-23T15:42:20Z,2022-07-15T13:36:28Z,closed,,,,"With this PR, we are simplifying the otel context propagation logic. A few versions ago, otel contexts did not propagate through thenables, and thus `PrismaPromise`s. This is not the case anymore, so the overall logic can be relaxed as the context does not need to be passed end-to-end.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/e4ba030_test.yml,../Mining/generated/scripts/prisma/files_src_after/e4ba030_test.yml,0.280672268907563,0.47394957983193275,1.0,"@@ -644,6 +644,20 @@ jobs:
           flags: engines,${{ matrix.os }},library,binary
           name: engines-${{ matrix.os }}
 
+      - run: pnpm run test
+        name: 'instrumentation'
+        working-directory: packages/instrumentation
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/instrumentation/src/__tests__/coverage/clover.xml
+          flags: instrumentation,${{ matrix.os }},library,binary
+          name: instrumentation-${{ matrix.os }}
+
   #
   # Run all tests on macOS and Windows.
   #
",True,False,False,True,False,True,False
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,3398d4f9241bc4a0b25201eb3e81b877346d82a1,ffe679a6ddd5b2412b2c8388a9be293fc50017b6,2022-08-17 10:36:57+02:00,"test: Introduce memory tests (#14693)

Separate test suite, not using jest.
Each test is launched in a child process to avoid polluting the heap
by test setup code itself as much as possible. It runs provdied scenario
for specified amounts of iterations, forcing garbage collection and measuring
heap usage in the process. After child process is finsihed, main process then
determines if there was a memory leak or not:

- First, it fits gathered data into a straight line. This step is very
  useful for filtering out the outliers/occasional spikes.
- From the fitted line, it looks at the slope and compares it with the
  threshold. If the slope is above the threshold, memory leak is
  reported.

It also plots a graph of memory usage over time to help with debugging.

Fix #14298",29,4.3.0,test.yml,MODIFY,95,0,,14693,SevInf,User,CONTRIBUTOR,SevInf,User,2022-08-08T09:48:09Z,2022-08-17T08:36:58Z,closed,,,,"Separate test suite, not using jest.
Each test is launched in a child process to avoid polluting the heap
by test setup code itself as much as possible. It runs provdied scenario
for specified amounts of iterations, forcing garbage collection and measuring
heap usage in the process. After child process is finsihed, main process then
determines if there was a memory leak or not:

- First, it fits gathered data into a straight line. This step is very
  useful for filtering out the outliers/occasional spikes.
- From the fitted line, it looks at the slope and compares it with the
  threshold. If the slope is above the threshold, memory leak is
  reported.

It also plots a graph of memory usage over time to help with debugging.

TODO:

- [x] fix ci
- [x] binary engine is leaking (skipping tests for binary engine for now, will fix in separate issue)
- [x] docs

Fix #14298",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/3398d4f_test.yml,../Mining/generated/scripts/prisma/files_src_after/3398d4f_test.yml,0.8057142857142857,1.0,0.9028571428571428,"@@ -196,6 +196,101 @@ jobs:
           files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
           name: client-${{ matrix.os }}-${{ matrix.queryEngine }}
+  #
+  # CLIENT (memory tests)
+  #
+  client-memory:
+    timeout-minutes: 15
+    runs-on: ${{ matrix.os }}
+
+    needs: detect_jobs_to_run
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        queryEngine: ['library'] # TODO: binary engine is leaking at the moment
+        os: [buildjet-4vcpu-ubuntu-2004]
+        node: [14, 16, 18]
+    steps:
+      - uses: actions/checkout@v3
+
+      - uses: pnpm/action-setup@v2.2.2
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run test:memory
+        working-directory: packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: actions/github-script@v6
+        if: failure()
+        id: upload-report
+        env:
+          NODE_VERSION: ${{ matrix.node }}
+        with:
+          github-token: ${{ secrets.BOT_TOKEN }}
+          script: |
+            const fs = require('fs')
+            const nodeVersion = process.env.NODE_VERSION
+            const reportPath = `client-memory-test/${context.issue.number}/${context.sha}.${nodeVersion}.html`
+            const url = `https://prisma.github.io/ci-reports/${reportPath}`
+            await github.rest.repos.createOrUpdateFileContents({
+              owner: 'prisma',
+              repo: 'ci-reports',
+              branch: 'gh-pages',
+              path: reportPath,
+              message: `Add memory results for PR ${context.issue.number}`,
+              content: fs.readFileSync('./packages/client/tests/memory/memory-report.html', 'base64'),
+            });
+            console.log(`::set-output name=url::${url}`)
+
+      - name: Find report comment
+        uses: peter-evans/find-comment@v2
+        id: fc
+        if: always()
+        with:
+          issue-number: ${{ github.event.pull_request.number }}
+          comment-author: 'github-actions[bot]'
+          body-includes: 'Client memory tests, node ${{ matrix.node}}, ${{ matrix.queryEngine }}:'
+
+      - name: Create or update remote comment (failure)
+        uses: peter-evans/create-or-update-comment@v2
+        if: failure()
+        with:
+          comment-id: ${{ steps.fc.outputs.comment-id }}
+          issue-number: ${{ github.event.pull_request.number }}
+          body: |
+            Client memory tests, node ${{ matrix.node}}, ${{ matrix.queryEngine }}:
+
+            ❌ Failure, [see report](${{ steps.upload-report.outputs.url }}).
+          edit-mode: replace
+
+      - name: Create or update remote comment (success)
+        uses: peter-evans/create-or-update-comment@v2
+        if: ${{ success() && steps.fc.outputs.comment-id != '' }}
+        with:
+          comment-id: ${{ steps.fc.outputs.comment-id }}
+          issue-number: ${{ github.event.pull_request.number }}
+          body: |
+            Client memory tests, node ${{ matrix.node}}, ${{ matrix.queryEngine }}:
+
+            ✅ Success
+          edit-mode: replace
 
   #
   # CLIENT (types tests only)
",True,False,False,True,False,True,False
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,155e1a5a1de59787d33235d467e1efa2610b7179,3398d4f9241bc4a0b25201eb3e81b877346d82a1,2022-08-17 11:35:58+02:00,"test: Memory test reports improvements (#14850)

- Upload reports and post comments only on pull requests
- Don't post memory test comments if no reports were uploaded",1,4.3.0,test.yml,MODIFY,14,11,,14850,SevInf,User,CONTRIBUTOR,SevInf,User,2022-08-17T09:02:47Z,2022-08-17T09:35:59Z,closed,,,,"- Upload reports and post comments only on pull requests
- Don't post memory test comments if no reports were uploaded",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/155e1a5_test.yml,../Mining/generated/scripts/prisma/files_src_after/155e1a5_test.yml,None,None,None,"@@ -238,7 +238,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: actions/github-script@v6
-        if: failure()
+        if: ${{ failure() && github.event_name == 'pull_request' }}
         id: upload-report
         env:
           NODE_VERSION: ${{ matrix.node }}
@@ -249,15 +249,18 @@ jobs:
             const nodeVersion = process.env.NODE_VERSION
             const reportPath = `client-memory-test/${context.issue.number}/${context.sha}.${nodeVersion}.html`
             const url = `https://prisma.github.io/ci-reports/${reportPath}`
-            await github.rest.repos.createOrUpdateFileContents({
-              owner: 'prisma',
-              repo: 'ci-reports',
-              branch: 'gh-pages',
-              path: reportPath,
-              message: `Add memory results for PR ${context.issue.number}`,
-              content: fs.readFileSync('./packages/client/tests/memory/memory-report.html', 'base64'),
-            });
-            console.log(`::set-output name=url::${url}`)
+            const localReport = './packages/client/tests/memory/memory-report.html'
+            if (fs.existsSync(localReport)) {
+              await github.rest.repos.createOrUpdateFileContents({
+                owner: 'prisma',
+                repo: 'ci-reports',
+                branch: 'gh-pages',
+                path: reportPath,
+                message: `Add memory results for PR ${context.issue.number}`,
+                content: fs.readFileSync(localReport, 'base64'),
+              });
+              console.log(`::set-output name=url::${url}`)
+            }
 
       - name: Find report comment
         uses: peter-evans/find-comment@v2
@@ -270,7 +273,7 @@ jobs:
 
       - name: Create or update remote comment (failure)
         uses: peter-evans/create-or-update-comment@v2
-        if: failure()
+        if: ${{ failure() && steps.upload-report.outputs.url }}
         with:
           comment-id: ${{ steps.fc.outputs.comment-id }}
           issue-number: ${{ github.event.pull_request.number }}
",True,False,False,True,False,True,False
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,c933817ec7a3ae69dbcefa98463b9ef247db041f,47019a45e7688ef86831b4235f6918f7b685f481,2022-08-17 14:42:05+02:00,test: Don't try to find report comment on branches (#14854),1,4.3.0,test.yml,MODIFY,1,1,,14854,SevInf,User,CONTRIBUTOR,SevInf,User,2022-08-17T10:36:56Z,2022-08-17T12:42:05Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/c933817_test.yml,../Mining/generated/scripts/prisma/files_src_after/c933817_test.yml,None,None,None,"@@ -265,7 +265,7 @@ jobs:
       - name: Find report comment
         uses: peter-evans/find-comment@v2
         id: fc
-        if: always()
+        if: ${{ always() && github.event_name == 'pull_request' }}
         with:
           issue-number: ${{ github.event.pull_request.number }}
           comment-author: 'github-actions[bot]'
",True,False,False,True,False,True,False
prisma,Alberto Schiabel,User,jkomyno@users.noreply.github.com,GitHub,User,noreply@github.com,11ce0e85afc0355ffc37e1017512ea9730fc384a,2255f80025858803de889d175ebb9bee2f80fec4,2022-08-19 10:29:43+02:00,"feat(migrate): add ability to test against existing `MongoDB` databases (#14551)

* chore: started working on setupMongo

* chore: fix lint

* ci: added TEST_MONGO_URI_MIGRATE_EXISTING_DB to migrate job

* chore: fixed race condition in jest

* chore: removed logs

* chore: minor clean-up to setupMongo

* ci: fix buildkite?

* ci: fix buildkite (pt. 2)?

* chore: minor @types/node bump due to previous accidental change

Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>",9,4.3.0,test.yml,MODIFY,1,0,,14551,jkomyno,User,CONTRIBUTOR,jkomyno,User,2022-07-29T11:05:28Z,2022-08-19T08:29:43Z,closed,,,,Closes https://github.com/prisma/prisma/issues/13776.,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/11ce0e8_test.yml,../Mining/generated/scripts/prisma/files_src_after/11ce0e8_test.yml,0.8532110091743119,1.0,1.0,"@@ -561,6 +561,7 @@ jobs:
           TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
           TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
           TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
+          TEST_MONGO_URI_MIGRATE_EXISTING_DB: 'mongodb://root:prisma@localhost:27017/tests-migrate-existing-db?authSource=admin'
 
       - uses: codecov/codecov-action@v3
         with:
",True,False,False,True,False,True,False
prisma,Alberto Schiabel,User,jkomyno@users.noreply.github.com,GitHub,User,noreply@github.com,6af3abdbcdb969791ff11de9c76a7d3577bb2a1f,468398f8b1df3ff5f3cdf7657c0c027aecbad522,2022-08-19 15:51:58+00:00,"feat(cli): add @prisma/prisma-fmt-wasm to version command (#14760)

* feat(cli): add @prisma/prisma-fmt-wasm to version command

* fix(test): fix version tests

* chore: separated originalVersion in variable

* Update packages/internals/src/engine-commands/getEngineVersion.ts

Co-authored-by: pierre <pierreantoine.urvoy@gmail.com>

* chore: replaced require with import

* ci: add hook to keep @prisma/prisma-fmt-wasm up to date

* chore: probably fix ci on a file I haven't even touched

* attempt

* chore: updated update-engines-version workflow table

* Update .github/workflows/update-engines-version.yml

* chore: revert change on applyClientOnlyWrapper

* ci: edit update-engines-version to support @prisma/prisma-fmt-wasm with @janpio

* chore: increased jest timeout in Version.test.ts

* chore: updated @prisma/prisma-fmt-wasm

* chore: updated pnpm-lock.yaml

* chore: changed snapshot regex for 'version' command to address version bumping issue of @prisma/prisma-fmt-wasm

* chore: removed timeout in 'version' test

* chore: recovered timeout for 'version' test

* chore: removed noise

* chore: normalized jest timeouts in Version.test.ts

* ci: only bump prisma-fmt-wasm when npm tag is `latest`

* chore: update @prisma/prisma-fmt-wasm version

* internals: add performance optimization comment in wasm.ts

* Update .github/workflows/update-engines-version.yml

Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>

* [skip ci] chore: changed capitalization, WASM -> Wasm

Co-authored-by: pierre <pierreantoine.urvoy@gmail.com>
Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>
Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>",10,4.3.0,update-engines-version.yml,MODIFY,25,4,,14760,jkomyno,User,CONTRIBUTOR,jkomyno,User,2022-08-11T10:20:19Z,2022-08-19T15:51:58Z,closed,,,,"Closes #12496.

## Example Output

```text
❯ prisma version
prisma                  : 0.0.0
@prisma/client          : 0.0.0
Current platform        : darwin-arm64
Query Engine (Node-API) : libquery-engine fcc1617c18c96d316005aa4119c10ed8a96d78ec (at ../engines/libquery_engine-darwin-arm64.dylib.node)
Migration Engine        : migration-engine-cli fcc1617c18c96d316005aa4119c10ed8a96d78ec (at ../engines/migration-engine-darwin-arm64)
Introspection Engine    : introspection-core fcc1617c18c96d316005aa4119c10ed8a96d78ec (at ../engines/introspection-engine-darwin-arm64)
Format Binary           : prisma-fmt fcc1617c18c96d316005aa4119c10ed8a96d78ec (at ../engines/prisma-fmt-darwin-arm64)
Format WASM             : @prisma/prisma-fmt-wasm 4.3.0-1.fcc1617c18c96d316005aa4119c10ed8a96d78ec
Default Engines Hash    : fcc1617c18c96d316005aa4119c10ed8a96d78ec
Studio                  : 0.469.0
```

## TODO

- [x] Add automatic version update of `@prisma/prisma-fmt-version` to `internals/package.json` 
- [x] Verify published artifact is working
- [x] Fix Version.test.ts
- [x] Verify [`pkg` ecosystem test](https://github.com/prisma/ecosystem-tests/tree/dev/binaries/pkg)
- [ ] <del> Wait for `@prisma/prisma-fmt-version` to be moved to `prisma/prisma-engines` due to potential race conditions in the publishing pipeline ([see internal comment](https://prisma-company.slack.com/archives/C03R3PJN004/p1660231901297529?thread_ts=1660215496.799829&cid=C03R3PJN004)) </del>

## Next Steps

- [x] Actually use the WASM formatter: https://github.com/prisma/prisma/pull/14766",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/6af3abd_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/6af3abd_update-engines-version.yml,0.0,1.0,1.0,"@@ -36,13 +36,19 @@ jobs:
           node-version: '16'
 
       # This step uses `@prisma/ensure-npm-release` (abbv. `enr`) https://github.com/prisma/ensure-npm-release
-      - name: Check if version is available on npm
+      - name: Check if version of @prisma/engines-version is available on npm
         run: |
           echo 'Checking that @prisma/engines-version have the published version @${{ github.event.inputs.version }}'
           pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/engines-version -u ${{ github.event.inputs.version }}
-          echo 'Awesome - proceeding to update the dependencies'
 
-      - name: Update the engines dependencies
+      - name: Check if version of @prisma/prisma-fmt-wasm is available on npm
+        # Only run for `latest` npm tag, as @prisma/prisma-fmt-wasm doesn't currently release on the `integration` tag
+        if: github.event.inputs.npmDistTag == 'latest'
+        run: |
+          echo 'Checking that @prisma/prisma-fmt-wasm have the published version @${{ github.event.inputs.version }}'
+          pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/prisma-fmt-wasm -u ${{ github.event.inputs.version }}
+
+      - name: Update the dependencies (@prisma/engines-version)
         uses: nick-fields/retry@v2
         with:
           timeout_minutes: 7
@@ -50,7 +56,17 @@ jobs:
           command: |
             echo 'Updating @prisma/engines-version to ${{ github.event.inputs.version }} using pnpm'
             pnpm update -r @prisma/engines-version@${{ github.event.inputs.version }}
-            echo 'Awesome - proceeding to make the PR'
+
+      - name: Update the dependencies (@prisma/prisma-fmt-wasm)
+        # Only run for `latest` npm tag, as @prisma/prisma-fmt-wasm doesn't currently release on the `integration` tag
+        if: github.event.inputs.npmDistTag == 'latest'
+        uses: nick-fields/retry@v2
+        with:
+          timeout_minutes: 7
+          max_attempts: 3
+          command: |
+            echo 'Updating @prisma/prisma-fmt-wasm to ${{ github.event.inputs.version }} using pnpm'
+            pnpm update -r @prisma/prisma-fmt-wasm@${{ github.event.inputs.version }}
 
       - name: Extract Engine Commit hash from version
         id: extract-engine-commit-hash
@@ -81,16 +97,20 @@ jobs:
             | Package | NPM URL |
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
+            |`@prisma/prisma-fmt-wasm`| https://npmjs.com/package/@prisma/prisma-fmt-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
+      
       - name: PR url
         if: github.event.inputs.npmDistTag == 'latest'
         run: |
           echo ""Pull Request URL - ${{ steps.cpr.outputs.pull-request-url }}""
+      
       - name: Sleep for 5 seconds
         if: github.event.inputs.npmDistTag == 'latest'
         run: sleep 5s
         shell: bash
+      
       - name: Auto approve Pull Request (to trigger automerge if tests passing)
         if: github.event.inputs.npmDistTag == 'latest' && steps.cpr.outputs.pull-request-operation == 'created'
         uses: juliangruber/approve-pull-request-action@v1
@@ -121,6 +141,7 @@ jobs:
             | Package | NPM URL |
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
+            |`@prisma/prisma-fmt-wasm`| https://npmjs.com/package/@prisma/prisma-fmt-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
 
",True,False,False,False,False,True,True
prisma,Alberto Schiabel,User,jkomyno@users.noreply.github.com,GitHub,User,noreply@github.com,1ce4e5bbdfb9b5f7c0922ea639c26d18cb8c3fef,db0fe2cd4f3e55840057e322188d5b7d93f9d5d8,2022-08-22 17:12:48+02:00,"feat(cli): use prisma fmt wasm for cli format (#14766)

* feat(cli): add @prisma/prisma-fmt-wasm to version command

* fix(test): fix version tests

* chore: separated originalVersion in variable

* Update packages/internals/src/engine-commands/getEngineVersion.ts

Co-authored-by: pierre <pierreantoine.urvoy@gmail.com>

* feat(internals): formatSchema({ schemaPath }) now uses @prisma/prisma-fmt-wasm

* chore: replaced require with import

* ci: add hook to keep @prisma/prisma-fmt-wasm up to date

* chore: probably fix ci on a file I haven't even touched

* attempt

* chore: updated update-engines-version workflow table

* Update .github/workflows/update-engines-version.yml

* chore: revert change on applyClientOnlyWrapper

* fix: solve unmarshaling issue when using @prisma/prisma-fmt-wasm

* ci: edit update-engines-version to support @prisma/prisma-fmt-wasm with @janpio

* chore: increased jest timeout in Version.test.ts

* feat(internals): stop using fmt binary

* fix: add support for panics to @prisma/prisma-fmt-wasm

* chore: updated @prisma/prisma-fmt-wasm

* chore: updated pnpm-lock.yaml

* chore: changed snapshot regex for 'version' command to address version bumping issue of @prisma/prisma-fmt-wasm

* chore: removed timeout in 'version' test

* chore: recovered timeout for 'version' test

* chore: fix artificial-panic formatter tests

* chore: removed noise

* chore: normalized jest timeouts in Version.test.ts

* ci: only bump prisma-fmt-wasm when npm tag is `latest`

* chore: update @prisma/prisma-fmt-wasm version

* internals: add performance optimization comment in wasm.ts

* chore: update empty-schema test for format

* cli(format): remove extra newline

* chore: removed useless promise in formatWASM

* chore: fix capitalization of WASM -> Wasm

* feat(internals): add possibility to customize formatSchema options

* cli: added comment to Format

* test(internals): add comparison between binary and wasm formatter with input schemas of different spacing

* chore: apply small nit comments

Co-authored-by: pierre <pierreantoine.urvoy@gmail.com>
Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",13,4.3.0,update-engines-version.yml,MODIFY,3,3,,14766,jkomyno,User,CONTRIBUTOR,jkomyno,User,2022-08-11T13:26:38Z,2022-08-22T15:12:49Z,closed,,,,"**Note**: this PR depends on https://github.com/prisma/prisma/pull/14760 being merged.

## TODO

- [x] Trigger a panic using an older version of `@prisma/prisma-fmt-wasm` and potentially update the panic error handling 
- [x] Figure out with Tom why the `format` command doesn't actually format the given schema
   Sequence of steps:
  1. format in prisma-fmt-wasm : https://github.com/prisma/prisma-fmt-wasm/blob/main/src/lib.rs#L3-L6
  1. format in prisma-engines/prisma-fmt : https://github.com/prisma/prisma-engines/blob/main/prisma-fmt/src/lib.rs#L43-L61
  1.  reformat in prisma-engines/libs/datamodel/schema-ast : https://github.com/prisma/prisma-engines/blob/main/libs/datamodel/schema-ast/src/reformat.rs#L10-L23
  For some reason, the schema doesn’t seem to get formatted from the cli. However, the formatted of the code extension works.
  Update: we were having a deserialization error because we weren't passing the `textDocument` property to the LSP params, even though that property isn't actually used. We're currently using a dummy replacement object.

## Example Error

```text
RuntimeError: unreachable
    at __rust_start_panic (wasm://wasm/00bcd4ca:wasm-function[3917]:0x1f44a7)
    at rust_panic (wasm://wasm/00bcd4ca:wasm-function[3174]:0x1f0e45)
    at std::panicking::rust_panic_with_hook::he2a025723e105e28 (wasm://wasm/00bcd4ca:wasm-function[1990]:0x1cdf3a)
    at std::panicking::begin_panic_handler::{{closure}}::hd9f8c213ec91b9d5 (wasm://wasm/00bcd4ca:wasm-function[2331]:0x1de3f6)
    at std::sys_common::backtrace::__rust_end_short_backtrace::h6efd730283875809 (wasm://wasm/00bcd4ca:wasm-function[3429]:0x1f2c10)
    at rust_begin_unwind (wasm://wasm/00bcd4ca:wasm-function[3021]:0x1ef0ba)
    at core::panicking::panic_fmt::hb02133958c1e7d35 (wasm://wasm/00bcd4ca:wasm-function[3035]:0x1ef3ec)
    at core::panicking::panic::hc28e7cc2aa792341 (wasm://wasm/00bcd4ca:wasm-function[2978]:0x1ee5a1)
    at parser_database::walkers::relation::inline::InlineRelationWalker::forward_relation_field_arity::h1955baa4721e9f29 (wasm://wasm/00bcd4ca:wasm-function[1111]:0x187607)
    at datamodel::reformat::reformat::hb0773eecee3a2adc (wasm://wasm/00bcd4ca:wasm-function[7]:0x1b0a2)
```

## Next Steps

- [ ] <del>Capture a more detailed Rust Panic. This will be done in a future PR, and requires custom Rust shenanigans, as wasm strips a lot of backtrace information by default.</del> (this is not really possible at the moment, [see internal discussion](https://prisma-company.slack.com/archives/C02A1646TBR/p1660896893165459).)",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/1ce4e5b_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/1ce4e5b_update-engines-version.yml,0.656,1.0,1.0,"@@ -100,17 +100,17 @@ jobs:
             |`@prisma/prisma-fmt-wasm`| https://npmjs.com/package/@prisma/prisma-fmt-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
-      
+
       - name: PR url
         if: github.event.inputs.npmDistTag == 'latest'
         run: |
           echo ""Pull Request URL - ${{ steps.cpr.outputs.pull-request-url }}""
-      
+
       - name: Sleep for 5 seconds
         if: github.event.inputs.npmDistTag == 'latest'
         run: sleep 5s
         shell: bash
-      
+
       - name: Auto approve Pull Request (to trigger automerge if tests passing)
         if: github.event.inputs.npmDistTag == 'latest' && steps.cpr.outputs.pull-request-operation == 'created'
         uses: juliangruber/approve-pull-request-action@v1
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,59e10db7d811f8a4b314009e4f1e8ab19b95d689,f4962333dd7276f4430c99d1019829f07af50d7b,2022-08-26 09:40:05-10:00,chore: engine overrides (#15014),11,4.3.0,test.yml,MODIFY,1,1,,15014,millsp,User,MEMBER,millsp,User,2022-08-25T22:33:27Z,2022-08-26T19:40:05Z,closed,,,,"With this PR, we are enabling faster iterations and easier local development with the engines.

1. Modify `prisma/fetch-engine/package.json`, choose one:

```diff
  ""enginesOverride"": {
+    ""branch"": ""feat/column-comparison"",
+    ""folder"": ""/home/john/dev/prisma/prisma-engines/target/release""
  }
```
* `branch`: to clone the prisma branch and build it
* `folder`: to re-use your own local engine build

2. `pnpm i`

3. Done. The changes are effective across the whole monorepo.

Notes:
This only works locally for now. If you publish an integration version of this, it will not use the override. This is so that we cannot accidentally ship an overridden engine. We also wouldn't want to build the engines on CI (eg. `ecosystem-tests`).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/59e10db_test.yml,../Mining/generated/scripts/prisma/files_src_after/59e10db_test.yml,0.9,0.9,0.9,"@@ -109,7 +109,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm run lint
+      - run: pnpm run lint && pnpm run check-engines-override
         working-directory: ./
 
   #
",True,False,False,True,False,True,False
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,ed44db9ea49869dfdaf9f0a6a2445b376148f5c3,df76a7780a643cfc61a3ca0047eed17abfb1f0fa,2022-09-02 10:18:15+02:00,"test: Add memory test for createMany (#15136)

* test: Add memory test for create many

Unsuccesful attempt to reproduce leak, reported in #8500.

Test uses smaller bathch size then reported for the execution time sake,
but it does not reproduce with a larger batch.

* Update .github/workflows/test.yml

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* Update .buildkite/test/run.sh

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",4,4.4.0,test.yml,MODIFY,17,0,,15136,SevInf,User,CONTRIBUTOR,SevInf,User,2022-09-01T13:39:52Z,2022-09-02T08:18:16Z,closed,,,,"Unsuccesful attempt to reproduce leak, reported in #8500.

Test uses smaller bathch size then reported for the execution time sake,
but it does not reproduce with a larger batch.
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/ed44db9_test.yml,../Mining/generated/scripts/prisma/files_src_after/ed44db9_test.yml,1.0,1.0,1.0,"@@ -215,6 +215,18 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
+      - name: Login to Docker Hub
+        uses: docker/login-action@v2
+        env:
+          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
+          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
+        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
+        with:
+          username: ${{ secrets.DOCKERHUB_USERNAME }}
+          password: ${{ secrets.DOCKERHUB_TOKEN }}
+
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres # mysql mysql_isolated mssql mongo cockroachdb
+
       - uses: pnpm/action-setup@v2.2.2
         with:
           version: 7
@@ -236,6 +248,11 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
+          TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
+          TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
 
       - uses: actions/github-script@v6
         if: ${{ failure() && github.event_name == 'pull_request' }}
",True,False,False,True,False,True,False
prisma,Alexey Orlenko,User,alex@aqrln.net,GitHub,User,noreply@github.com,a24c46c7560a970efd51cee5806b5250226c69b0,6fc12c085718ea7a936b34f3cc9b134c09c74407,2022-09-09 10:33:29+02:00,test(client): run functional tests in Data Proxy simulator (#15010),37,4.4.0,test.yml,MODIFY,77,0,,15010,aqrln,User,MEMBER,aqrln,User,2022-08-25T18:22:15Z,2022-09-09T08:33:29Z,closed,,,,"It is now possible to use `pnpm test:functional --data-proxy` or `pnpm test:functional --data-proxy --edge-client` to run the functional tests in Mini-Proxy — the local Data Proxy simulator specifically made for use in tests (internal: [repo](https://github.com/prisma/mini-proxy/)).

It is similar to how, e.g., Cloudflare has Miniflare, but is an internal tool for now.

Although it doesn't share any code or architecture with the actual Data Proxy and is significantly simpler implementation of the Data Proxy API, the expectation is it should be a reasonable approximation for use in Prisma Client tests and allow us to have more confidence in the `DataProxyEngine` code and faster feedback loop. However, it is still essential to have `ecosystem-tests` running with the real Data Proxy.

Note: `bash` and `openssl` need to be installed and available in `PATH` for this to work on Windows.

Closes https://github.com/prisma/client-planning/issues/80

---

Use this to make some diffs in tests manageable to read:

<img width=""348"" height=""320"" src=""https://user-images.githubusercontent.com/4923335/186741561-2584577a-4e24-47c4-a276-ac18c1a85304.png"">",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/a24c46c_test.yml,../Mining/generated/scripts/prisma/files_src_after/a24c46c_test.yml,0.0,0.17333333333333334,0.9466666666666667,"@@ -196,6 +196,83 @@ jobs:
           files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
           name: client-${{ matrix.os }}-${{ matrix.queryEngine }}
+
+  #
+  # CLIENT (functional tests with mini-proxy)
+  #
+  client-dataproxy:
+    timeout-minutes: 35
+    runs-on: ${{ matrix.os }}
+
+    needs: detect_jobs_to_run
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        os: [buildjet-4vcpu-ubuntu-2004]
+        node: [14, 16, 18]
+
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Login to Docker Hub
+        uses: docker/login-action@v2
+        env:
+          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
+          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
+        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
+        with:
+          username: ${{ secrets.DOCKERHUB_USERNAME }}
+          password: ${{ secrets.DOCKERHUB_TOKEN }}
+
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb
+
+      - uses: pnpm/action-setup@v2.2.2
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run test:functional --data-proxy
+        working-directory: packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
+          TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
+          TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+          TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
+          TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
+
+      - run: pnpm run test:functional --data-proxy --edge-client
+        working-directory: packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
+          TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
+          TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+          TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
+          TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/client/src/__tests__/coverage/clover.xml
+          flags: client,${{ matrix.os }},dataproxy
+          name: client-${{ matrix.os }}-dataproxy
+
   #
   # CLIENT (memory tests)
   #
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,ede1283a4127e6b5222eb7d78b66f0ed48b78b9f,727674d093d1285a2b4e3dcfca0eb4e4c9474dd3,2022-09-28 10:05:00+02:00,"test: try Jest's --onlyChanged for functional tests (#15557)

* test: try Jest's --onlyChanged for functional tests

* try 1 modified test

* undo changed test

* fix if",3,4.5.0,test.yml,MODIFY,38,27,,15557,Jolg42,User,MEMBER,Jolg42,User,2022-09-27T09:57:58Z,2022-09-28T08:05:01Z,closed,,,,"Only for GitHub Actions

This checks if all the files modified (or added) by a PR are located inside `packages/client/tests/functional`
If true we only run these tests, thanks to Jest's `--onlyChanged`
else we run like before (all client tests)",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/ede1283_test.yml,../Mining/generated/scripts/prisma/files_src_after/ede1283_test.yml,0.14285714285714285,0.0,1.0,"@@ -120,7 +120,7 @@ jobs:
     runs-on: ${{ matrix.os }}
 
     needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-clientOnlyChangedFunctionalTests-') }}
 
     strategy:
       fail-fast: false
@@ -129,6 +129,28 @@ jobs:
         os: [buildjet-4vcpu-ubuntu-2004]
         node: [16, 18]
 
+    env:
+      CI: true
+      SKIP_GIT: true
+      GITHUB_CONTEXT: ${{ toJson(github) }}
+      TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+      TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:5435/tests
+      TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+      TEST_MYSQL_ISOLATED_URI: mysql://root:root@localhost:3307/tests
+      TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
+      TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
+      TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+      TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
+      TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
+      TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
+      TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
+      TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
+      TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
+      TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+      TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
+      TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
+      NODE_OPTIONS: '--max-old-space-size=8096'
+
     steps:
       - uses: actions/checkout@v3
 
@@ -162,34 +184,23 @@ jobs:
           node-version: ${{ matrix.node }}
 
       - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm run test-notypes && pnpm run test:functional
+      # If we detected (in detect_jobs_to_run) that only functional test files changed
+      # We only run the tests that changed (or were added)
+      - run: pnpm run test:functional --onlyChanged
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-clientOnlyChangedFunctionalTests-') }}
+        working-directory: packages/client
+      # If not
+      # we run all of them
+      - run: pnpm run test:functional
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
+        # If one or more functional tests fails we still want to run the other tests below
+        continue-on-error: true
+        working-directory: packages/client
+      # And we also run the all the other tests (except the types tests)
+      - run: pnpm run test-notypes
+        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
         working-directory: packages/client
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-          TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:5435/tests
-          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-          TEST_MYSQL_ISOLATED_URI: mysql://root:root@localhost:3307/tests
-          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-          TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
-          TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-          TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
-          TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
-          TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
-          TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
-          TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
-          TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
-          TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-          TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
-          TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
-          NODE_OPTIONS: '--max-old-space-size=8096'
 
       - uses: codecov/codecov-action@v3
         with:
",True,False,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,4dd41071e1e5a9ad805f46b13eea83310c799907,2f1a984af62af420626e83a8652c42555a193550,2022-09-29 15:18:31+02:00,"ci(client): remove continue on error (#15609)

Replace https://github.com/prisma/prisma/pull/15606",1,4.5.0,test.yml,MODIFY,0,2,,15609,Jolg42,User,MEMBER,Jolg42,User,2022-09-29T12:57:36Z,2022-09-29T13:18:31Z,closed,,,,Replace https://github.com/prisma/prisma/pull/15606,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/4dd4107_test.yml,../Mining/generated/scripts/prisma/files_src_after/4dd4107_test.yml,None,None,None,"@@ -190,8 +190,6 @@ jobs:
       # Run the functional test suite
       - run: pnpm run test:functional
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-        # If one or more functional tests fails we still want to run the other tests below
-        continue-on-error: true
         working-directory: packages/client
       # And run  all the other tests (except the types tests)
       - run: pnpm run test-notypes
",True,False,False,True,False,True,False
prisma,Josh Soref,User,2119212+jsoref@users.noreply.github.com,GitHub,User,noreply@github.com,52f95cba0a5cb0088100cdbd365fa9140024298e,f8bf8f65a6617c92fe52ad3517bf9ee7e472c972,2022-10-04 14:14:08+02:00,"chore: fix spelling (#15645)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",69,4.5.0,benchmark.yml,MODIFY,1,1,,15645,jsoref,User,CONTRIBUTOR,Jolg42,User,2022-10-04T01:51:41Z,2022-10-04T12:14:08Z,closed,,,,"This PR corrects misspellings identified by the [check-spelling action](https://github.com/marketplace/actions/check-spelling).

The misspellings have been reported at https://github.com/jsoref/prisma/actions/runs/3178811637#summary-8690446420

The action reports that the changes in this PR would make it happy: https://github.com/jsoref/prisma/commit/0eccc41e21b71bef21cf0dd0416c0526c9db603f
 
Note: this PR does not include the action. If you're interested in running a spell check on every PR and push, that can be offered separately.
",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/52f95cb_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/52f95cb_benchmark.yml,None,None,None,"@@ -74,7 +74,7 @@ jobs:
           name: Benchmark.js Benchmark
           tool: 'benchmarkjs'
           output-file-path: output.txt
-          # Use personal access token instead of GITHUB_TOKEN due to https://github.community/t5/GitHub-Actions/Github-action-not-triggering-gh-pages-upon-push/td-p/26869/highlight/false
+          # Note: must use personal access token
           github-token: ${{ secrets.GITHUB_TOKEN }}
           auto-push: true
           # Show alert with commit comment on detecting possible performance regression
",True,False,False,False,False,True,False
prisma,Josh Soref,User,2119212+jsoref@users.noreply.github.com,GitHub,User,noreply@github.com,52f95cba0a5cb0088100cdbd365fa9140024298e,f8bf8f65a6617c92fe52ad3517bf9ee7e472c972,2022-10-04 14:14:08+02:00,"chore: fix spelling (#15645)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",69,4.5.0,test.yml,MODIFY,1,1,,15645,jsoref,User,CONTRIBUTOR,Jolg42,User,2022-10-04T01:51:41Z,2022-10-04T12:14:08Z,closed,,,,"This PR corrects misspellings identified by the [check-spelling action](https://github.com/marketplace/actions/check-spelling).

The misspellings have been reported at https://github.com/jsoref/prisma/actions/runs/3178811637#summary-8690446420

The action reports that the changes in this PR would make it happy: https://github.com/jsoref/prisma/commit/0eccc41e21b71bef21cf0dd0416c0526c9db603f
 
Note: this PR does not include the action. If you're interested in running a spell check on every PR and push, that can be offered separately.
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/52f95cb_test.yml,../Mining/generated/scripts/prisma/files_src_after/52f95cb_test.yml,None,None,None,"@@ -1095,7 +1095,7 @@ jobs:
           name: engines-${{ matrix.os }}
 
       - name: Upload test results to BuildPulse for flaky test detection
-        # Only run this step for branches where where we have access to secrets.
+        # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
         if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled()
         uses: Workshop64/buildpulse-action@main
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c08f620fcfc8a27908b91316f8b4c5be41d8b378,71e13849c811346f6323e056f99ab94386dada12,2022-10-11 09:41:23+02:00,"chore(deps): update pnpm/action-setup action to v2.2.3 (#15734)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",4,,benchmark.yml,MODIFY,1,1,,15734,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-10-11T07:19:06Z,2022-10-11T07:41:24Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | patch | `v2.2.2` -> `v2.2.3` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.3`](https://togithub.com/pnpm/action-setup/releases/tag/v2.2.3)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.2.2...v2.2.3)

Bump Node.js version to 16 [https://github.com/pnpm/action-setup/pull/56](https://togithub.com/pnpm/action-setup/pull/56)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzMi4yMzIuMCIsInVwZGF0ZWRJblZlciI6IjMyLjIzMi4wIn0=-->
",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/c08f620_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/c08f620_benchmark.yml,None,None,None,"@@ -46,7 +46,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.2
+      - uses: pnpm/action-setup@v2.2.3
         with:
           version: 7
 
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c08f620fcfc8a27908b91316f8b4c5be41d8b378,71e13849c811346f6323e056f99ab94386dada12,2022-10-11 09:41:23+02:00,"chore(deps): update pnpm/action-setup action to v2.2.3 (#15734)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",4,,test.yml,MODIFY,11,11,,15734,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-10-11T07:19:06Z,2022-10-11T07:41:24Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | patch | `v2.2.2` -> `v2.2.3` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.3`](https://togithub.com/pnpm/action-setup/releases/tag/v2.2.3)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.2.2...v2.2.3)

Bump Node.js version to 16 [https://github.com/pnpm/action-setup/pull/56](https://togithub.com/pnpm/action-setup/pull/56)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzMi4yMzIuMCIsInVwZGF0ZWRJblZlciI6IjMyLjIzMi4wIn0=-->
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/c08f620_test.yml,../Mining/generated/scripts/prisma/files_src_after/c08f620_test.yml,None,None,None,"@@ -88,7 +88,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.2
+      - uses: pnpm/action-setup@v2.2.3
         with:
           version: 7
 
@@ -176,7 +176,7 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb
 
-      - uses: pnpm/action-setup@v2.2.2
+      - uses: pnpm/action-setup@v2.2.3
         with:
           version: 7
 
@@ -233,7 +233,7 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb
 
-      - uses: pnpm/action-setup@v2.2.2
+      - uses: pnpm/action-setup@v2.2.3
         with:
           version: 7
 
@@ -309,7 +309,7 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres # mysql mysql_isolated mssql mongo cockroachdb
 
-      - uses: pnpm/action-setup@v2.2.2
+      - uses: pnpm/action-setup@v2.2.3
         with:
           version: 7
 
@@ -412,7 +412,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.2
+      - uses: pnpm/action-setup@v2.2.3
         with:
           version: 7
 
@@ -479,7 +479,7 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mariadb mssql
 
-      - uses: pnpm/action-setup@v2.2.2
+      - uses: pnpm/action-setup@v2.2.3
         with:
           version: 7
 
@@ -554,7 +554,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.2.2
+      - uses: pnpm/action-setup@v2.2.3
         with:
           version: 7
 
@@ -626,7 +626,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.2.2
+      - uses: pnpm/action-setup@v2.2.3
         with:
           version: 7
 
@@ -696,7 +696,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.2.2
+      - uses: pnpm/action-setup@v2.2.3
         with:
           version: 7
 
@@ -743,7 +743,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.2
+      - uses: pnpm/action-setup@v2.2.3
         with:
           version: 7
 
@@ -908,7 +908,7 @@ jobs:
       - name: Set up MySQL
         run: bash .github/workflows/scripts/setup-mysql.sh
 
-      - uses: pnpm/action-setup@v2.2.2
+      - uses: pnpm/action-setup@v2.2.3
         with:
           version: 7
 
",True,False,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c08f620fcfc8a27908b91316f8b4c5be41d8b378,71e13849c811346f6323e056f99ab94386dada12,2022-10-11 09:41:23+02:00,"chore(deps): update pnpm/action-setup action to v2.2.3 (#15734)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",4,,update-engines-version.yml,MODIFY,1,1,,15734,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-10-11T07:19:06Z,2022-10-11T07:41:24Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | patch | `v2.2.2` -> `v2.2.3` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.3`](https://togithub.com/pnpm/action-setup/releases/tag/v2.2.3)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.2.2...v2.2.3)

Bump Node.js version to 16 [https://github.com/pnpm/action-setup/pull/56](https://togithub.com/pnpm/action-setup/pull/56)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzMi4yMzIuMCIsInVwZGF0ZWRJblZlciI6IjMyLjIzMi4wIn0=-->
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/c08f620_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/c08f620_update-engines-version.yml,None,None,None,"@@ -26,7 +26,7 @@ jobs:
 
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.2
+      - uses: pnpm/action-setup@v2.2.3
         with:
           version: 7
 
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c08f620fcfc8a27908b91316f8b4c5be41d8b378,71e13849c811346f6323e056f99ab94386dada12,2022-10-11 09:41:23+02:00,"chore(deps): update pnpm/action-setup action to v2.2.3 (#15734)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",4,,update-studio-version.yml,MODIFY,1,1,,15734,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-10-11T07:19:06Z,2022-10-11T07:41:24Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | patch | `v2.2.2` -> `v2.2.3` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.3`](https://togithub.com/pnpm/action-setup/releases/tag/v2.2.3)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.2.2...v2.2.3)

Bump Node.js version to 16 [https://github.com/pnpm/action-setup/pull/56](https://togithub.com/pnpm/action-setup/pull/56)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzMi4yMzIuMCIsInVwZGF0ZWRJblZlciI6IjMyLjIzMi4wIn0=-->
",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/c08f620_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/c08f620_update-studio-version.yml,None,None,None,"@@ -13,7 +13,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.2
+      - uses: pnpm/action-setup@v2.2.3
         with:
           version: 7
 
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,99487a798c892e634b82587c49e5397f4c1918b6,e8bce9d5ac5a513a63aacbef5a5a047c29e76cfe,2022-10-13 09:30:46+02:00,"test(client): add `relationMode` datasource property tests for all databases (#14221)

* test(client): prototype referential integrity tests

Related: https://github.com/prisma/prisma/issues/10806

Test Suites: 1 failed, 1 total
Tests:       3 failed, 45 passed, 48 total
Snapshots:   0 total
Time:        9.838 s

* exclude mongodb to see if types tests fail like locally

* wip rewrite with Alberto

* chore: update tests

* chore: used .rejects.toThrowError

* chore: started adding ref actions

* chore: mongodb only supports 'referentialIntegrity: prisma'

* chore: added support for conditional error messages

* wip

reorg with describe
revert matrix and schema changes
beforeEach check and create users with profiles

* fix referentialIntegrityLine

* add skeleton for 1:n and m:n tests

* chore: highlighted some test errors with mongodb

* chore: added create tests for 1:n relationship

* chore: added TODO comment

* WIP m:n for SQL databases

* ci: try running github actions matrix with our tests only

* ci: remove needs: detect_jobs_to_run

* ci: fix os matrix

* ci: small CI env var tweak

* ci: fix bash line

* chore: added some update/delete tests for 1:n

* chore: added comments to _matrix.ts

* postgresql m:n all referential actions

* merge main

* DEFAULT, exclude Restrict from SQL Server, fix tests

* add mongodb tests for m:n

* chore: added some additional ref actions, added support for SQL Server

* chore: fixed bug with DEFAULT not tested, added upsert test, fixed some conditional errors, found panic on SQLServer with SetDefault

* reuse sql schema for mongodb 1:1 1:n

* 1:1 test all referral actions for onDelete & clean

* chore: improved ref actions, fixed failing tests

* chore: reproduced issue #14271

* chore: split relationships in separate files

* split m:n mongodb tests into its own file

* add `enabled Boolean?` on 1-to-n

It's a reproduction of https://github.com/prisma/prisma/issues/13766

* m:n add comments where RI=prisma - Cascade resolves instead of failing in update and create

* add `published   Boolean?` to MongoDB and update tests

* 1:1 add `enabled Boolean?` and MongoDB update tests

* add `published   Boolean?` to m:n with update tests

* chore: updated sql server tests

* add comments to m:n

[skip ci]

* add a mongodb test for immutable _id

* full database matrix for CI

* split schemas into simple files

* m to n MongoDB: change tests to match current implementation expectations

* chore: add JSON support to getTestSuiteFullName

* chore: moved ref integrity utils to its own folder. Added builder pattern to conditional error. Added matrix generation. Extracted self-contained utilities out of _schema.ts file.

* chore: added sqlite support and referentialIntegrity=prisma snapshots to 1:1 and 1:n relations

* chore: pnpm-lock

* chore: removed temp folder that wasn't supposed to be committed

* chore: imported right 'checkIfEmpty' util for m:n relation

* clean and add sqlite on m to n

* m to n add RI=Prisma messages as comments + small edits

add expectation even for `toThrowError()` cases

* m:n: split 1 test for prisma/foreignKeys

* chore: added prisma snapshots and errors as comments in m:n relation (no MongoDB yet)

* chore: added mongodb and comments to _matrix

* fix: moved _referential-integrity-utils to _utils/referential-integrity to support  ERR_PNPM_NO_SCRIPT  Missing script: test:functional-code command

* update matrix for MongoDB: add SetNull

* chore: added comments to m:n

* m to n: small edits for RI=prisma

* test 1:1 / 1:n add expects for expected throws and fix some RI=prisma messages

* chore: prettier

* 1:1 handle error messages depending on RI=prisma/foreignKeys

* * simplify conditionals

* m to n: change expectations to match current state

* chore: comment skipped test

* sqlite: skip createMany in 1:n relations

* chore: added missing sqlite snapshots to 1:n relation

* 1:n add missing delete action variants

* 1:n simplify and handle expected RI=prisma tests that should succeed

* chore: added reproduction of issue #10000

* chore: updated reproduction of issue #10000

* chore: reproduce issue #12378

* 1:1 separate onUpdate: Restrict, NoAction

* 1:1 fix create test from should throw to should succeed

* ci: separate action test for each relation / file

* ci: continue-on-error: true

* fix: referential actions test params

* fix ts checks

* only run pnpm run test:functional:code filename

* fix Cannot destructure property 'onDelete' of 'suiteConfig.referentialActions' as it is undefined.

* chore: added reproduction of issue #12557

* chore: add assertions to nested child connect in 1:1

* chore: clean unused code and better describe title

* test: add test about NO ACTION behavior with DEFERRABLE constraint

* manually bump engines

* chore: rename referentialIntegrity datasource property to relationMode

* fix github actions

* fix test about 14759 and RELATION_MODE env var

* cleanup some reproduce-x test cases

* add sqlite error snapshot

* remove continue-on-error

* remove outdated comments

* ci: remove last continue-on-error: true

* test: add `SetNull` to the matrix only for relationMode=prisma

* ci: add continue-on-error: true to run all tests

* fix snapshot with lowerace table name and run SQL Server

* exclude SQL Server / SetNull when relationMode !== prisma

* fix computeMatrix for SQL Server Restrict emulation which is not implemented

* change failing tests (issue 15683) to use .failing

* fix SQL Server test

* test(reproductions): fix empty test name

* fix relationMode = prisma SQL Server error snapshot

* fix relationMode = prisma SQL Server error snapshot

* fix relationMode = prisma SQL Server error snapshot

* comment vitess docker image (unused) and put back timeout to 60s

* test: fix snapshots for field-reference

* test: fix snapshot and getTestSuiteParametersString

* ignore expected type errors

* add note about SetNull is not run for foreignKeys in the test suite

* test: tweak comment and fix 1:1 test snapshots

* Unused '@ts-expect-error' directive.

* add `--relation-mode-tests-only` to unblock merge

* test: skip NoAction for PostgreSQL and SQLite

Related https://github.com/prisma/prisma-engines/pull/3274

* fix relationMode value

* fix test name + comments

* cleanup matrix and move reproduce tests to issues directory

* add test for referentialIntegrity=""prisma""

Closes https://github.com/prisma/prisma/issues/15736

* cleanup comments and misleading `toThrowError()` for expected to fail tests

* chore: removed useless comment

* chore: removed useless comments

* fix imports for moved tests in issues directory

Co-authored-by: jkomyno <skiabo97@gmail.com>
Co-authored-by: Alberto Schiabel <jkomyno@users.noreply.github.com>",46,4.5.0,test.yml,MODIFY,79,0,,14221,Jolg42,User,MEMBER,Jolg42,User,2022-07-08T15:39:29Z,2022-10-13T07:30:47Z,closed,,Jolg42,User,"Related: https://github.com/prisma/prisma/issues/10806

```sh
RELATION_MODE=foreignKeys pnpm run test:functional:code --relation-mode-tests-only
RELATION_MODE=prisma pnpm run test:functional:code --relation-mode-tests-only
pnpm run test:functional:code --relation-mode-tests-only

# Or only one relation type by providing the file name:
pnpm run test:functional:code --relation-mode-tests-only relationMode/tests_m-to-n.ts
```

<details>
<summary>How to run - Previously (early commit)</summary>

```sh
RELATION_MODE=foreignKeys pnpm run test:functional:code relationMode
RELATION_MODE=prisma pnpm run test:functional:code relationMode
pnpm run test:functional:code relationMode

# Or only one relation type by providing the file name:
pnpm run test:functional:code relationMode/tests_m-to-n.ts
```

and before

```sh
RI=foreignKeys pnpm run test:functional:code referential-integrity
RI=prisma pnpm run test:functional:code referential-integrity
pnpm run test:functional:code referential-integrity

# Or only one relation type by providing the file name:
pnpm run test:functional:code referential-integrity/tests_m-to-n.ts
```

</details>

Internal Notion pages
- [Project](https://www.notion.so/prismaio/Referential-Actions-TS-Test-Plan-52571af2aa6a48c1ae3a929880fd25aa)
- [Findings](https://www.notion.so/prismaio/Phase-1-Report-on-findings-f21c7bb079c5414296286973fdcd62c2)",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/99487a7_test.yml,../Mining/generated/scripts/prisma/files_src_after/99487a7_test.yml,0.15302893309222423,0.9615732368896925,0.9882459312839059,"@@ -114,6 +114,85 @@ jobs:
       - run: pnpm run lint && pnpm run check-engines-override
         working-directory: ./
 
+  #
+  # CLIENT test:functional relationMode
+  #
+  client-relationMode:
+    timeout-minutes: 35
+    runs-on: ${{ matrix.os }}
+
+    needs: detect_jobs_to_run
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        # os: [buildjet-4vcpu-ubuntu-2004]
+        relationMode: ['', 'foreignKeys', 'prisma']
+        os: [ubuntu-latest]
+        node: [16]
+
+    env:
+      CI: true
+      SKIP_GIT: true
+      GITHUB_CONTEXT: ${{ toJson(github) }}
+      TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+      TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+      TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
+      TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
+      TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+      TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
+      TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
+      TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
+      TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
+      TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
+      TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
+      TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+      TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
+      TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
+      NODE_OPTIONS: '--max-old-space-size=8096'
+
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Set RELATION_MODE custom test env var
+        run: |
+          echo ""RELATION_MODE=${{ matrix.relationMode }}""
+          if [ ! -z ""${{ matrix.relationMode }}"" ]; then echo ""RELATION_MODE=${{ matrix.relationMode }}"" >> $GITHUB_ENV; fi
+
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb
+
+      - uses: pnpm/action-setup@v2.2.2
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - name: 1 to 1
+        run: pnpm run test:functional:code --relation-mode-tests-only relationMode/tests_1-to-1.ts
+        working-directory: packages/client
+
+      - name: 1 to n
+        run: pnpm run test:functional:code --relation-mode-tests-only relationMode/tests_1-to-n.ts
+        working-directory: packages/client
+
+      - name: m to n (SQL databases)
+        run: pnpm run test:functional:code --relation-mode-tests-only relationMode/tests_m-to-n.ts
+        working-directory: packages/client
+
+      - name: m to n (MongoDB)
+        run: pnpm run test:functional:code --relation-mode-tests-only relationMode/tests_m-to-n-MongoDB.ts
+        working-directory: packages/client
+
   #
   # CLIENT (without types test)
   #
",True,True,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,6abe374022d53aceadaaec7279c642b6aaeac179,b51eed381c660774ff84238b161b81a2d213c234,2022-10-13 18:31:03+02:00,"chore(deps): update pnpm/action-setup action to v2.2.3 (#15783)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",1,,test.yml,MODIFY,1,1,,15783,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-10-13T16:09:07Z,2022-10-13T16:31:04Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | patch | `v2.2.2` -> `v2.2.3` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.3`](https://togithub.com/pnpm/action-setup/releases/tag/v2.2.3)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.2.2...v2.2.3)

Bump Node.js version to 16 [https://github.com/pnpm/action-setup/pull/56](https://togithub.com/pnpm/action-setup/pull/56)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzMi4yMzYuMSIsInVwZGF0ZWRJblZlciI6IjMyLjIzNi4xIn0=-->
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/6abe374_test.yml,../Mining/generated/scripts/prisma/files_src_after/6abe374_test.yml,None,None,None,"@@ -162,7 +162,7 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb
 
-      - uses: pnpm/action-setup@v2.2.2
+      - uses: pnpm/action-setup@v2.2.3
         with:
           version: 7
 
",True,True,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,96e7bcd82f7eb80d484aa174a697b0a037258d30,93b3ac53d637fad960d51b3c972bf6a3e2f0a7ac,2022-10-16 18:51:45+02:00,"chore(deps): update pnpm/action-setup action to v2.2.4 (#15822)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",4,,benchmark.yml,MODIFY,1,1,,15822,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-10-15T19:11:03Z,2022-10-16T16:51:46Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | patch | `v2.2.3` -> `v2.2.4` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.4`](https://togithub.com/pnpm/action-setup/releases/tag/v2.2.4)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.2.3...v2.2.4)

No deprecation warnings are printed about set-state and set-output commands ([https://github.com/pnpm/action-setup/issues/57](https://togithub.com/pnpm/action-setup/issues/57))

</details>

---

### Configuration

📅 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzMi4yMzcuMCIsInVwZGF0ZWRJblZlciI6IjMyLjIzNy4wIn0=-->
",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/96e7bcd_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/96e7bcd_benchmark.yml,None,None,None,"@@ -46,7 +46,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.3
+      - uses: pnpm/action-setup@v2.2.4
         with:
           version: 7
 
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,96e7bcd82f7eb80d484aa174a697b0a037258d30,93b3ac53d637fad960d51b3c972bf6a3e2f0a7ac,2022-10-16 18:51:45+02:00,"chore(deps): update pnpm/action-setup action to v2.2.4 (#15822)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",4,,test.yml,MODIFY,12,12,,15822,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-10-15T19:11:03Z,2022-10-16T16:51:46Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | patch | `v2.2.3` -> `v2.2.4` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.4`](https://togithub.com/pnpm/action-setup/releases/tag/v2.2.4)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.2.3...v2.2.4)

No deprecation warnings are printed about set-state and set-output commands ([https://github.com/pnpm/action-setup/issues/57](https://togithub.com/pnpm/action-setup/issues/57))

</details>

---

### Configuration

📅 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzMi4yMzcuMCIsInVwZGF0ZWRJblZlciI6IjMyLjIzNy4wIn0=-->
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/96e7bcd_test.yml,../Mining/generated/scripts/prisma/files_src_after/96e7bcd_test.yml,None,None,None,"@@ -88,7 +88,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.3
+      - uses: pnpm/action-setup@v2.2.4
         with:
           version: 7
 
@@ -162,7 +162,7 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb
 
-      - uses: pnpm/action-setup@v2.2.3
+      - uses: pnpm/action-setup@v2.2.4
         with:
           version: 7
 
@@ -255,7 +255,7 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb
 
-      - uses: pnpm/action-setup@v2.2.3
+      - uses: pnpm/action-setup@v2.2.4
         with:
           version: 7
 
@@ -312,7 +312,7 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb
 
-      - uses: pnpm/action-setup@v2.2.3
+      - uses: pnpm/action-setup@v2.2.4
         with:
           version: 7
 
@@ -388,7 +388,7 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres # mysql mysql_isolated mssql mongo cockroachdb
 
-      - uses: pnpm/action-setup@v2.2.3
+      - uses: pnpm/action-setup@v2.2.4
         with:
           version: 7
 
@@ -491,7 +491,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.3
+      - uses: pnpm/action-setup@v2.2.4
         with:
           version: 7
 
@@ -558,7 +558,7 @@ jobs:
 
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mariadb mssql
 
-      - uses: pnpm/action-setup@v2.2.3
+      - uses: pnpm/action-setup@v2.2.4
         with:
           version: 7
 
@@ -633,7 +633,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.2.3
+      - uses: pnpm/action-setup@v2.2.4
         with:
           version: 7
 
@@ -705,7 +705,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.2.3
+      - uses: pnpm/action-setup@v2.2.4
         with:
           version: 7
 
@@ -775,7 +775,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.2.3
+      - uses: pnpm/action-setup@v2.2.4
         with:
           version: 7
 
@@ -822,7 +822,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.3
+      - uses: pnpm/action-setup@v2.2.4
         with:
           version: 7
 
@@ -987,7 +987,7 @@ jobs:
       - name: Set up MySQL
         run: bash .github/workflows/scripts/setup-mysql.sh
 
-      - uses: pnpm/action-setup@v2.2.3
+      - uses: pnpm/action-setup@v2.2.4
         with:
           version: 7
 
",True,True,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,96e7bcd82f7eb80d484aa174a697b0a037258d30,93b3ac53d637fad960d51b3c972bf6a3e2f0a7ac,2022-10-16 18:51:45+02:00,"chore(deps): update pnpm/action-setup action to v2.2.4 (#15822)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",4,,update-engines-version.yml,MODIFY,1,1,,15822,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-10-15T19:11:03Z,2022-10-16T16:51:46Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | patch | `v2.2.3` -> `v2.2.4` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.4`](https://togithub.com/pnpm/action-setup/releases/tag/v2.2.4)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.2.3...v2.2.4)

No deprecation warnings are printed about set-state and set-output commands ([https://github.com/pnpm/action-setup/issues/57](https://togithub.com/pnpm/action-setup/issues/57))

</details>

---

### Configuration

📅 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzMi4yMzcuMCIsInVwZGF0ZWRJblZlciI6IjMyLjIzNy4wIn0=-->
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/96e7bcd_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/96e7bcd_update-engines-version.yml,None,None,None,"@@ -26,7 +26,7 @@ jobs:
 
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.3
+      - uses: pnpm/action-setup@v2.2.4
         with:
           version: 7
 
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,96e7bcd82f7eb80d484aa174a697b0a037258d30,93b3ac53d637fad960d51b3c972bf6a3e2f0a7ac,2022-10-16 18:51:45+02:00,"chore(deps): update pnpm/action-setup action to v2.2.4 (#15822)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",4,,update-studio-version.yml,MODIFY,1,1,,15822,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-10-15T19:11:03Z,2022-10-16T16:51:46Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | patch | `v2.2.3` -> `v2.2.4` |

---

### Release Notes

<details>
<summary>pnpm/action-setup</summary>

### [`v2.2.4`](https://togithub.com/pnpm/action-setup/releases/tag/v2.2.4)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.2.3...v2.2.4)

No deprecation warnings are printed about set-state and set-output commands ([https://github.com/pnpm/action-setup/issues/57](https://togithub.com/pnpm/action-setup/issues/57))

</details>

---

### Configuration

📅 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzMi4yMzcuMCIsInVwZGF0ZWRJblZlciI6IjMyLjIzNy4wIn0=-->
",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/96e7bcd_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/96e7bcd_update-studio-version.yml,None,None,None,"@@ -13,7 +13,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.3
+      - uses: pnpm/action-setup@v2.2.4
         with:
           version: 7
 
",True,False,False,False,False,True,True
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,89ef63e4cbd7aea4a40524c957bf6e66a37bcf35,c1afd2977ca2cfded5686f923d2ec855e08a0c22,2022-10-19 12:07:01+02:00,"chore: Reduce flakiness of the tests (#15860)

* chore: Reduce flakiness of the tests

* wait for logs in batch tx tests

* Increase timeout and retry couple of tests

* Force every schema hash to be unique",8,4.6.0,test.yml,MODIFY,2,0,,15860,SevInf,User,CONTRIBUTOR,SevInf,User,2022-10-18T12:37:42Z,2022-10-19T10:07:02Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/89ef63e_test.yml,../Mining/generated/scripts/prisma/files_src_after/89ef63e_test.yml,1.0,1.0,1.0,"@@ -338,6 +338,7 @@ jobs:
           TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
           TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
           TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
+          NODE_OPTIONS: '--max-old-space-size=8096'
 
       - run: pnpm run test:functional --data-proxy --edge-client
         working-directory: packages/client
@@ -350,6 +351,7 @@ jobs:
           TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
           TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
           TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
+          NODE_OPTIONS: '--max-old-space-size=8096'
 
       - uses: codecov/codecov-action@v3
         with:
",True,True,False,True,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,8e07ab463ecae040290784869b8128398b871826,6a5abecd15727b64c3e953259e6b37bc9fa77506,2022-10-20 13:37:39+02:00,"chore(deps): update juliangruber/approve-pull-request-action action to v2 (#15907)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>

[skip ci]",2,,update-engines-version.yml,MODIFY,1,1,,15907,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-10-20T10:55:54Z,2022-10-20T11:37:39Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [juliangruber/approve-pull-request-action](https://togithub.com/juliangruber/approve-pull-request-action) | action | major | `v1` -> `v2` |

---

### Release Notes

<details>
<summary>juliangruber/approve-pull-request-action</summary>

### [`v2`](https://togithub.com/juliangruber/approve-pull-request-action/compare/v1...v2)

[Compare Source](https://togithub.com/juliangruber/approve-pull-request-action/compare/v1...v2)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzMi4yNDAuNSIsInVwZGF0ZWRJblZlciI6IjMyLjI0MC41In0=-->
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/8e07ab4_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/8e07ab4_update-engines-version.yml,None,None,None,"@@ -113,7 +113,7 @@ jobs:
 
       - name: Auto approve Pull Request (to trigger automerge if tests passing)
         if: github.event.inputs.npmDistTag == 'latest' && steps.cpr.outputs.pull-request-operation == 'created'
-        uses: juliangruber/approve-pull-request-action@v1
+        uses: juliangruber/approve-pull-request-action@v2
         with:
           github-token: ${{ secrets.GITHUB_TOKEN }}
           number: ${{ steps.cpr.outputs.pull-request-number }}
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,8e07ab463ecae040290784869b8128398b871826,6a5abecd15727b64c3e953259e6b37bc9fa77506,2022-10-20 13:37:39+02:00,"chore(deps): update juliangruber/approve-pull-request-action action to v2 (#15907)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>

[skip ci]",2,,update-studio-version.yml,MODIFY,1,1,,15907,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2022-10-20T10:55:54Z,2022-10-20T11:37:39Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [juliangruber/approve-pull-request-action](https://togithub.com/juliangruber/approve-pull-request-action) | action | major | `v1` -> `v2` |

---

### Release Notes

<details>
<summary>juliangruber/approve-pull-request-action</summary>

### [`v2`](https://togithub.com/juliangruber/approve-pull-request-action/compare/v1...v2)

[Compare Source](https://togithub.com/juliangruber/approve-pull-request-action/compare/v1...v2)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, click this checkbox.

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzMi4yNDAuNSIsInVwZGF0ZWRJblZlciI6IjMyLjI0MC41In0=-->
",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/8e07ab4_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/8e07ab4_update-studio-version.yml,None,None,None,"@@ -69,7 +69,7 @@ jobs:
 
       - name: Auto approve Pull Request (to trigger automerge if tests passing)
         if: steps.cpr.outputs.pull-request-operation == 'created'
-        uses: juliangruber/approve-pull-request-action@v1
+        uses: juliangruber/approve-pull-request-action@v2
         with:
           github-token: ${{ secrets.GITHUB_TOKEN }}
           number: ${{ steps.cpr.outputs.pull-request-number }}
",True,False,False,False,False,True,True
prisma,Alberto Schiabel,User,jkomyno@users.noreply.github.com,GitHub,User,noreply@github.com,0b204fa4fdcdc3d5177936b38a2c9a904a8ceaa1,f176d1d8dc0ff0c041fc47dcf51fcfd7f4a60a54,2022-10-21 10:41:23+02:00,"test: ensure the emulated referential action `NoAction` is invalid for postgres and sqlite (#15880)

* [skip ci] test: ensure NoAction is invalid for Postgres and sqlite when relationMode = ""prisma""

* chore: trigger CI

* test: add Validate.test.ts, moved referential-actions tests from DbPush.test.ts to Validate.test.ts

* chore: add successful NoAction test in Validate.test.ts

* chore: add missing folder

* chore: fix ci? add env to cli-commands

* chore: add normalization to Validate.test.ts",5,4.6.0,test.yml,MODIFY,4,0,,15880,jkomyno,User,CONTRIBUTOR,jkomyno,User,2022-10-19T08:58:24Z,2022-10-21T08:41:23Z,closed,topic: referentialIntegrity/relationMode,,,Close https://github.com/prisma/prisma/issues/15882.,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/0b204fa_test.yml,../Mining/generated/scripts/prisma/files_src_after/0b204fa_test.yml,0.2463768115942029,1.0,1.0,"@@ -766,6 +766,10 @@ jobs:
         os: [ubuntu-latest]
         node: [16, 18]
 
+    env:
+      TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+      TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+
     steps:
       - uses: actions/checkout@v3
 
",True,True,False,True,False,True,False
prisma,Alberto Schiabel,User,jkomyno@users.noreply.github.com,GitHub,User,noreply@github.com,3f34330d362e622f04425b6911f0fb199b348406,50235feb7274c18742da8694138cf7aa7e82d6b7,2022-11-02 18:01:59+01:00,"test(client): add `vitess` flavor in relationMode test suite (#16051)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",15,4.6.0,test.yml,MODIFY,7,3,,16051,jkomyno,User,CONTRIBUTOR,Jolg42,User,2022-10-28T16:40:50Z,2022-11-02T17:01:59Z,closed,,,,"This PR:
- adds support for `vitess-8` (using the Docker image `vitess/vttestserver:mysql80`)
- introduces the concept of `ProviderFlavor`, a superset of `Providers` that allows distinguishing slightly different variants of providers. E.g., the `vitess-8` flavor uses `mysql` as the `provider` in the Prisma schema, but its url is mapped to the `TEST_FUNCTIONAL_VITESS_8_URI` env variable rather than `TEST_FUNCTIONAL_MYSQL_URI`.

**Note**: I have noticed Vitess is particularly slow. Maybe there's something sketchy on my local machine and it's faster on the CI.

Related https://github.com/prisma/prisma/issues/6927.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/3f34330_test.yml,../Mining/generated/scripts/prisma/files_src_after/3f34330_test.yml,1.0,1.0,0.0,"@@ -118,7 +118,7 @@ jobs:
   # CLIENT test:functional relationMode
   #
   client-relationMode:
-    timeout-minutes: 35
+    timeout-minutes: 60
     runs-on: ${{ matrix.os }}
 
     needs: detect_jobs_to_run
@@ -147,6 +147,7 @@ jobs:
       TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
       TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
       TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
+      TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
       TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
       TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
       TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
@@ -160,7 +161,7 @@ jobs:
           echo ""RELATION_MODE=${{ matrix.relationMode }}""
           if [ ! -z ""${{ matrix.relationMode }}"" ]; then echo ""RELATION_MODE=${{ matrix.relationMode }}"" >> $GITHUB_ENV; fi
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
 
       - uses: pnpm/action-setup@v2.2.4
         with:
@@ -177,14 +178,17 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
+      # shouldn't take more than 15 minutes
       - name: 1 to 1
         run: pnpm run test:functional:code --relation-mode-tests-only relationMode/tests_1-to-1.ts
         working-directory: packages/client
 
+      # shouldn't take more than 15 minutes
       - name: 1 to n
         run: pnpm run test:functional:code --relation-mode-tests-only relationMode/tests_1-to-n.ts
         working-directory: packages/client
 
+      # shouldn't take more than 15 minutes
       - name: m to n (SQL databases)
         run: pnpm run test:functional:code --relation-mode-tests-only relationMode/tests_m-to-n.ts
         working-directory: packages/client
@@ -1033,7 +1037,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          NODE_OPTIONS: '--max-old-space-size=8096'
+          NODE_OPTIONS: '--max-old-space-size=10240' # allow Node.js to allocate at most 10gb of heap
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
       - uses: codecov/codecov-action@v3
",True,True,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,c4adec3518d7300456273ef6495115d66f36b4e7,0fabc59b2f7c183a0e74d64b8e745f7443531bdd,2022-11-09 21:55:58+01:00,"chore(update-engines-version): improve action for automated patch PR (#16210)

This makes it possible to have an automated patch PR creation process.

[skip ci]",1,4.7.0,update-engines-version.yml,MODIFY,50,10,,16210,Jolg42,User,MEMBER,Jolg42,User,2022-11-09T20:51:24Z,2022-11-09T20:55:58Z,closed,,,,"This makes it possible to have an automated patch PR creation process.

TODO later: document in our processes in Notion

The current patch process failed in 
https://github.com/prisma/engines-wrapper/actions/runs/3430528305/jobs/5717604283
```
Error: Provided value 'patch' for input 'npmDistTag' not in the list of allowed values
```

This fixes this and adds automated PR creation for that patch version.",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/c4adec3_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/c4adec3_update-engines-version.yml,None,None,None,"@@ -6,12 +6,16 @@ on:
         description: 'Version to check and update the engines version'
         required: true
       npmDistTag:
-        description: 'npm tag used for `@prisma/engines-version` in prisma/engines-wrapper repo (`latest` or `integration`)'
+        description: 'npm tag used for `@prisma/engines-version` in prisma/engines-wrapper repo (`latest` or `integration` or `patch`)'
         required: true
         type: choice
         options:
           - latest
           - integration
+          - patch
+      # Only used when `npmDistTag` is `patch`            
+      patchBranch:
+        description: 'The name of the patch branch (e.g. `4.6.x`)'
 
 jobs:
   update_engines:
@@ -42,8 +46,8 @@ jobs:
           pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/engines-version -u ${{ github.event.inputs.version }}
 
       - name: Check if version of @prisma/prisma-fmt-wasm is available on npm
-        # Only run for `latest` npm tag, as @prisma/prisma-fmt-wasm doesn't currently release on the `integration` tag
-        if: github.event.inputs.npmDistTag == 'latest'
+        # Only run for `latest` and `patch` npm tag, as @prisma/prisma-fmt-wasm doesn't currently release on the `integration` tag
+        if: github.event.inputs.npmDistTag == 'latest' || github.event.inputs.npmDistTag == 'patch'
         run: |
           echo 'Checking that @prisma/prisma-fmt-wasm have the published version @${{ github.event.inputs.version }}'
           pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/prisma-fmt-wasm -u ${{ github.event.inputs.version }}
@@ -58,8 +62,8 @@ jobs:
             pnpm update -r @prisma/engines-version@${{ github.event.inputs.version }}
 
       - name: Update the dependencies (@prisma/prisma-fmt-wasm)
-        # Only run for `latest` npm tag, as @prisma/prisma-fmt-wasm doesn't currently release on the `integration` tag
-        if: github.event.inputs.npmDistTag == 'latest'
+        # Only run for `latest` and `patch` npm tag, as @prisma/prisma-fmt-wasm doesn't currently release on the `integration` tag
+        if: github.event.inputs.npmDistTag == 'latest' || github.event.inputs.npmDistTag == 'patch'
         uses: nick-fields/retry@v2
         with:
           timeout_minutes: 7
@@ -76,8 +80,10 @@ jobs:
             const hash = context.payload.inputs.version.split('.').pop()
             core.setOutput('hash', hash)
 
-      # ""Normal"" Engine PR
+      #  
+      # Regular engines PR, from prisma-engines main branch 
       # Will be automerged if tests are passing
+      #
       - name: Create Pull Request
         id: cpr
         if: github.event.inputs.npmDistTag == 'latest'
@@ -100,17 +106,14 @@ jobs:
             |`@prisma/prisma-fmt-wasm`| https://npmjs.com/package/@prisma/prisma-fmt-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
-
       - name: PR url
         if: github.event.inputs.npmDistTag == 'latest'
         run: |
           echo ""Pull Request URL - ${{ steps.cpr.outputs.pull-request-url }}""
-
       - name: Sleep for 5 seconds
         if: github.event.inputs.npmDistTag == 'latest'
         run: sleep 5s
         shell: bash
-
       - name: Auto approve Pull Request (to trigger automerge if tests passing)
         if: github.event.inputs.npmDistTag == 'latest' && steps.cpr.outputs.pull-request-operation == 'created'
         uses: juliangruber/approve-pull-request-action@v2
@@ -118,10 +121,12 @@ jobs:
           github-token: ${{ secrets.GITHUB_TOKEN }}
           number: ${{ steps.cpr.outputs.pull-request-number }}
 
+      #
       # Integration Engine PR for end to end testing (From prisma/prisma-engines to prisma/prisma and finally npm)
       # This will create a draft PR as we don't want to merge it
       # But we want to publish it to npm
       # For that we can create an `integration/` branch
+      #
       - name: Create Pull Request for Integration Engine
         id: cpr-integration
         if: github.event.inputs.npmDistTag == 'integration'
@@ -144,7 +149,42 @@ jobs:
             |`@prisma/prisma-fmt-wasm`| https://npmjs.com/package/@prisma/prisma-fmt-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
-
+      - name: PR url
+        if: github.event.inputs.npmDistTag == 'integration'
+        run: |
+          echo ""Pull Request URL - ${{ steps.cpr-integration.outputs.pull-request-url }}""
+          
+      #
+      # Patch Engine PR, from a prisma-engines patch branch (e.g. ""4.6.x"")
+      # This will create a draft PR as we don't want to merge it automatically
+      #
+      - name: Create Pull Request for Patch Engine
+        id: cpr-patch
+        if: github.event.inputs.npmDistTag == 'patch'
+        uses: peter-evans/create-pull-request@v4
+        with:
+          token: ${{ secrets.BOT_TOKEN }}
+          commit-message: 'chore(deps): update engines to ${{ github.event.inputs.version }}'
+          committer: 'Prismo <prismabots@gmail.com>'
+          author: 'Prismo <prismabots@gmail.com>'
+          base: ${{ github.event.inputs.patchBranch }}
+          branch: patch/${{ github.event.inputs.version }}
+          draft: true
+          title: 'chore(deps): patch ${{ github.event.inputs.patchBranch }} ${{ github.event.inputs.version }}'
+          body: |
+            This automatic PR updates the engines to version `${{ github.event.inputs.version }}`. This needs to be manually merged.
+            ## Packages
+            | Package | NPM URL |
+            |---------|---------|
+            |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
+            |`@prisma/prisma-fmt-wasm`| https://npmjs.com/package/@prisma/prisma-fmt-wasm/v/${{ github.event.inputs.version }}|
+            ## Engines commit
+            [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
+      - name: PR url
+        if: github.event.inputs.npmDistTag == 'patch'
+        run: |
+          echo ""Pull Request URL - ${{ steps.cpr-patch.outputs.pull-request-url }}""
+          
       - name: 'Set current job url in SLACK_FOOTER env var'
         if: ${{ failure() }}
         run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,f25213baa422cdaedc1c84a337008914f28cf536,08862d3db94299d2d73cf022bd30364113c19dd1,2022-11-09 12:17:14-10:00,"fix(client): middleware args consistency (#15897)

Co-authored-by: Daniel Starns <danielstarns@hotmail.com>",10,4.7.0,update-engines-version.yml,MODIFY,4,4,,15897,millsp,User,MEMBER,millsp,User,2022-10-20T00:47:58Z,2022-11-09T22:17:15Z,closed,topic: middleware,,,"Closes #15644

With this PR, we are fixing consistency issues in the shape of the arguments passed to middlewares. 

To put it shortly, if you use an aggregate query like count, groupBy, or aggregate, the args you get in middleware are not exactly the ones you pass.

The reason for that is that we’ve added some “sugar” on top of the TS interfaces for aggregates to improve the DX, in turn it means we are transforming a nicer input into something that is understood by the Query Engine. That’s what ends up being passed to the middleware.

The solution is to pass the initial user input to the middlewares, not the one we have pre-transformed for the Query Engine (that should always be a hidden detail).",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/f25213b_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/f25213b_update-engines-version.yml,0.9166666666666666,1.0,1.0,"@@ -77,8 +77,8 @@ jobs:
             const hash = context.payload.inputs.version.split('.').pop()
             core.setOutput('hash', hash)
 
-      #  
-      # Regular engines PR, from prisma-engines main branch 
+      #
+      # Regular engines PR, from prisma-engines main branch
       # Will be automerged if tests are passing
       #
       - name: Create Pull Request
@@ -150,7 +150,7 @@ jobs:
         if: github.event.inputs.npmDistTag == 'integration'
         run: |
           echo ""Pull Request URL - ${{ steps.cpr-integration.outputs.pull-request-url }}""
-          
+
       #
       # Patch Engine PR, from a prisma-engines patch branch (e.g. ""4.6.x"")
       # This will create a draft PR as we don't want to merge it automatically
@@ -190,7 +190,7 @@ jobs:
         if: github.event.inputs.npmDistTag == 'patch'
         run: |
           echo ""Pull Request URL - ${{ steps.cpr-patch.outputs.pull-request-url }}""
-          
+
       - name: 'Set current job url in SLACK_FOOTER env var'
         if: ${{ failure() }}
         run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,8e739640590ba7d58fa4c6a80d452a0d20ea4ea2,cabff2eede19afc3fe8f21788e79f11d759e9827,2022-11-14 16:36:34+01:00,chore(update-engines-version): update prisma-fmt-wasm for integration too (#16237),1,4.7.0,update-engines-version.yml,MODIFY,13,9,,16237,Jolg42,User,MEMBER,Jolg42,User,2022-11-11T11:31:59Z,2022-11-14T15:36:35Z,closed,,,,"https://www.npmjs.com/package/@prisma/prisma-fmt-wasm now publishes integration as well since we moved the publishing scripts to `prisma-engines` repo.
<img width=""640"" alt=""Screenshot 2022-11-11 at 12 23 28"" src=""https://user-images.githubusercontent.com/1328733/201331832-14c94caf-e766-495f-b087-5655d4b9e7e1.png"">
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/8e73964_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/8e73964_update-engines-version.yml,None,None,None,"@@ -42,9 +42,9 @@ jobs:
           echo 'Checking that @prisma/engines-version have the published version @${{ github.event.inputs.version }}'
           pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/engines-version -u ${{ github.event.inputs.version }}
 
+      # Note: @prisma/prisma-fmt-wasm might take a few minutes before it's available
+      # So expect to see a few automated retries happening in logs before it succeeds
       - name: Check if version of @prisma/prisma-fmt-wasm is available on npm
-        # Only run for `latest` and `patch` npm tag, as @prisma/prisma-fmt-wasm doesn't currently release on the `integration` tag
-        if: github.event.inputs.npmDistTag == 'latest' || github.event.inputs.npmDistTag == 'patch'
         run: |
           echo 'Checking that @prisma/prisma-fmt-wasm have the published version @${{ github.event.inputs.version }}'
           pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/prisma-fmt-wasm -u ${{ github.event.inputs.version }}
@@ -59,8 +59,6 @@ jobs:
             pnpm update -r @prisma/engines-version@${{ github.event.inputs.version }}
 
       - name: Update the dependencies (@prisma/prisma-fmt-wasm)
-        # Only run for `latest` and `patch` npm tag, as @prisma/prisma-fmt-wasm doesn't currently release on the `integration` tag
-        if: github.event.inputs.npmDistTag == 'latest' || github.event.inputs.npmDistTag == 'patch'
         uses: nick-fields/retry@v2
         with:
           timeout_minutes: 7
@@ -95,7 +93,10 @@ jobs:
           labels: automerge
           title: 'chore(deps): update engines to ${{ github.event.inputs.version }}'
           body: |
-            This automatic PR updates the engines to version `${{ github.event.inputs.version }}`. This will get automatically merged if all the tests pass.
+            The base branch for this PR is: main
+            This automatic PR updates the engines to version `${{ github.event.inputs.version }}`.
+            This will get automatically merged if all the tests pass.
+            :warning! If this PR needs to be updated, first remove the `automerge` label before pushing to avoid automerge to merge without waiting for tests.
             ## Packages
             | Package | NPM URL |
             |---------|---------|
@@ -138,7 +139,9 @@ jobs:
           draft: true
           title: 'chore(Automated Integration PR): update engines to ${{ github.event.inputs.version }}'
           body: |
-            This automatic integration PR updates the engines to version `${{ github.event.inputs.version }}`. This PR should normally not be merged.
+            The base branch for this PR is: main
+            This automatic integration PR updates the engines to version `${{ github.event.inputs.version }}`.
+            :warning: This PR should normally not be merged.
             ## Packages
             | Package | NPM URL |
             |---------|---------|
@@ -153,7 +156,7 @@ jobs:
 
       #
       # Patch Engine PR, from a prisma-engines patch branch (e.g. ""4.6.x"")
-      # This will create a draft PR as we don't want to merge it automatically
+      # This will create a PR that will need to be manually merged
       #
       - name: Extract patch branch name from version
         id: extract-patch-branch-name
@@ -175,10 +178,11 @@ jobs:
           author: 'Prismo <prismabots@gmail.com>'
           base: ${{ steps.extract-patch-branch-name.outputs.patchBranch }}
           branch: patch/${{ github.event.inputs.version }}
-          draft: true
           title: 'chore(deps): patch ${{ steps.extract-patch-branch-name.outputs.patchBranch }} ${{ github.event.inputs.version }}'
           body: |
-            This automatic PR updates the engines to version `${{ github.event.inputs.version }}`. This needs to be manually merged.
+            The base branch for this PR is: ${{ steps.extract-patch-branch-name.outputs.patchBranch }}
+            This automatic PR updates the engines to version `${{ github.event.inputs.version }}`.
+            This PR will need to be manually merged (no auto-merge).
             ## Packages
             | Package | NPM URL |
             |---------|---------|
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,070af8297202a3b5ea2cef654d8bb9960235f2d1,f36aae1c06b82dac4beb09ac44bf96477290af3c,2022-11-26 09:05:29-10:00,feat(client): client extensions query (#16408),20,4.7.0,test.yml,MODIFY,1,1,,16408,millsp,User,MEMBER,millsp,User,2022-11-23T02:48:21Z,2022-11-26T19:05:29Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/070af82_test.yml,../Mining/generated/scripts/prisma/files_src_after/070af82_test.yml,0.3647469458987784,0.93717277486911,0.7015706806282722,"@@ -1037,7 +1037,7 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          NODE_OPTIONS: '--max-old-space-size=10240' # allow Node.js to allocate at most 10gb of heap
+          NODE_OPTIONS: '--max-old-space-size=14336' # allow Node.js to allocate at most 14gb of heap
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
       - uses: codecov/codecov-action@v3
",True,True,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,fbe884c482d75c0d1b57f336f5bda1f9ea7cf72d,8d8a1ed62b11a8a98d2a6d104fe131d7347e405e,2022-11-28 12:01:24+01:00,"ci(no-docker client tests): lower --max-old-space-size for windows (#16485)

* ci(no-docker client tests): lower --max-old-space-size for linux and windows

* Update .github/workflows/test.yml

[skip ci]",1,4.7.0,test.yml,MODIFY,3,1,,16485,Jolg42,User,MEMBER,Jolg42,User,2022-11-28T09:45:52Z,2022-11-28T11:01:25Z,closed,,,,"https://prisma-company.slack.com/archives/CUXLS0Z6K/p1669489504119379

It's probably causing these errors during tests, like
```
memory allocation of 12000000 bytes failed
```
https://github.com/prisma/prisma/actions/runs/3553217177/jobs/5968608987#step:11:4326

We should not have the value higher than the actual available RAM on the runner
https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
```
Hardware specification for Windows and Linux virtual machines:

    2-core CPU (x86_64)
    7 GB of RAM
    14 GB of SSD space

Hardware specification for macOS virtual machines:

    3-core CPU (x86_64)
    14 GB of RAM
    14 GB of SSD space
```",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/fbe884c_test.yml,../Mining/generated/scripts/prisma/files_src_after/fbe884c_test.yml,None,None,None,"@@ -1037,7 +1037,9 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          NODE_OPTIONS: '--max-old-space-size=14336' # allow Node.js to allocate at most 14gb of heap
+          # allow Node.js to allocate at most 14GB of heap on macOS and 7GB on Windows
+          # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
+          NODE_OPTIONS: ""${{ matrix.os == 'macos-latest' && '--max-old-space-size=14336' || '--max-old-space-size=7168' }}""
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
       - uses: codecov/codecov-action@v3
",True,True,False,True,False,True,False
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,4b50f8ec9fb0c3065ed8e2e0896133b63869afd0,2c053299d1f857b3a599ca11eb0f6e58acf3f2b4,2022-11-28 22:34:21+01:00,"perf(client): Cache extensions computations (#16496)

* perf(client): Cache extensions computations

Replaces extensions array with a linked list of extensions
(`ExtensionsList` class). This class is also responsible for resolving
various computations we do when applying extensions:

- List of all client extension methods with naming conflicts resolved
- List of all model extensions (per model) with naming conflicts
  resolved
- List of all computed fields to apply to specific model (with all
  conflicts resolved)
- List of all query callbacks to call for each model/action combination.

There are number of performance advantages here:
- We never recompute what haven't changed: if user adds `client`
  extensions, we won't recompute all `result` depenencies. If user adds
  computed field to `Account` model, we won't recompute computed fields
  lists for all other models.
- We cache all computations: provided extension list didn't change we
  won't be computing the list of callbacks for `query` extensions or
  list or resoling computed fields for every request
- When we do recompute stuff, we usually do it in incremental steps. For
  example, if user has a fork with 10 extensions and adds 11th, we only
  apply this extension to previously computed result and won't traverse
  whole list of extensions.
- Because of the last point, it generally produces simpler code. See
  `getComputedFields` diff or all of the `apply*Extensions` methods.


Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",44,4.7.0,test.yml,MODIFY,3,2,,16496,SevInf,User,CONTRIBUTOR,SevInf,User,2022-11-28T14:05:37Z,2022-11-28T21:34:22Z,closed,,,,"Replaces extensions array with a linked list of extensions
(`MergedExtensionsList` class). This class is also responsible for resolving
various computations we do when applying extensions:

- List of all client extension methods with naming conflicts resolved
- List of all model extensions (per model) with naming conflicts
  resolved
- List of all computed fields to apply to specific model (with all
  conflicts resolved)
- List of all query callbacks to call for each model/action combination.

There are number of performance advantages here:
- We never recompute what haven't changed: if user adds `client`
  extensions, we won't recompute all `result` depenencies. If user adds
  computed field to `Account` model, we won't recompute computed fields
  lists for all other models.
- We cache all computations: provided extension list didn't change we
  won't be computing the list of callbacks for `query` extensions or
  list or resoling computed fields for every request
- When we do recompute stuff, we usually do it in incremental steps. For
  example, if user has a fork with 10 extensions and adds 11th, we only
  apply this extension to previously computed result and won't traverse
  whole list of extensions.
- Because of the last point, it generally produces simpler code. See
  `getComputedFields` diff or all of the `apply*Extensions` methods.
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/4b50f8e_test.yml,../Mining/generated/scripts/prisma/files_src_after/4b50f8e_test.yml,1.0,0.035175879396984924,0.0,"@@ -1037,9 +1037,10 @@ jobs:
           CI: true
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
-          # allow Node.js to allocate at most 14GB of heap on macOS and 7GB on Windows
+          # Allow Node.js to allocate at most a certain amount heap on macOS and a different amount on Windows
+          # Note that this value should be lower than the total amount of RAM available
           # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
-          NODE_OPTIONS: ""${{ matrix.os == 'macos-latest' && '--max-old-space-size=14336' || '--max-old-space-size=7168' }}""
+          NODE_OPTIONS: ""${{ matrix.os == 'macos-latest' && '--max-old-space-size=14336' || '--max-old-space-size=3072' }}""
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
 
       - uses: codecov/codecov-action@v3
",True,True,False,True,False,True,False
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,203ea6c766171d567ee75ef62f25ac76b6816c15,ca98e87dda8458d7d29469a08df2ff8eba8b08d0,2022-11-30 19:14:02+01:00,"ci(GitHub Actions): Shard `no-docker` tests  (#16509)

* chore(ci): shard no-docker tests

Uses new jest feature which allows to shard test suite by the machine.
It's used on functional test suite for no-docker jobs.

* Update .github/workflows/test.yml

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* Update .github/workflows/test.yml

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* Update .github/workflows/test.yml

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* Update .github/workflows/test.yml

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",2,4.8.0,test.yml,MODIFY,71,2,,16509,SevInf,User,CONTRIBUTOR,SevInf,User,2022-11-28T21:27:34Z,2022-11-30T18:14:02Z,closed,,,,"Uses new jest feature which allows to shard test suite by the machine.
It's used on functional test suite for no-docker jobs.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/203ea6c_test.yml,../Mining/generated/scripts/prisma/files_src_after/203ea6c_test.yml,0.0,0.0,1.0,"@@ -957,6 +957,75 @@ jobs:
   # (PostgreSQL and MongoDB are provided by GitHub Actions out of the box), and
   # minimize the time spent waiting for a free runner.
   #
+  no-docker-client-functional:
+    timeout-minutes: 40
+    runs-on: ${{ matrix.os }}
+    strategy:
+      fail-fast: false
+      matrix:
+        os: [macos-latest, windows-latest]
+        node: [14]
+        queryEngine: ['library', 'binary']
+        shard: ['1', '2']
+
+    needs: detect_jobs_to_run
+    if: |
+      ${{
+        contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') ||
+        contains(needs.detect_jobs_to_run.outputs.jobs, '-client-')
+      }}
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Prerequisites
+        shell: bash
+        run: |
+          echo ""TEST_SKIP_MSSQL=true"" >> $GITHUB_ENV
+          echo ""TEST_SKIP_MONGODB=true"" >> $GITHUB_ENV
+          echo ""TEST_SKIP_COCKROACHDB=true"" >> $GITHUB_ENV
+          echo ""TEST_MONGO_URI_MIGRATE=mongodb://localhost:27017/tests-migrate"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - name: Set up PostgreSQL
+        run: bash .github/workflows/scripts/setup-postgres.sh
+
+      - name: Set up MySQL
+        run: bash .github/workflows/scripts/setup-mysql.sh
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - name: Test packages/client
+        run: pnpm run test:functional:code --shard=${{matrix.shard}}/2
+        working-directory: packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          # allow Node.js to allocate at most 14GB of heap on macOS and 7GB on Windows
+          # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
+          NODE_OPTIONS: ""${{ matrix.os == 'macos-latest' && '--max-old-space-size=14336' || '--max-old-space-size=7168' }}""
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/client/src/__tests__/coverage/clover.xml
+          flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: client-functional-${{ matrix.os }}-${{ matrix.queryEngine }}
+
   no-docker:
     timeout-minutes: 40
     runs-on: ${{ matrix.os }}
@@ -1029,9 +1098,9 @@ jobs:
           flags: internals,${{ matrix.os }},${{ matrix.queryEngine }}
           name: internals-${{ matrix.os }}-${{ matrix.queryEngine }}
 
-      - name: Test packages/client
+      - name: Test packages/client (old suite)
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-        run: pnpm run test:functional:code && pnpm run test-notypes --testTimeout=40000
+        run: pnpm run test-notypes --testTimeout=40000
         working-directory: packages/client
         env:
           CI: true
",True,True,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,6116ab19fcd3117e71b7474cf441b9ed7771c5a8,73a5ffe2e5b628294a67aac93c184a201d278cad,2022-12-01 12:07:07+01:00,"ci(gh-tests): replace ubuntu-latest by ubuntu-20.04 (#16573)

We have tests failing because of the upgrade, see
https://github.com/prisma/prisma/pull/16572",1,4.8.0,test.yml,MODIFY,9,9,,16573,Jolg42,User,MEMBER,Jolg42,User,2022-12-01T11:06:48Z,2022-12-01T11:07:07Z,closed,,,,"We have tests failing because of the upgrade, see
https://github.com/prisma/prisma/pull/16572",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/6116ab1_test.yml,../Mining/generated/scripts/prisma/files_src_after/6116ab1_test.yml,None,None,None,"@@ -52,7 +52,7 @@ env:
 jobs:
   detect_jobs_to_run:
     name: Detect jobs to run
-    runs-on: ubuntu-latest
+    runs-on: ubuntu-20.04
     outputs:
       jobs: ${{ steps.detect.outputs.jobs }}
     steps:
@@ -71,7 +71,7 @@ jobs:
   # which is a common feature in most CI systems but currently not possible with GitHub actions.
   cleanup-runs:
     continue-on-error: true
-    runs-on: ubuntu-latest
+    runs-on: ubuntu-20.04
     if: ""!startsWith(github.ref, 'refs/tags/') && github.ref != 'refs/heads/main' && !contains(github.actor, 'renovate')""
     steps:
       - uses: fkirc/skip-duplicate-actions@v5
@@ -83,7 +83,7 @@ jobs:
   #
   lint:
     timeout-minutes: 7
-    runs-on: ubuntu-latest
+    runs-on: ubuntu-20.04
 
     steps:
       - uses: actions/checkout@v3
@@ -129,7 +129,7 @@ jobs:
       matrix:
         # os: [buildjet-4vcpu-ubuntu-2004]
         relationMode: ['', 'foreignKeys', 'prisma']
-        os: [ubuntu-latest]
+        os: [ubuntu-20.04]
         node: [16]
 
     env:
@@ -530,7 +530,7 @@ jobs:
   #
   integration-tests:
     timeout-minutes: 20
-    runs-on: ubuntu-latest
+    runs-on: ubuntu-20.04
 
     needs: detect_jobs_to_run
     if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-integration-tests-') }}
@@ -613,7 +613,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
-        os: [ubuntu-latest]
+        os: [ubuntu-20.04]
         node: [16, 18]
 
     steps:
@@ -685,7 +685,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
-        os: [ubuntu-latest]
+        os: [ubuntu-20.04]
         node: [16, 18]
 
     steps:
@@ -767,7 +767,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
-        os: [ubuntu-latest]
+        os: [ubuntu-20.04]
         node: [16, 18]
 
     env:
@@ -826,7 +826,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        os: [ubuntu-latest]
+        os: [ubuntu-20.04]
         node: [16, 18]
 
     steps:
",True,True,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,3caf4001a3890dcdf6034e96bae843df87e163cd,7cadc37cdf243c4638e351ce9055097322f5511c,2022-12-01 14:15:38+01:00,ci(gh): stop sharding no-docker-client-functional (#16578),1,4.8.0,test.yml,MODIFY,8,2,,16578,Jolg42,User,MEMBER,Jolg42,User,2022-12-01T12:35:13Z,2022-12-01T13:15:38Z,closed,,,,"follows https://github.com/prisma/prisma/pull/16509

Because we still have limited capacity for macOS runners That causes a good amount of queuing
When we have more capacity we can shard them again

Before
""no-docker""
- 2 macOS runners
- 2 Windows runners

""no-docker-client-functional""
- 4 macOS runners
- 4 Windows runners
https://github.com/prisma/prisma/actions/runs/3585589228/usage
<img width=""955"" alt=""Screenshot 2022-12-01 at 14 00 04"" src=""https://user-images.githubusercontent.com/1328733/205059243-18a70cbd-3769-4d5e-9712-f5bf223cca13.png"">


After
""no-docker""
- 2 macOS runners
- 2 Windows runners

""no-docker-client-functional""
- 2 macOS runners
- 2 Windows runners
https://github.com/prisma/prisma/actions/runs/3592641588/usage
<img width=""951"" alt=""Screenshot 2022-12-01 at 14 14 42"" src=""https://user-images.githubusercontent.com/1328733/205062054-7e65416e-f3b2-4b04-a38c-569d8fe16fc0.png"">
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/3caf400_test.yml,../Mining/generated/scripts/prisma/files_src_after/3caf400_test.yml,None,None,None,"@@ -966,7 +966,9 @@ jobs:
         os: [macos-latest, windows-latest]
         node: [14]
         queryEngine: ['library', 'binary']
-        shard: ['1', '2']
+        # Commented out as we still have limited capacity for macOS runners
+        # When we have more capacity we can shard again
+        # shard: ['1', '2']
 
     needs: detect_jobs_to_run
     if: |
@@ -1009,7 +1011,11 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - name: Test packages/client
-        run: pnpm run test:functional:code --shard=${{matrix.shard}}/2
+        # Commented out as we still have limited capacity for macOS runners
+        # When we have more capacity we can shard again
+        # run: pnpm run test:functional:code --shard=${{matrix.shard}}/2
+        # No shard:
+        run: pnpm run test:functional:code
         working-directory: packages/client
         env:
           CI: true
",True,True,False,True,False,True,False
prisma,Alexey Orlenko,User,alex@aqrln.net,GitHub,User,noreply@github.com,a94ca96acc34f5b2e488b32931fe2801f09a1160,3caf4001a3890dcdf6034e96bae843df87e163cd,2022-12-01 18:39:44+01:00,chore: update back to ubuntu-latest on CI (#16575),3,4.8.0,test.yml,MODIFY,9,9,,16575,aqrln,User,MEMBER,Jolg42,User,2022-12-01T11:30:24Z,2022-12-01T17:39:45Z,closed,,,,"* Revert ""ci(gh-tests): replace ubuntu-latest by ubuntu-20.04 (#16573)""

* Bump commit hash in Version.test.ts to 4.7.0 (old commit hash points at a version before OpenSSL 3 support)

*  Add `darwin-arm64` and `debian-openssl-3.0.x` to `binaryTargets` in `getGenerators.test.ts`
   - `darwin-arm64` fixes the test failing locally on Apple M1 mac
   - `debian-openssl-3.0.x` fixes the test failing on CI on ubuntu-latest
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/a94ca96_test.yml,../Mining/generated/scripts/prisma/files_src_after/a94ca96_test.yml,0.0,1.0,1.0,"@@ -52,7 +52,7 @@ env:
 jobs:
   detect_jobs_to_run:
     name: Detect jobs to run
-    runs-on: ubuntu-20.04
+    runs-on: ubuntu-latest
     outputs:
       jobs: ${{ steps.detect.outputs.jobs }}
     steps:
@@ -71,7 +71,7 @@ jobs:
   # which is a common feature in most CI systems but currently not possible with GitHub actions.
   cleanup-runs:
     continue-on-error: true
-    runs-on: ubuntu-20.04
+    runs-on: ubuntu-latest
     if: ""!startsWith(github.ref, 'refs/tags/') && github.ref != 'refs/heads/main' && !contains(github.actor, 'renovate')""
     steps:
       - uses: fkirc/skip-duplicate-actions@v5
@@ -83,7 +83,7 @@ jobs:
   #
   lint:
     timeout-minutes: 7
-    runs-on: ubuntu-20.04
+    runs-on: ubuntu-latest
 
     steps:
       - uses: actions/checkout@v3
@@ -129,7 +129,7 @@ jobs:
       matrix:
         # os: [buildjet-4vcpu-ubuntu-2004]
         relationMode: ['', 'foreignKeys', 'prisma']
-        os: [ubuntu-20.04]
+        os: [ubuntu-latest]
         node: [16]
 
     env:
@@ -530,7 +530,7 @@ jobs:
   #
   integration-tests:
     timeout-minutes: 20
-    runs-on: ubuntu-20.04
+    runs-on: ubuntu-latest
 
     needs: detect_jobs_to_run
     if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-integration-tests-') }}
@@ -613,7 +613,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
-        os: [ubuntu-20.04]
+        os: [ubuntu-latest]
         node: [16, 18]
 
     steps:
@@ -685,7 +685,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
-        os: [ubuntu-20.04]
+        os: [ubuntu-latest]
         node: [16, 18]
 
     steps:
@@ -767,7 +767,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
-        os: [ubuntu-20.04]
+        os: [ubuntu-latest]
         node: [16, 18]
 
     env:
@@ -826,7 +826,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        os: [ubuntu-20.04]
+        os: [ubuntu-latest]
         node: [16, 18]
 
     steps:
",True,True,False,True,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,d7c5ae847ac12d60fc2d003b11903266a18b3d8e,b51829ba814fc381e6c78ece87a0ead424cbcea1,2023-01-13 13:27:35-10:00,"chore(tests): e2e improvements (#17310)

* rename ecosystem to e2e

* rename utils folder

* improve cli for starting tests

* add hook for buildkite

* remove comment

* simplify skip build feature

* fix renamed path

* use github action instead

* add setup phase

* make e2e tests verbose

* attempt rename _example to example

* display how many tests passed

* remove --build in favor of --skipBuild

* add a way to cleanup files that cannot be removed on linux",22,4.9.0,test.yml,MODIFY,45,0,,17310,millsp,User,MEMBER,millsp,User,2023-01-13T20:00:35Z,2023-01-13T23:27:36Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/d7c5ae8_test.yml,../Mining/generated/scripts/prisma/files_src_after/d7c5ae8_test.yml,0.0,1.0,1.0,"@@ -197,6 +197,51 @@ jobs:
         run: pnpm run test:functional:code --relation-mode-tests-only relationMode/tests_m-to-n-MongoDB.ts
         working-directory: packages/client
 
+  #
+  # CLIENT test:e2e
+  #
+  client-e2e:
+    timeout-minutes: 15
+    runs-on: ${{ matrix.os }}
+
+    needs: detect_jobs_to_run
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        os: [ubuntu-latest]
+        node: [16]
+
+    steps:
+      - uses: actions/checkout@v3
+
+      # Not currently needed, but we might need it in the future
+      # - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run test:e2e --verbose
+        working-directory: packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          NODE_OPTIONS: '--max-old-space-size=8096'
+
   #
   # CLIENT (without types test)
   #
",True,True,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,0c569d30cd68e2694f80794ed2ed4669df00239e,9fefd6e35412e2c1aaf11596011ec75bebb86ee1,2023-01-23 15:10:01+01:00,ci(GitHub): remove deprecated `::set-output` (#17423),2,4.10.0,test.yml,MODIFY,2,2,,17423,Jolg42,User,MEMBER,Jolg42,User,2023-01-19T14:24:17Z,2023-01-23T14:10:01Z,closed,,,,"Before: https://github.com/prisma/prisma/actions/runs/3959050813
<img width=""1559"" alt=""Screenshot 2023-01-19 at 15 24 30"" src=""https://user-images.githubusercontent.com/1328733/213467332-08425840-bdfd-4e39-826f-a42bbbb4a9f7.png"">

After:
<img width=""768"" alt=""Screenshot 2023-01-23 at 12 12 45"" src=""https://user-images.githubusercontent.com/1328733/214025989-744ff6e7-61da-468f-8210-2ba67dd2645b.png"">
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/0c569d3_test.yml,../Mining/generated/scripts/prisma/files_src_after/0c569d3_test.yml,0.0,0.0,1.0,"@@ -59,7 +59,7 @@ jobs:
       - id: checkout
         uses: actions/checkout@v3
       - id: files
-        uses: Ana06/get-changed-files@v1.2 # it's a fork of jitterbit/get-changed-files@v1 which works better with pull requests
+        uses: Ana06/get-changed-files@v2.2.0 # it's a fork of jitterbit/get-changed-files@v1 which works better with pull requests
         with:
           format: 'json'
       - id: detect
@@ -488,7 +488,7 @@ jobs:
                 message: `Add memory results for PR ${context.issue.number}`,
                 content: fs.readFileSync(localReport, 'base64'),
               });
-              console.log(`::set-output name=url::${url}`)
+              core.setOutput('url', url);
             }
 
       - name: Find report comment
",True,True,False,True,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,b644302a92ceb107eff552558cdbad6f96a741b7,c70940dabff16ce46365a8442b1af841fcfc48d2,2023-01-27 05:37:45-10:00,"ci(test): Run test ""At every 15th minute past every hour from 3 through 5."" (#17577)",1,4.10.0,test.yml,MODIFY,3,1,,17577,janpio,User,MEMBER,millsp,User,2023-01-27T14:53:39Z,2023-01-27T15:37:46Z,closed,,,,Explanation of the crontab syntax: https://crontab.guru/#*/15_3-5_*_*_*,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/b644302_test.yml,../Mining/generated/scripts/prisma/files_src_after/b644302_test.yml,None,None,None,"@@ -42,7 +42,9 @@ on:
       - '*.bench.ts'
       - 'scripts/ci/publish.ts'
       - 'graphs/**'
-
+  schedule:
+    - cron: ""*/15 3-5 * * *""
+  
 env:
   HAS_BUILDPULSE_SECRETS: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID != '' && secrets.BUILDPULSE_SECRET_ACCESS_KEY != '' }}
   PRISMA_TELEMETRY_INFORMATION: 'prisma test.yml'
",True,True,False,True,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,a9ad98d697a3077cb5681acf850f92c8ab94ba32,f83bc71e8fdeacfe42b970cc67cb44250fb435b6,2023-01-30 11:14:26+01:00,"ci: continue when Ana06/get-changed-files step fails (#17596)

* ci: Continue when Ana06/get-changed-files fails

Turns out this action in this step can not real with scheduled runs:

```
Run Ana06/get-changed-files@v2.2.0
  with:
    format: json
    token: ***
    filter: *
  env:
    HAS_BUILDPULSE_SECRETS: true
    PRISMA_TELEMETRY_INFORMATION: prisma test.yml
    PRISMA_HIDE_UPDATE_MESSAGE: true
Error: This action only supports pull requests and pushes, schedule events are not supported. Please submit an issue on this action's GitHub repo if you believe this in correct.
Base commit: undefined
Head commit: undefined
Error: The base and head commits are missing from the payload for this schedule event. Please submit an issue on this action's GitHub repo.
Error: Not Found
```

via https://github.com/prisma/prisma/actions/runs/4029879690/jobs/6928157785

This change should make the next step to run anyway, which would then decide to run _all_ the tests, as intended.

* Update .github/workflows/test.yml",1,4.10.0,test.yml,MODIFY,1,0,,17596,janpio,User,MEMBER,Jolg42,User,2023-01-28T03:54:41Z,2023-01-30T10:14:26Z,closed,,,,"Turns out this action in this step can not real with scheduled runs:

```
Run Ana06/get-changed-files@v2.2.0
  with:
    format: json
    token: ***
    filter: *
  env:
    HAS_BUILDPULSE_SECRETS: true
    PRISMA_TELEMETRY_INFORMATION: prisma test.yml
    PRISMA_HIDE_UPDATE_MESSAGE: true
Error: This action only supports pull requests and pushes, schedule events are not supported. Please submit an issue on this action's GitHub repo if you believe this in correct.
Base commit: undefined
Head commit: undefined
Error: The base and head commits are missing from the payload for this schedule event. Please submit an issue on this action's GitHub repo.
Error: Not Found
```

via https://github.com/prisma/prisma/actions/runs/4029879690/jobs/6928157785

This change should make the next step to run anyway, which would then decide to run _all_ the tests, as intended.

Docs on used property: https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idstepscontinue-on-error",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/a9ad98d_test.yml,../Mining/generated/scripts/prisma/files_src_after/a9ad98d_test.yml,None,None,None,"@@ -64,6 +64,7 @@ jobs:
         uses: Ana06/get-changed-files@v2.2.0 # it's a fork of jitterbit/get-changed-files@v1 which works better with pull requests
         with:
           format: 'json'
+        continue-on-error: true # This allow this job to fail (e.g. for scheduled runs), and then the `detect` step below will default to `all`
       - id: detect
         run: ./.github/workflows/scripts/detect-jobs-to-run.js <<<'${{ steps.files.outputs.all }}'
 
",True,True,False,True,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,4cd9f57fd414c5ffb1db5602e4634d908b3caf8a,b6ec908559b9a397495a568ca1526b0210504e32,2023-01-30 07:53:53-10:00,"feat(client): custom fetch for extensions (#17356)

Co-authored-by: Sergey Tatarintsev <tatarintsev@prisma.io>",16,4.10.0,test.yml,MODIFY,2,2,,17356,millsp,User,MEMBER,millsp,User,2023-01-16T23:48:37Z,2023-01-30T17:53:54Z,closed,,,,"Mainly fixes https://github.com/prisma/client-planning/issues/211
Closes https://github.com/prisma/client-planning/issues/224
Opportunistically fixes https://github.com/prisma/prisma/issues/17349
Opportunistically fixes https://github.com/prisma/prisma/issues/17563
Opportunistically fixes https://github.com/prisma/client-planning/issues/221",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/4cd9f57_test.yml,../Mining/generated/scripts/prisma/files_src_after/4cd9f57_test.yml,0.8440366972477065,1.0,1.0,"@@ -43,8 +43,8 @@ on:
       - 'scripts/ci/publish.ts'
       - 'graphs/**'
   schedule:
-    - cron: ""*/15 3-5 * * *""
-  
+    - cron: '*/15 3-5 * * *'
+
 env:
   HAS_BUILDPULSE_SECRETS: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID != '' && secrets.BUILDPULSE_SECRET_ACCESS_KEY != '' }}
   PRISMA_TELEMETRY_INFORMATION: 'prisma test.yml'
",True,True,False,True,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,19ed328dc4fe854e2047959817edf8751893afde,8ad76c3e04bd3d037e2258b6219d062d863ee00c,2023-02-02 10:19:05+01:00,test(client):  relationMode - repro #17255 (#17653),32,4.10.0,test.yml,MODIFY,133,130,,17653,Jolg42,User,MEMBER,Jolg42,User,2023-01-31T15:27:53Z,2023-02-02T09:19:06Z,closed,,,,https://github.com/prisma/prisma/issues/17255,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/19ed328_test.yml,../Mining/generated/scripts/prisma/files_src_after/19ed328_test.yml,0.27114427860696516,1.0,1.0,"@@ -118,134 +118,6 @@ jobs:
       - run: pnpm run lint && pnpm run check-engines-override
         working-directory: ./
 
-  #
-  # CLIENT test:functional relationMode
-  #
-  client-relationMode:
-    timeout-minutes: 60
-    runs-on: ${{ matrix.os }}
-
-    needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-
-    strategy:
-      fail-fast: false
-      matrix:
-        # os: [buildjet-4vcpu-ubuntu-2004]
-        relationMode: ['', 'foreignKeys', 'prisma']
-        os: [ubuntu-latest]
-        node: [16]
-
-    env:
-      CI: true
-      SKIP_GIT: true
-      GITHUB_CONTEXT: ${{ toJson(github) }}
-      TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-      TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-      TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-      TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
-      TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-      TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
-      TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
-      TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
-      TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
-      TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
-      TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
-      TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
-      TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-      TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
-      TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
-      NODE_OPTIONS: '--max-old-space-size=8096'
-
-    steps:
-      - uses: actions/checkout@v3
-
-      - name: Set RELATION_MODE custom test env var
-        run: |
-          echo ""RELATION_MODE=${{ matrix.relationMode }}""
-          if [ ! -z ""${{ matrix.relationMode }}"" ]; then echo ""RELATION_MODE=${{ matrix.relationMode }}"" >> $GITHUB_ENV; fi
-
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
-
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: 7
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      # shouldn't take more than 15 minutes
-      - name: 1 to 1
-        run: pnpm run test:functional:code --relation-mode-tests-only relationMode/tests_1-to-1.ts
-        working-directory: packages/client
-
-      # shouldn't take more than 15 minutes
-      - name: 1 to n
-        run: pnpm run test:functional:code --relation-mode-tests-only relationMode/tests_1-to-n.ts
-        working-directory: packages/client
-
-      # shouldn't take more than 15 minutes
-      - name: m to n (SQL databases)
-        run: pnpm run test:functional:code --relation-mode-tests-only relationMode/tests_m-to-n.ts
-        working-directory: packages/client
-
-      - name: m to n (MongoDB)
-        run: pnpm run test:functional:code --relation-mode-tests-only relationMode/tests_m-to-n-MongoDB.ts
-        working-directory: packages/client
-
-  #
-  # CLIENT test:e2e
-  #
-  client-e2e:
-    timeout-minutes: 15
-    runs-on: ${{ matrix.os }}
-
-    needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-
-    strategy:
-      fail-fast: false
-      matrix:
-        os: [ubuntu-latest]
-        node: [16]
-
-    steps:
-      - uses: actions/checkout@v3
-
-      # Not currently needed, but we might need it in the future
-      # - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
-
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: 7
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - run: pnpm run test:e2e --verbose
-        working-directory: packages/client
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          NODE_OPTIONS: '--max-old-space-size=8096'
-
   #
   # CLIENT (without types test)
   #
@@ -280,6 +152,7 @@ jobs:
       TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
       TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
       TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
+      TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
       TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
       TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
       TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
@@ -306,7 +179,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb vitess-8
 
       - uses: pnpm/action-setup@v2.2.4
         with:
@@ -363,7 +236,7 @@ jobs:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
 
       - uses: pnpm/action-setup@v2.2.4
         with:
@@ -388,6 +261,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
           TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
+          TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
           TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
           TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
           TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
@@ -401,6 +275,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
           TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
+          TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
           TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
           TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
           TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
@@ -528,6 +403,133 @@ jobs:
             ✅ Success
           edit-mode: replace
 
+  #
+  # CLIENT test:e2e
+  #
+  client-e2e:
+    timeout-minutes: 15
+    runs-on: ${{ matrix.os }}
+
+    needs: detect_jobs_to_run
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        os: [ubuntu-latest]
+        node: [16]
+
+    steps:
+      - uses: actions/checkout@v3
+
+      # Not currently needed, but we might need it in the future
+      # - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run test:e2e --verbose
+        working-directory: packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          NODE_OPTIONS: '--max-old-space-size=8096'
+
+  #
+  # CLIENT test:functional:code --relation-mode-tests-only for `relationMode-in-separate-gh-action` tests
+  #
+  client-relationMode:
+    timeout-minutes: 60
+    runs-on: ${{ matrix.os }}
+
+    needs: detect_jobs_to_run
+    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        relationMode: ['', 'foreignKeys', 'prisma']
+        os: [ubuntu-latest]
+        node: [16]
+
+    env:
+      CI: true
+      SKIP_GIT: true
+      GITHUB_CONTEXT: ${{ toJson(github) }}
+      TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+      TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+      TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
+      TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
+      TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+      TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
+      TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
+      TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
+      TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
+      TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
+      TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
+      TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
+      TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+      TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
+      TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
+      NODE_OPTIONS: '--max-old-space-size=8096'
+
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Set RELATION_MODE custom test env var
+        run: |
+          echo ""RELATION_MODE=${{ matrix.relationMode }}""
+          if [ ! -z ""${{ matrix.relationMode }}"" ]; then echo ""RELATION_MODE=${{ matrix.relationMode }}"" >> $GITHUB_ENV; fi
+
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      # shouldn't take more than 15 minutes
+      - name: 1 to 1
+        run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_1-to-1.ts
+        working-directory: packages/client
+
+      # shouldn't take more than 15 minutes
+      - name: 1 to n
+        run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_1-to-n.ts
+        working-directory: packages/client
+
+      # shouldn't take more than 15 minutes
+      - name: m to n (SQL databases)
+        run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_m-to-n.ts
+        working-directory: packages/client
+
+      - name: m to n (MongoDB)
+        run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_m-to-n-MongoDB.ts
+        working-directory: packages/client
+
   #
   # CLIENT (types tests only)
   #
@@ -1034,6 +1036,7 @@ jobs:
           echo ""TEST_SKIP_MSSQL=true"" >> $GITHUB_ENV
           echo ""TEST_SKIP_MONGODB=true"" >> $GITHUB_ENV
           echo ""TEST_SKIP_COCKROACHDB=true"" >> $GITHUB_ENV
+          echo ""TEST_SKIP_VITESS=true"" >> $GITHUB_ENV
           echo ""TEST_MONGO_URI_MIGRATE=mongodb://localhost:27017/tests-migrate"" >> $GITHUB_ENV
           echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
",True,True,False,True,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,dfa08ba820aae0aa1e987bd32e5f8725bb6b58a6,b70f3a52fedb9b36cac6031e2e56d13c8d70f1b9,2023-02-09 14:31:44-10:00,ci: enable buildpulse for client tests (#17826),3,4.11.0,test.yml,MODIFY,92,1,,17826,millsp,User,MEMBER,millsp,User,2023-02-09T00:19:12Z,2023-02-10T00:31:45Z,closed,,,,TODO: As a bonus I'd like to move repetitive config to a separate file,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/dfa08ba_test.yml,../Mining/generated/scripts/prisma/files_src_after/dfa08ba_test.yml,1.0,0.0,0.0,"@@ -158,6 +158,8 @@ jobs:
       TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
       TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
       NODE_OPTIONS: '--max-old-space-size=8096'
+      JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+      JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
     steps:
       - uses: actions/checkout@v3
@@ -208,6 +210,24 @@ jobs:
           flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
           name: client-${{ matrix.os }}-${{ matrix.queryEngine }}
 
+      - name: Upload test results to BuildPulse for flaky test detection
+        # Only run this step for branches where we have access to secrets.
+        # Run this step even when the tests fail. Skip if the workflow is cancelled.
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled()
+        uses: Workshop64/buildpulse-action@main
+        with:
+          account: 17219288
+          repository: 192925833
+          path: packages
+          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
+          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
+
+      - uses: actions/upload-artifact@v3
+        if: always()
+        with:
+          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_dataproxy_junit.xml
+          path: packages/*/junit*.xml
+
   #
   # CLIENT (functional tests with mini-proxy)
   #
@@ -267,6 +287,8 @@ jobs:
           TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
           TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
           NODE_OPTIONS: '--max-old-space-size=8096'
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/dataproxy'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - run: pnpm run test:functional --data-proxy --edge-client
         working-directory: packages/client
@@ -281,6 +303,8 @@ jobs:
           TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
           TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
           NODE_OPTIONS: '--max-old-space-size=8096'
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/dataproxy'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
         with:
@@ -288,6 +312,24 @@ jobs:
           flags: client,${{ matrix.os }},dataproxy
           name: client-${{ matrix.os }}-dataproxy
 
+      - name: Upload test results to BuildPulse for flaky test detection
+        # Only run this step for branches where we have access to secrets.
+        # Run this step even when the tests fail. Skip if the workflow is cancelled.
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled()
+        uses: Workshop64/buildpulse-action@main
+        with:
+          account: 17219288
+          repository: 192925833
+          path: packages
+          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
+          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
+
+      - uses: actions/upload-artifact@v3
+        if: always()
+        with:
+          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_dataproxy_junit.xml
+          path: packages/*/junit*.xml
+
   #
   # CLIENT (memory tests)
   #
@@ -486,6 +528,8 @@ jobs:
       TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
       TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
       NODE_OPTIONS: '--max-old-space-size=8096'
+      JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+      JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
     steps:
       - uses: actions/checkout@v3
@@ -531,6 +575,24 @@ jobs:
         run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_m-to-n-MongoDB.ts
         working-directory: packages/client
 
+      - name: Upload test results to BuildPulse for flaky test detection
+        # Only run this step for branches where we have access to secrets.
+        # Run this step even when the tests fail. Skip if the workflow is cancelled.
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled()
+        uses: Workshop64/buildpulse-action@main
+        with:
+          account: 17219288
+          repository: 192925833
+          path: packages
+          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
+          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
+
+      - uses: actions/upload-artifact@v3
+        if: always()
+        with:
+          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
+          path: packages/*/junit*.xml
+
   #
   # CLIENT (types tests only)
   #
@@ -1078,6 +1140,7 @@ jobs:
           # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
           NODE_OPTIONS: ""${{ matrix.os == 'macos-latest' && '--max-old-space-size=14336' || '--max-old-space-size=7168' }}""
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
         with:
@@ -1085,6 +1148,24 @@ jobs:
           flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
           name: client-functional-${{ matrix.os }}-${{ matrix.queryEngine }}
 
+      - name: Upload test results to BuildPulse for flaky test detection
+        # Only run this step for branches where we have access to secrets.
+        # Run this step even when the tests fail. Skip if the workflow is cancelled.
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled()
+        uses: Workshop64/buildpulse-action@main
+        with:
+          account: 17219288
+          repository: 192925833
+          path: packages
+          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
+          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
+
+      - uses: actions/upload-artifact@v3
+        if: always()
+        with:
+          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
+          path: packages/*/junit*.xml
+
   no-docker:
     timeout-minutes: 40
     runs-on: ${{ matrix.os }}
@@ -1149,6 +1230,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/internals/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }} || contains(needs.detect_jobs_to_run.outputs.jobs, '-internals-') }}
@@ -1170,6 +1252,7 @@ jobs:
           # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
           NODE_OPTIONS: ""${{ matrix.os == 'macos-latest' && '--max-old-space-size=14336' || '--max-old-space-size=3072' }}""
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
@@ -1187,6 +1270,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/migrate/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') }}
@@ -1204,6 +1288,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/cli/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-') }}
@@ -1221,6 +1306,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/debug/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
@@ -1238,6 +1324,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/engine-core/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
@@ -1255,6 +1342,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/generator-helper/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
@@ -1272,6 +1360,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/get-platform/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
@@ -1289,6 +1378,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/fetch-engine/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
@@ -1306,6 +1396,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/engines/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
@@ -1330,4 +1421,4 @@ jobs:
         if: always()
         with:
           name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
-          path: packages/*/junit.xml
+          path: packages/*/junit*.xml
",True,True,False,True,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,c864e2d1efa2293ae2feb7c7c2af1176b56fb26c,2cf6b57b498c595b0973605aaa0ea8f9029266f2,2023-02-20 10:34:06+01:00,"ci: only trigger buildpulse steps on schedule (#17979)

* ci: only trigger buildkite steps on schedule

* remove useless expression code",1,4.11.0,test.yml,MODIFY,10,10,,17979,millsp,User,MEMBER,jkomyno,User,2023-02-18T01:52:11Z,2023-02-20T09:34:06Z,closed,,,,"Since we are way over the quotas, BuildPulse is currently discarding a lot of the received test results, which defeats the purpose of tracking flaky tests. Since tracking flaky tests on PRs isn't strictly necessary, and since we have a scheduled workflow every day just for that, we can disable BuildPulse on PRs.
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/c864e2d_test.yml,../Mining/generated/scripts/prisma/files_src_after/c864e2d_test.yml,None,None,None,"@@ -213,7 +213,7 @@ jobs:
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled()
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && github.event_name == 'schedule'
         uses: Workshop64/buildpulse-action@main
         with:
           account: 17219288
@@ -223,7 +223,7 @@ jobs:
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
       - uses: actions/upload-artifact@v3
-        if: always()
+        if: github.event_name == 'schedule'
         with:
           name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_dataproxy_junit.xml
           path: packages/*/junit*.xml
@@ -315,7 +315,7 @@ jobs:
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled()
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && github.event_name == 'schedule'
         uses: Workshop64/buildpulse-action@main
         with:
           account: 17219288
@@ -325,7 +325,7 @@ jobs:
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
       - uses: actions/upload-artifact@v3
-        if: always()
+        if: github.event_name == 'schedule'
         with:
           name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_dataproxy_junit.xml
           path: packages/*/junit*.xml
@@ -578,7 +578,7 @@ jobs:
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled()
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && github.event_name == 'schedule'
         uses: Workshop64/buildpulse-action@main
         with:
           account: 17219288
@@ -588,7 +588,7 @@ jobs:
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
       - uses: actions/upload-artifact@v3
-        if: always()
+        if: github.event_name == 'schedule'
         with:
           name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
           path: packages/*/junit*.xml
@@ -1151,7 +1151,7 @@ jobs:
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled()
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && github.event_name == 'schedule'
         uses: Workshop64/buildpulse-action@main
         with:
           account: 17219288
@@ -1161,7 +1161,7 @@ jobs:
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
       - uses: actions/upload-artifact@v3
-        if: always()
+        if: github.event_name == 'schedule'
         with:
           name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
           path: packages/*/junit*.xml
@@ -1408,7 +1408,7 @@ jobs:
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled()
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && github.event_name == 'schedule'
         uses: Workshop64/buildpulse-action@main
         with:
           account: 17219288
@@ -1418,7 +1418,7 @@ jobs:
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
       - uses: actions/upload-artifact@v3
-        if: always()
+        if: github.event_name == 'schedule'
         with:
           name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
           path: packages/*/junit*.xml
",True,True,False,True,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,e46191180669ed4a6f39b402bdda3965332e44ee,9e2a274dbeecba22496026ebcdd1b9071e4c735c,2023-02-21 12:24:56-10:00,test(client): next.js and not found issues (#17921),213,4.11.0,test.yml,MODIFY,3,3,,17921,millsp,User,MEMBER,millsp,User,2023-02-14T03:04:50Z,2023-02-21T22:24:57Z,closed,,,,"The first goal of this PR is to add tests for Next.js and not found issues. Tests are failing and it's normal until I enable the workaround. In order to support running these tests fast enough, I migrated away from docker compose to just use docker containers for running the tests (+ other improvements).",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/e461911_test.yml,../Mining/generated/scripts/prisma/files_src_after/e461911_test.yml,1.0,1.0,1.0,"@@ -450,7 +450,7 @@ jobs:
   # CLIENT test:e2e
   #
   client-e2e:
-    timeout-minutes: 15
+    timeout-minutes: 25
     runs-on: ${{ matrix.os }}
 
     needs: detect_jobs_to_run
@@ -466,7 +466,7 @@ jobs:
       - uses: actions/checkout@v3
 
       # Not currently needed, but we might need it in the future
-      # - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
 
       - uses: pnpm/action-setup@v2.2.4
         with:
@@ -483,7 +483,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm run test:e2e --verbose
+      - run: pnpm run test:e2e --skipBuild --verbose --runInBand
         working-directory: packages/client
         env:
           CI: true
",True,True,False,True,False,True,True
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,261bcbc7fdc4e692fbdd80f1b5bd5f1f91e980b2,e1b94baed2faee20966e61059370edd6741fa6ae,2023-02-24 10:02:27+01:00,"feat(client): JSON protocol (#17911)

* feat(client): Add json protocol encoder/decoder

JSON protocol is enabled with either:
- `jsonProtocol` preview feature
- `PRISMA_ENGINE_PROTOCOL` env variable

Validation is not implemented yet and all validation-related tests
are skipped. Full DMMF is not requested for normal client
and not embedded into the data proxy client if JSON protocol is on",73,4.11.0,test.yml,MODIFY,6,1,,17911,SevInf,User,CONTRIBUTOR,SevInf,User,2023-02-13T16:51:55Z,2023-02-24T09:02:28Z,closed,,,,"Client implementation of JSON protocol.
Sibling to prisma/prisma-engines#3624.

Built on top of `ProtocolEncoder` abstraction, introduced earlier. `JsonProtocolEncoder` would take care of encoding the message, produce `JsonProtocolMessage` instance, that will take care of batching, deserialization and debug output. 

Validation is not included, therefore, corresponding tests in both legacy and functional suite are skipped if JSON protocol is active. 

If JSON protocol is active (either through env var or preview feature), schema DMMF is not requested from the engine during the runtime (node client) and is not embedded during the generation (edge client).

For review: most of the implementation is in `core/runtime/protocol/json` directory and `engines-core` package, rest is mostly tests skipping.
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/261bcbc_test.yml,../Mining/generated/scripts/prisma/files_src_after/261bcbc_test.yml,0.2615511551155115,0.7417491749174917,0.9579207920792079,"@@ -133,6 +133,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library', 'binary']
+        engineProtocol: ['graphql', 'json']
         os: [buildjet-4vcpu-ubuntu-2004]
         node: [16, 18]
 
@@ -158,7 +159,7 @@ jobs:
       TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
       TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
       NODE_OPTIONS: '--max-old-space-size=8096'
-      JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+      JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ matrix.engineProtocol }}'
       JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
     steps:
@@ -182,6 +183,10 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
+      - name: Set Engine Protocol
+        run: |
+          echo ""PRISMA_ENGINE_PROTOCOL=${{ matrix.engineProtocol }}"" >> $GITHUB_ENV
+
       - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb vitess-8
 
       - uses: pnpm/action-setup@v2.2.4
",True,True,False,True,False,True,True
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,e18cb5d076ee4d5f7512681f2a29a55985e1f03f,f48257560fbba57e35737bcbfacdddb86e77a1d0,2023-02-27 16:12:33+01:00,"fix(client): Make json protocol work with data proxy (#18118)

* fix(client): Make json protocol work with data proxy

1. If JSON protocol is used, request was not serialized correctly and
did not match either of 2 exepected bodies
2. Data proxy tests were not running on CI for JSON protocol, fixes that
as well.

* Fix edge client

Forward env var value through config",7,4.11.0,test.yml,MODIFY,3,0,,18118,SevInf,User,CONTRIBUTOR,SevInf,User,2023-02-27T12:09:43Z,2023-02-27T15:12:33Z,closed,,,,"1. If JSON protocol is used, request was not serialized correctly and
   did not match either of 2 exepected bodies
2. Data proxy tests were not running on CI for JSON protocol, fixes that
   as well.
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/e18cb5d_test.yml,../Mining/generated/scripts/prisma/files_src_after/e18cb5d_test.yml,1.0,1.0,1.0,"@@ -248,6 +248,7 @@ jobs:
       matrix:
         os: [buildjet-4vcpu-ubuntu-2004]
         node: [14, 16, 18]
+        engineProtocol: ['graphql', 'json']
 
     steps:
       - uses: actions/checkout@v3
@@ -294,6 +295,7 @@ jobs:
           NODE_OPTIONS: '--max-old-space-size=8096'
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/dataproxy'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+          PRISMA_ENGINE_PROTOCOL: '${{ matrix.engineProtocol }}'
 
       - run: pnpm run test:functional --data-proxy --edge-client
         working-directory: packages/client
@@ -310,6 +312,7 @@ jobs:
           NODE_OPTIONS: '--max-old-space-size=8096'
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/dataproxy'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+          PRISMA_ENGINE_PROTOCOL: '${{ matrix.engineProtocol }}'
 
       - uses: codecov/codecov-action@v3
         with:
",True,True,False,True,False,True,True
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,d04d8cd254ac418329e3160df79dfb0bf4a5274a,e0273500754e27f2b37ad709dde7dd73db40bd2a,2023-03-17 21:23:26+01:00,feat(codspeed.io): Try out benchmarking cloud service (#18305),5,4.12.0,benchmark.yml,MODIFY,6,0,,18305,janpio,User,MEMBER,aqrln,User,2023-03-13T22:23:18Z,2023-03-17T20:23:27Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/d04d8cd_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/d04d8cd_benchmark.yml,None,None,None,"@@ -68,6 +68,12 @@ jobs:
       - name: Run benchmarks
         run: pnpm run bench
 
+      - name: Run benchmarks for Codspeed
+        uses: CodSpeedHQ/action@v1
+        with:
+          run: pnpm run bench
+          token: ${{ secrets.CODSPEED_TOKEN }}
+
       - name: Store benchmark result
         if: ${{ github.ref == 'refs/heads/main' }}
         uses: rhysd/github-action-benchmark@v1
",True,False,False,False,False,True,True
prisma,Alexey Orlenko,User,alex@aqrln.net,GitHub,User,noreply@github.com,b990cf01d65e605ee69167e35812b5d215bbb0d2,669db01cbae9e95d728cb6f6a92f7df76c383ad0,2023-03-29 19:34:05+02:00,"chore(bench): fix benchmark GH action on main (#18463)

Currently the ""Store benchmark result"" step of the benchmark pipeline
fails with `Error: No benchmark result was found in
/home/runner/work/prisma/prisma/output.txt.`. The reason is the second
benchmark run overwrites the `output.txt` file from the first run but
doesn't contain the raw Benchmark.js output. This commit fixes that.",2,4.12.0,benchmark.yml,MODIFY,6,6,,18463,aqrln,User,MEMBER,aqrln,User,2023-03-23T20:52:21Z,2023-03-29T17:34:06Z,closed,,,,"Currently the ""Store benchmark result"" step of the benchmark pipeline
fails with `Error: No benchmark result was found in
/home/runner/work/prisma/prisma/output.txt.`. The reason is the second
benchmark run overwrites the `output.txt` file from the first run but
doesn't contain the raw Benchmark.js output. This commit fixes that.
",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/b990cf0_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/b990cf0_benchmark.yml,None,None,None,"@@ -68,12 +68,6 @@ jobs:
       - name: Run benchmarks
         run: pnpm run bench
 
-      - name: Run benchmarks for Codspeed
-        uses: CodSpeedHQ/action@v1
-        with:
-          run: pnpm run bench
-          token: ${{ secrets.CODSPEED_TOKEN }}
-
       - name: Store benchmark result
         if: ${{ github.ref == 'refs/heads/main' }}
         uses: rhysd/github-action-benchmark@v1
@@ -90,6 +84,12 @@ jobs:
           fail-on-alert: true
           alert-comment-cc-users: '@Jolg42,@millsp,@aqrln,@SevInf,@jkomyno'
 
+      - name: Run benchmarks for Codspeed
+        uses: CodSpeedHQ/action@v1
+        with:
+          run: pnpm run bench-stdout-only
+          token: ${{ secrets.CODSPEED_TOKEN }}
+
       - name: 'Set current job url in SLACK_FOOTER env var'
         if: ${{ failure() && github.ref == 'refs/heads/main' }}
         run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
",True,False,False,False,False,True,True
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,283d1b9fa0e9119821917480ffca2758fb90b521,d14eeff229886164ddfc6d7c6a57c2e9ba292334,2023-04-17 22:20:43+02:00,ci: Disable scheduled runs (#18793),1,,test.yml,MODIFY,3,3,,18793,janpio,User,MEMBER,janpio,User,2023-04-17T20:12:31Z,2023-04-17T20:20:44Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/283d1b9_test.yml,../Mining/generated/scripts/prisma/files_src_after/283d1b9_test.yml,None,None,None,"@@ -42,9 +42,9 @@ on:
       - '*.bench.ts'
       - 'scripts/ci/publish.ts'
       - 'graphs/**'
-  schedule:
-    # https://crontab.guru - “At every 15th minute past every hour from 3 through 5.”
-    - cron: '*/15 3-5 * * *'
+#   schedule:
+#     # https://crontab.guru - “At every 15th minute past every hour from 3 through 5.”
+#     - cron: '*/15 3-5 * * *'
   workflow_dispatch:
 
 env:
",True,True,False,True,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,308b9e27488b859e5b98df643aef6e7d4431de20,3a9d6fa5a0bdc0efc00d3a2a8b48c4b2f5fce0cc,2023-04-24 11:49:21+02:00,"chore(deps): update peter-evans/create-pull-request action to v5 (#18630)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",2,,update-engines-version.yml,MODIFY,3,3,,18630,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-04-05T03:54:27Z,2023-04-24T09:49:22Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [peter-evans/create-pull-request](https://togithub.com/peter-evans/create-pull-request) | action | major | `v4` -> `v5` |

---

### Release Notes

<details>
<summary>peter-evans/create-pull-request</summary>

### [`v5`](https://togithub.com/peter-evans/create-pull-request/compare/v4...v5)

[Compare Source](https://togithub.com/peter-evans/create-pull-request/compare/v4...v5)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNS4zMi4yIiwidXBkYXRlZEluVmVyIjoiMzUuMzIuMiJ9-->
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/308b9e2_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/308b9e2_update-engines-version.yml,None,None,None,"@@ -84,7 +84,7 @@ jobs:
       - name: Create Pull Request
         id: cpr
         if: github.event.inputs.npmDistTag == 'latest'
-        uses: peter-evans/create-pull-request@v4
+        uses: peter-evans/create-pull-request@v5
         with:
           token: ${{ secrets.BOT_TOKEN }}
           commit-message: 'chore(deps): update engines to ${{ github.event.inputs.version }}'
@@ -130,7 +130,7 @@ jobs:
       - name: Create Pull Request for Integration Engine
         id: cpr-integration
         if: github.event.inputs.npmDistTag == 'integration'
-        uses: peter-evans/create-pull-request@v4
+        uses: peter-evans/create-pull-request@v5
         with:
           token: ${{ secrets.BOT_TOKEN }}
           commit-message: 'chore(deps): update engines to ${{ github.event.inputs.version }}'
@@ -172,7 +172,7 @@ jobs:
       - name: Create Pull Request for Patch Engine
         id: cpr-patch
         if: github.event.inputs.npmDistTag == 'patch'
-        uses: peter-evans/create-pull-request@v4
+        uses: peter-evans/create-pull-request@v5
         with:
           token: ${{ secrets.BOT_TOKEN }}
           commit-message: 'chore(deps): update engines to ${{ github.event.inputs.version }}'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,308b9e27488b859e5b98df643aef6e7d4431de20,3a9d6fa5a0bdc0efc00d3a2a8b48c4b2f5fce0cc,2023-04-24 11:49:21+02:00,"chore(deps): update peter-evans/create-pull-request action to v5 (#18630)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",2,,update-studio-version.yml,MODIFY,1,1,,18630,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-04-05T03:54:27Z,2023-04-24T09:49:22Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [peter-evans/create-pull-request](https://togithub.com/peter-evans/create-pull-request) | action | major | `v4` -> `v5` |

---

### Release Notes

<details>
<summary>peter-evans/create-pull-request</summary>

### [`v5`](https://togithub.com/peter-evans/create-pull-request/compare/v4...v5)

[Compare Source](https://togithub.com/peter-evans/create-pull-request/compare/v4...v5)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNS4zMi4yIiwidXBkYXRlZEluVmVyIjoiMzUuMzIuMiJ9-->
",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/308b9e2_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/308b9e2_update-studio-version.yml,None,None,None,"@@ -40,7 +40,7 @@ jobs:
 
       - name: Create Pull Request
         id: cpr
-        uses: peter-evans/create-pull-request@v4
+        uses: peter-evans/create-pull-request@v5
         with:
           token: ${{ secrets.BOT_TOKEN }}
           commit-message: 'chore(deps): update studio to ${{ github.event.inputs.version }}'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,5ae5cf67de8cef7e07bfeec8e0f63feb1e89c79e,e5bf64d8c095fcde1d269a520dfd9fee9ef28b03,2023-04-24 11:54:55+02:00,"chore(deps): update peter-evans/create-or-update-comment action to v3 (#18645)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>

[skip ci]",1,,test.yml,MODIFY,2,2,,18645,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-04-06T01:56:02Z,2023-04-24T09:54:56Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [peter-evans/create-or-update-comment](https://togithub.com/peter-evans/create-or-update-comment) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>peter-evans/create-or-update-comment</summary>

### [`v3`](https://togithub.com/peter-evans/create-or-update-comment/compare/v2...v3)

[Compare Source](https://togithub.com/peter-evans/create-or-update-comment/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://app.renovatebot.com/dashboard#github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNS4zMi4yIiwidXBkYXRlZEluVmVyIjoiMzUuMzIuMiJ9-->
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/5ae5cf6_test.yml,../Mining/generated/scripts/prisma/files_src_after/5ae5cf6_test.yml,None,None,None,"@@ -431,7 +431,7 @@ jobs:
           body-includes: 'Client memory tests, node ${{ matrix.node}}, ${{ matrix.queryEngine }}:'
 
       - name: Create or update remote comment (failure)
-        uses: peter-evans/create-or-update-comment@v2
+        uses: peter-evans/create-or-update-comment@v3
         if: ${{ failure() && steps.upload-report.outputs.url }}
         with:
           comment-id: ${{ steps.fc.outputs.comment-id }}
@@ -443,7 +443,7 @@ jobs:
           edit-mode: replace
 
       - name: Create or update remote comment (success)
-        uses: peter-evans/create-or-update-comment@v2
+        uses: peter-evans/create-or-update-comment@v3
         if: ${{ success() && steps.fc.outputs.comment-id != '' }}
         with:
           comment-id: ${{ steps.fc.outputs.comment-id }}
",True,True,False,True,False,True,True
prisma,Prismo,User,52275815+prisma-bot@users.noreply.github.com,GitHub,User,noreply@github.com,099cfdbd5f8cc5afb55765d0850f266b97f8eb4b,159130e236e19358705cf236073d93bcfb823a1e,2023-04-25 14:13:07+02:00,"chore(deps): update engines to 4.14.0-24.5bfea92df8d9c56d01e915d6028dd963fc59a320 (#18917)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",7,,test.yml,MODIFY,3,3,,18917,prisma-bot,User,CONTRIBUTOR,Jolg42,User,2023-04-25T10:58:55Z,2023-04-25T12:13:08Z,closed,automerge,,,"The base branch for this PR is: main
This automatic PR updates the engines to version `4.14.0-24.5bfea92df8d9c56d01e915d6028dd963fc59a320`.
This will get automatically merged if all the tests pass.
:warning: If this PR needs to be updated, first remove the `automerge` label before pushing to avoid automerge to merge without waiting for tests.
## Packages
| Package | NPM URL |
|---------|---------|
|`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/4.14.0-24.5bfea92df8d9c56d01e915d6028dd963fc59a320|
|`@prisma/prisma-fmt-wasm`| https://npmjs.com/package/@prisma/prisma-fmt-wasm/v/4.14.0-24.5bfea92df8d9c56d01e915d6028dd963fc59a320|
## Engines commit
[`prisma/prisma-engines@5bfea92df8d9c56d01e915d6028dd963fc59a320`](https://github.com/prisma/prisma-engines/commit/5bfea92df8d9c56d01e915d6028dd963fc59a320)",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/099cfdb_test.yml,../Mining/generated/scripts/prisma/files_src_after/099cfdb_test.yml,None,None,None,"@@ -42,9 +42,9 @@ on:
       - '*.bench.ts'
       - 'scripts/ci/publish.ts'
       - 'graphs/**'
-#   schedule:
-#     # https://crontab.guru - “At every 15th minute past every hour from 3 through 5.”
-#     - cron: '*/15 3-5 * * *'
+  #   schedule:
+  #     # https://crontab.guru - “At every 15th minute past every hour from 3 through 5.”
+  #     - cron: '*/15 3-5 * * *'
   workflow_dispatch:
 
 env:
",True,True,False,True,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,77730982b3b895af9cc4c891fe2f2b70bafb6c4e,bd95557b980350b2e6d9dfe1433de8d337d220db,2023-04-28 11:13:08+02:00,ci(buildkite): try log managing sections (#18947),4,4.14.0,benchmark.yml,MODIFY,2,2,,18947,Jolg42,User,MEMBER,Jolg42,User,2023-04-26T13:43:47Z,2023-04-28T09:13:09Z,closed,,,,"Currently, logs look like this 🙈 
See https://buildkite.com/prisma/test-prisma-typescript/builds/21081#0187bd6c-2c45-4f99-b842-975bf97bf5c2
<img width=""920"" alt=""Screenshot 2023-04-26 at 15 43 58"" src=""https://user-images.githubusercontent.com/1328733/234595013-09513d54-cdf7-4c7e-94a8-bb1219bbe0eb.png"">

Trying out:
https://buildkite.com/docs/pipelines/managing-log-output

It looks like this after for the testing pipeline:
<img width=""921"" alt=""Screenshot 2023-04-26 at 16 46 18"" src=""https://user-images.githubusercontent.com/1328733/234613406-4ec88076-29f3-4af6-8fc2-4b3476094fd6.png"">

We can see the time each step takes too, which is much better than trying to guesstimate with the timestamps 🙌🏼 ",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/7773098_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/7773098_benchmark.yml,None,None,None,"@@ -15,7 +15,7 @@ on:
       - 'examples/**'
       - 'LICENSE'
       - '.github/CODEOWNERS'
-      - 'src/.buildkite/**'
+      - '.buildkite/**'
       - '.dockerignore'
       - 'scripts/ci/publish.ts'
       - 'graphs/**'
@@ -28,7 +28,7 @@ on:
       - 'examples/**'
       - 'LICENSE'
       - '.github/CODEOWNERS'
-      - 'src/.buildkite/**'
+      - '.buildkite/**'
       - '.dockerignore'
       - 'scripts/ci/publish.ts'
       - 'graphs/**'
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,77730982b3b895af9cc4c891fe2f2b70bafb6c4e,bd95557b980350b2e6d9dfe1433de8d337d220db,2023-04-28 11:13:08+02:00,ci(buildkite): try log managing sections (#18947),4,4.14.0,test.yml,MODIFY,2,2,,18947,Jolg42,User,MEMBER,Jolg42,User,2023-04-26T13:43:47Z,2023-04-28T09:13:09Z,closed,,,,"Currently, logs look like this 🙈 
See https://buildkite.com/prisma/test-prisma-typescript/builds/21081#0187bd6c-2c45-4f99-b842-975bf97bf5c2
<img width=""920"" alt=""Screenshot 2023-04-26 at 15 43 58"" src=""https://user-images.githubusercontent.com/1328733/234595013-09513d54-cdf7-4c7e-94a8-bb1219bbe0eb.png"">

Trying out:
https://buildkite.com/docs/pipelines/managing-log-output

It looks like this after for the testing pipeline:
<img width=""921"" alt=""Screenshot 2023-04-26 at 16 46 18"" src=""https://user-images.githubusercontent.com/1328733/234613406-4ec88076-29f3-4af6-8fc2-4b3476094fd6.png"">

We can see the time each step takes too, which is much better than trying to guesstimate with the timestamps 🙌🏼 ",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/7773098_test.yml,../Mining/generated/scripts/prisma/files_src_after/7773098_test.yml,None,None,None,"@@ -18,7 +18,7 @@ on:
       - 'examples/**'
       - 'LICENSE'
       - '.github/CODEOWNERS'
-      - 'src/.buildkite/**'
+      - '.buildkite/**'
       - '.dockerignore'
       - '*.bench.ts'
       - 'scripts/ci/publish.ts'
@@ -37,7 +37,7 @@ on:
       - 'examples/**'
       - 'LICENSE'
       - '.github/CODEOWNERS'
-      - 'src/.buildkite/**'
+      - '.buildkite/**'
       - '.dockerignore'
       - '*.bench.ts'
       - 'scripts/ci/publish.ts'
",True,True,False,True,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,5fee51e7ab3fe258883775ada8024c572e1ef0ba,14c42c31d603ac9176d3f17c521a983c69efd8c7,2023-04-30 20:53:51+02:00,"ci: run client memory tests on free runners (#19009)

[skip ci]",1,4.14.0,test.yml,MODIFY,1,1,,19009,millsp,User,MEMBER,Jolg42,User,2023-04-28T20:56:28Z,2023-04-30T18:53:51Z,closed,,,,`client-memory` tests currently take 4 minutes on BuildJet vs 7 minutes on GH free runners.,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/5fee51e_test.yml,../Mining/generated/scripts/prisma/files_src_after/5fee51e_test.yml,None,None,None,"@@ -352,7 +352,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library'] # TODO: binary engine is leaking at the moment
-        os: [buildjet-4vcpu-ubuntu-2004]
+        os: [ubuntu-latest]
         node: [14, 16, 18]
     steps:
       - uses: actions/checkout@v3
",True,True,False,True,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,69c5be7f56e8d55f8026d5487e00ab49e8692253,5fee51e7ab3fe258883775ada8024c572e1ef0ba,2023-04-30 21:07:43+02:00,"ci: restore buildpulse nightly runs on free runners (#19008)

[skip ci]",1,4.14.0,test.yml,MODIFY,12,12,,19008,millsp,User,MEMBER,Jolg42,User,2023-04-28T19:45:06Z,2023-04-30T19:07:43Z,closed,,,,This PR re-enables BuildPulse in a cost effective way. We stopped running BuildPulse because of incurred costs on paid runners. This gives us much less confidence wrt to flaky tests.,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/69c5be7_test.yml,../Mining/generated/scripts/prisma/files_src_after/69c5be7_test.yml,None,None,None,"@@ -42,9 +42,9 @@ on:
       - '*.bench.ts'
       - 'scripts/ci/publish.ts'
       - 'graphs/**'
-  #   schedule:
-  #     # https://crontab.guru - “At every 15th minute past every hour from 3 through 5.”
-  #     - cron: '*/15 3-5 * * *'
+  schedule:
+    # https://crontab.guru - “At every 30th minute past every hour from 3 through 6.”
+    - cron: '*/30 3-6 * * *'
   workflow_dispatch:
 
 env:
@@ -77,7 +77,7 @@ jobs:
   cleanup-runs:
     continue-on-error: true
     runs-on: ubuntu-latest
-    if: ""!startsWith(github.ref, 'refs/tags/') && !contains(github.actor, 'renovate')""
+    if: ""!startsWith(github.ref, 'refs/tags/') && !contains(github.actor, 'renovate') && github.event_name != 'schedule'""
     steps:
       - uses: fkirc/skip-duplicate-actions@v5
         with:
@@ -123,8 +123,8 @@ jobs:
   # CLIENT (without types test)
   #
   client:
-    timeout-minutes: 35
-    runs-on: ${{ matrix.os }}
+    timeout-minutes: ${{ github.event_name == 'schedule' && 70 || 35 }}
+    runs-on: ${{ github.event_name == 'schedule' && contains(matrix.os, 'buildjet') && 'ubuntu-latest' || matrix.os }}
 
     needs: detect_jobs_to_run
     if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
@@ -237,8 +237,8 @@ jobs:
   # CLIENT (functional tests with mini-proxy)
   #
   client-dataproxy:
-    timeout-minutes: 35
-    runs-on: ${{ matrix.os }}
+    timeout-minutes: ${{ github.event_name == 'schedule' && 70 || 35 }}
+    runs-on: ${{ github.event_name == 'schedule' && contains(matrix.os, 'buildjet') && 'ubuntu-latest' || matrix.os }}
 
     needs: detect_jobs_to_run
     if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
@@ -342,8 +342,8 @@ jobs:
   # CLIENT (memory tests)
   #
   client-memory:
-    timeout-minutes: 15
-    runs-on: ${{ matrix.os }}
+    timeout-minutes: ${{ github.event_name == 'schedule' && 30 || 15 }}
+    runs-on: ${{ github.event_name == 'schedule' && contains(matrix.os, 'buildjet') && 'ubuntu-latest' || matrix.os }}
 
     needs: detect_jobs_to_run
     if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
@@ -605,8 +605,8 @@ jobs:
   # CLIENT (types tests only)
   #
   client-types:
-    timeout-minutes: 15
-    runs-on: buildjet-4vcpu-ubuntu-2004
+    timeout-minutes: ${{ github.event_name == 'schedule' && 30 || 15 }}
+    runs-on: ${{ github.event_name == 'schedule' && 'ubuntu-latest' || 'buildjet-4vcpu-ubuntu-2004' }}
 
     needs: detect_jobs_to_run
     if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
",True,True,False,True,False,True,True
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,c91381c72cb13347f1f03382d986ff65988228b0,5f70cfaa5069eb1da26b5aaf0d3de393e1a9f368,2023-05-02 15:06:57+02:00,"chore(client): Merge client and engines-core packages (#18969)

* chore(client): Merge client and engines-core packages

Moves most of `engine-core` package into `core/runtime/engine`
subdirectory of the client.
Moves some utitlites from the `engine-core` into various `internals` sub
modules.

This allows us to use `internals` helpers within what used to be
`engines-core` code. In the future, it would also allow us to simplify
the code by reusing some of the client-side abstractions.

Fix prisma/client-planning#358
Unblock prisma/client-planning#340

* Polyfill performance for Node 14

* Fix CODEOWNERS",129,4.14.0,test.yml,MODIFY,0,32,,18969,SevInf,User,CONTRIBUTOR,SevInf,User,2023-04-27T11:10:12Z,2023-05-02T13:06:58Z,closed,,,,"Moves most of `engine-core` package into `core/runtime/engine` subdirectory of the client.
Moves some utitlites from the `engine-core` into various `internals` sub modules.

This allows us to use `internals` helpers within what used to be `engines-core` code. In the future, it would also allow us to simplify the code by reusing some of the client-side abstractions.

**Note for reviewers**: It is mostly files moving and imports updating, whatever deserves some attention I commented on.

Fix prisma/client-planning#358
Unblock prisma/client-planning#340",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/c91381c_test.yml,../Mining/generated/scripts/prisma/files_src_after/c91381c_test.yml,1.0,1.0,1.0,"@@ -983,20 +983,6 @@ jobs:
           flags: debug,${{ matrix.os }},library,binary
           name: debug-${{ matrix.os }}
 
-      - run: pnpm run test
-        name: 'engine-core'
-        working-directory: packages/engine-core
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - uses: codecov/codecov-action@v3
-        with:
-          files: ./packages/engine-core/src/__tests__/coverage/clover.xml
-          flags: engine-core,${{ matrix.os }},library,binary
-          name: engine-core-${{ matrix.os }}
-
       - run: pnpm run test
         name: 'generator-helper'
         working-directory: packages/generator-helper
@@ -1323,24 +1309,6 @@ jobs:
           flags: debug,${{ matrix.os }},library,binary
           name: debug-${{ matrix.os }}
 
-      - name: Test packages/engine-core
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
-        run: pnpm run test
-        working-directory: packages/engine-core
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/engine-core/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
-          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
-      - uses: codecov/codecov-action@v3
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
-        with:
-          files: ./packages/engine-core/src/__tests__/coverage/clover.xml
-          flags: engine-core,${{ matrix.os }},library,binary
-          name: engine-core-${{ matrix.os }}
-
       - name: Test packages/generator-helper
         if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
         run: pnpm run test
",True,True,False,True,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,17d7820d2071c2e497a7e694d3279c86f919075a,42087bfb0148b87d9b927417242b73ce170ad8bd,2023-05-03 10:01:17-10:00,ci: prevent concurrent tests (#19006),2,4.14.0,benchmark.yml,MODIFY,4,0,,19006,millsp,User,MEMBER,millsp,User,2023-04-28T19:14:26Z,2023-05-03T20:01:18Z,closed,,,,"Turns out this was already enabled! That said, it was not enabled for benchmarks, so I activated it there. We also had some old cancellation logic that I ported to the newer native GH way of doing it.",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/17d7820_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/17d7820_benchmark.yml,None,None,None,"@@ -37,6 +37,10 @@ on:
 env:
   PRISMA_TELEMETRY_INFORMATION: 'prisma benchmark.yml'
 
+concurrency:
+  group: ${{ github.workflow }}-${{ github.ref }}
+  cancel-in-progress: true
+
 jobs:
   benchmark:
     name: all
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,17d7820d2071c2e497a7e694d3279c86f919075a,42087bfb0148b87d9b927417242b73ce170ad8bd,2023-05-03 10:01:17-10:00,ci: prevent concurrent tests (#19006),2,4.14.0,test.yml,MODIFY,5,13,,19006,millsp,User,MEMBER,millsp,User,2023-04-28T19:14:26Z,2023-05-03T20:01:18Z,closed,,,,"Turns out this was already enabled! That said, it was not enabled for benchmarks, so I activated it there. We also had some old cancellation logic that I ported to the newer native GH way of doing it.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/17d7820_test.yml,../Mining/generated/scripts/prisma/files_src_after/17d7820_test.yml,None,None,None,"@@ -53,6 +53,11 @@ env:
   # To hide ""Update available 0.0.0 -> x.x.x""
   PRISMA_HIDE_UPDATE_MESSAGE: true
 
+concurrency:
+  group: ${{ github.workflow }}-${{ github.ref }}
+  # Don't cancel if it's on schedule (used for BuildPulse for flaky tests detection)
+  cancel-in-progress: ${{ github.event_name != 'schedule' }}
+
 jobs:
   detect_jobs_to_run:
     name: Detect jobs to run
@@ -70,19 +75,6 @@ jobs:
       - id: detect
         run: ./.github/workflows/scripts/detect-jobs-to-run.js <<< '${{ steps.files.outputs.all }}'
 
-  # From https://github.com/marketplace/actions/skip-duplicate-actions
-  # This action cleans up previously running instances of a workflow on the same branch.
-  # This accomplishes the task of automatically cancelling CI runs on pushes to the same branch,
-  # which is a common feature in most CI systems but currently not possible with GitHub actions.
-  cleanup-runs:
-    continue-on-error: true
-    runs-on: ubuntu-latest
-    if: ""!startsWith(github.ref, 'refs/tags/') && !contains(github.actor, 'renovate') && github.event_name != 'schedule'""
-    steps:
-      - uses: fkirc/skip-duplicate-actions@v5
-        with:
-          cancel_others: 'true'
-
   #
   # Linting
   #
",True,True,False,True,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,c6995ebb6f23996d3b48dfdd1b841e0b5cf549b3,17d7820d2071c2e497a7e694d3279c86f919075a,2023-05-03 11:02:10-10:00,"ci: run client types on free runners (#19015)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",1,4.14.0,test.yml,MODIFY,2,2,,19015,millsp,User,MEMBER,millsp,User,2023-04-29T03:07:27Z,2023-05-03T21:02:11Z,closed,,,,"Client types currently only take 3 minutes to execute on BuildJet, and 7 minutes on free runners.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/c6995eb_test.yml,../Mining/generated/scripts/prisma/files_src_after/c6995eb_test.yml,None,None,None,"@@ -597,8 +597,8 @@ jobs:
   # CLIENT (types tests only)
   #
   client-types:
-    timeout-minutes: ${{ github.event_name == 'schedule' && 30 || 15 }}
-    runs-on: ${{ github.event_name == 'schedule' && 'ubuntu-latest' || 'buildjet-4vcpu-ubuntu-2004' }}
+    timeout-minutes: 15
+    runs-on: ubuntu-latest
 
     needs: detect_jobs_to_run
     if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
",True,True,False,True,False,True,True
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,686d4d1a1485e779fe2c1cf888548ccfa03d4934,0339b0807c1aa91a2d36972482fc327f23bbb7ee,2023-05-05 18:57:35+02:00,"chore(ci): Reduce the number of jobs, move some of them to once a day (#19001)

* chore(ci): Reduce the number of jobs, move some of them to once a day

Following builds will be done once a day after this is merged:
- all binary engine tests
- json protocol with non-minimal supported version

If PR contains `ci build all` comment, all of those things will be
checked. If not, the job that will test them will run at 9am UTC.

Since we now need two jobs on different schedules, we need a way to
differentiate them: for that reason, both buildpulse and new nightly
jobs are implemented as separate workflows, that call original one
passing the reason (daily/buildpulse) as a parameter.

* Address review comments

* Correctly use inputs

* Update .github/workflows/daily-test.yml

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* Rename daily-build to daily-test

* Use free runners for daily builds

* More review feedback

---------

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",5,4.14.0,daily-buildpulse.yml,ADD,15,0,,19001,SevInf,User,CONTRIBUTOR,SevInf,User,2023-04-28T14:57:37Z,2023-05-05T16:57:35Z,closed,,,,"Following builds will be done once a day after this is merged:
- all binary engine tests
- json protocol with non-minimal supported version

If PR contains `ci test all` comment, all of those things will be
checked. If not, the job that will test them will run at 4am UTC from Monday to Friday.

Since we now need two jobs on different schedules, we need a way to
differentiate them: for that reason, both buildpulse and new nightly
jobs are implemented as separate workflows, that call original one
passing the reason (daily/buildpulse) as a parameter.
",../Mining/generated/scripts/prisma/current_code/daily-buildpulse.yml,../Mining/generated/scripts/prisma/files_src_before/686d4d1_daily-buildpulse.yml,../Mining/generated/scripts/prisma/files_src_after/686d4d1_daily-buildpulse.yml,1.0,1.0,1.0,"@@ -0,0 +1,15 @@
+name: Daily BuildPulse run
+
+on:
+  workflow_dispatch:
+  schedule:
+    # https://crontab.guru - “At every 30th minute past every hour from 3 through 6.”
+    - cron: '*/30 3-6 * * *'
+
+jobs:
+  run_tests:
+    uses: ./.github/workflows/test.yml
+    with:
+      reason: buildpulse
+      jobTimeout: 70
+      ubuntuRunner: ubuntu-latest
",False,False,False,False,False,False,True
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,686d4d1a1485e779fe2c1cf888548ccfa03d4934,0339b0807c1aa91a2d36972482fc327f23bbb7ee,2023-05-05 18:57:35+02:00,"chore(ci): Reduce the number of jobs, move some of them to once a day (#19001)

* chore(ci): Reduce the number of jobs, move some of them to once a day

Following builds will be done once a day after this is merged:
- all binary engine tests
- json protocol with non-minimal supported version

If PR contains `ci build all` comment, all of those things will be
checked. If not, the job that will test them will run at 9am UTC.

Since we now need two jobs on different schedules, we need a way to
differentiate them: for that reason, both buildpulse and new nightly
jobs are implemented as separate workflows, that call original one
passing the reason (daily/buildpulse) as a parameter.

* Address review comments

* Correctly use inputs

* Update .github/workflows/daily-test.yml

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* Rename daily-build to daily-test

* Use free runners for daily builds

* More review feedback

---------

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",5,4.14.0,daily-test.yml,ADD,32,0,,19001,SevInf,User,CONTRIBUTOR,SevInf,User,2023-04-28T14:57:37Z,2023-05-05T16:57:35Z,closed,,,,"Following builds will be done once a day after this is merged:
- all binary engine tests
- json protocol with non-minimal supported version

If PR contains `ci test all` comment, all of those things will be
checked. If not, the job that will test them will run at 4am UTC from Monday to Friday.

Since we now need two jobs on different schedules, we need a way to
differentiate them: for that reason, both buildpulse and new nightly
jobs are implemented as separate workflows, that call original one
passing the reason (daily/buildpulse) as a parameter.
",../Mining/generated/scripts/prisma/current_code/daily-test.yml,../Mining/generated/scripts/prisma/files_src_before/686d4d1_daily-test.yml,../Mining/generated/scripts/prisma/files_src_after/686d4d1_daily-test.yml,1.0,1.0,1.0,"@@ -0,0 +1,32 @@
+name: Daily Test
+
+on:
+  workflow_dispatch:
+  schedule:
+    # 4am daily Mon-Fri
+    - cron: '0 4 * * 1-5'
+
+jobs:
+  run_tests:
+    uses: ./.github/workflows/test.yml
+    with:
+      reason: daily-test
+      jobTimeout: 70
+      ubuntuRunner: ubuntu-latest
+  failure:
+    needs:
+      - run_tests
+    if: ${{ failure() }}
+    name: Communicate failure
+    runs-on: ubuntu-latest
+    steps:
+      - name: Set current job url in SLACK_FOOTER env var
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+
+      - name: Slack Notification on Failure
+        uses: rtCamp/action-slack-notify@v2.2.0
+        env:
+          SLACK_TITLE: 'prisma/prisma daily build failed :x:'
+          SLACK_COLOR: '#FF0000'
+          SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}
+          SLACK_CHANNEL: feed-prisma-daily-build-failures
",False,False,False,False,False,True,True
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,686d4d1a1485e779fe2c1cf888548ccfa03d4934,0339b0807c1aa91a2d36972482fc327f23bbb7ee,2023-05-05 18:57:35+02:00,"chore(ci): Reduce the number of jobs, move some of them to once a day (#19001)

* chore(ci): Reduce the number of jobs, move some of them to once a day

Following builds will be done once a day after this is merged:
- all binary engine tests
- json protocol with non-minimal supported version

If PR contains `ci build all` comment, all of those things will be
checked. If not, the job that will test them will run at 9am UTC.

Since we now need two jobs on different schedules, we need a way to
differentiate them: for that reason, both buildpulse and new nightly
jobs are implemented as separate workflows, that call original one
passing the reason (daily/buildpulse) as a parameter.

* Address review comments

* Correctly use inputs

* Update .github/workflows/daily-test.yml

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* Rename daily-build to daily-test

* Use free runners for daily builds

* More review feedback

---------

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",5,4.14.0,test.yml,MODIFY,56,28,,19001,SevInf,User,CONTRIBUTOR,SevInf,User,2023-04-28T14:57:37Z,2023-05-05T16:57:35Z,closed,,,,"Following builds will be done once a day after this is merged:
- all binary engine tests
- json protocol with non-minimal supported version

If PR contains `ci test all` comment, all of those things will be
checked. If not, the job that will test them will run at 4am UTC from Monday to Friday.

Since we now need two jobs on different schedules, we need a way to
differentiate them: for that reason, both buildpulse and new nightly
jobs are implemented as separate workflows, that call original one
passing the reason (daily/buildpulse) as a parameter.
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/686d4d1_test.yml,../Mining/generated/scripts/prisma/files_src_after/686d4d1_test.yml,1.0,1.0,1.0,"@@ -42,10 +42,24 @@ on:
       - '*.bench.ts'
       - 'scripts/ci/publish.ts'
       - 'graphs/**'
-  schedule:
-    # https://crontab.guru - “At every 30th minute past every hour from 3 through 6.”
-    - cron: '*/30 3-6 * * *'
   workflow_dispatch:
+  workflow_call:
+    inputs:
+      reason:
+        description: |
+          Reason why this workflow was called. Could be ""buildpulse"" for
+          flaky tests detection or ""daily-test"" for scheduled full builds
+        type: string
+        required: false
+        default: CI
+      ubuntuRunner:
+        description: Override default runner used for linux tests. Can be used to opt-out of buildjet
+        type: string
+        required: false
+      jobTimeout:
+        description: Timeout for the jobs. Default is 35 minutes
+        type: number
+        required: false
 
 env:
   HAS_BUILDPULSE_SECRETS: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID != '' && secrets.BUILDPULSE_SECRET_ACCESS_KEY != '' }}
@@ -55,8 +69,8 @@ env:
 
 concurrency:
   group: ${{ github.workflow }}-${{ github.ref }}
-  # Don't cancel if it's on schedule (used for BuildPulse for flaky tests detection)
-  cancel-in-progress: ${{ github.event_name != 'schedule' }}
+  # Don't cancel if called from buildpulse workflow
+  cancel-in-progress: ${{ inputs.reason != 'buildpulse' }}
 
 jobs:
   detect_jobs_to_run:
@@ -64,6 +78,9 @@ jobs:
     runs-on: ubuntu-latest
     outputs:
       jobs: ${{ steps.detect.outputs.jobs }}
+      queryEngine: ${{ steps.determineBuildMatrixParams.outputs.queryEngine }}
+      excludeClient: ${{ steps.determineBuildMatrixParams.outputs.excludeClient }}
+      excludeDataProxy: ${{ steps.determineBuildMatrixParams.outputs.excludeDataProxy }}
     steps:
       - id: checkout
         uses: actions/checkout@v3
@@ -74,6 +91,15 @@ jobs:
         continue-on-error: true # This allow this job to fail (e.g. for scheduled runs), and then the `detect` step below will default to `all`
       - id: detect
         run: ./.github/workflows/scripts/detect-jobs-to-run.js <<< '${{ steps.files.outputs.all }}'
+      - name: Find ""ci test all"" comment
+        uses: peter-evans/find-comment@v2
+        id: findTestAllComment
+        if: ${{ github.event_name == 'pull_request' }}
+        with:
+          issue-number: ${{ github.event.pull_request.number }}
+          body-includes: 'ci test all'
+      - id: determineBuildMatrixParams
+        run: ./.github/workflows/scripts/build-client-matrix.js '${{ inputs.reason }}' '${{ steps.findTestAllComment.outputs.comment-id }}'
 
   #
   # Linting
@@ -115,8 +141,8 @@ jobs:
   # CLIENT (without types test)
   #
   client:
-    timeout-minutes: ${{ github.event_name == 'schedule' && 70 || 35 }}
-    runs-on: ${{ github.event_name == 'schedule' && contains(matrix.os, 'buildjet') && 'ubuntu-latest' || matrix.os }}
+    timeout-minutes: ${{ inputs.jobTimeout || 35 }}
+    runs-on: ${{ inputs.ubuntuRunner || matrix.os }}
 
     needs: detect_jobs_to_run
     if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
@@ -124,10 +150,11 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        queryEngine: ['library', 'binary']
+        queryEngine: ${{ fromJson(needs.detect_jobs_to_run.outputs.queryEngine) }}
         engineProtocol: ['graphql', 'json']
         os: [buildjet-4vcpu-ubuntu-2004]
         node: [16, 18]
+        exclude: ${{ fromJson(needs.detect_jobs_to_run.outputs.excludeClient) }}
 
     env:
       CI: true
@@ -210,7 +237,7 @@ jobs:
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && github.event_name == 'schedule'
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
         uses: Workshop64/buildpulse-action@main
         with:
           account: 17219288
@@ -220,7 +247,7 @@ jobs:
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
       - uses: actions/upload-artifact@v3
-        if: github.event_name == 'schedule'
+        if: inputs.reason == 'buildpulse'
         with:
           name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_dataproxy_junit.xml
           path: packages/*/junit*.xml
@@ -229,8 +256,8 @@ jobs:
   # CLIENT (functional tests with mini-proxy)
   #
   client-dataproxy:
-    timeout-minutes: ${{ github.event_name == 'schedule' && 70 || 35 }}
-    runs-on: ${{ github.event_name == 'schedule' && contains(matrix.os, 'buildjet') && 'ubuntu-latest' || matrix.os }}
+    timeout-minutes: ${{ inputs.jobTimeout || 35 }}
+    runs-on: ${{ inputs.ubuntuRunner || matrix.os }}
 
     needs: detect_jobs_to_run
     if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
@@ -241,6 +268,7 @@ jobs:
         os: [buildjet-4vcpu-ubuntu-2004]
         node: [14, 16, 18]
         engineProtocol: ['graphql', 'json']
+        exclude: ${{ fromJson(needs.detect_jobs_to_run.outputs.excludeDataProxy) }}
 
     steps:
       - uses: actions/checkout@v3
@@ -315,7 +343,7 @@ jobs:
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && github.event_name == 'schedule'
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
         uses: Workshop64/buildpulse-action@main
         with:
           account: 17219288
@@ -325,7 +353,7 @@ jobs:
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
       - uses: actions/upload-artifact@v3
-        if: github.event_name == 'schedule'
+        if: inputs.reason == 'buildpulse'
         with:
           name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_dataproxy_junit.xml
           path: packages/*/junit*.xml
@@ -334,8 +362,8 @@ jobs:
   # CLIENT (memory tests)
   #
   client-memory:
-    timeout-minutes: ${{ github.event_name == 'schedule' && 30 || 15 }}
-    runs-on: ${{ github.event_name == 'schedule' && contains(matrix.os, 'buildjet') && 'ubuntu-latest' || matrix.os }}
+    timeout-minutes: ${{ inputs.jobTimeout || 35 }}
+    runs-on: ${{ inputs.ubuntuRunner || matrix.os }}
 
     needs: detect_jobs_to_run
     if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
@@ -578,7 +606,7 @@ jobs:
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && github.event_name == 'schedule'
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
         uses: Workshop64/buildpulse-action@main
         with:
           account: 17219288
@@ -588,7 +616,7 @@ jobs:
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
       - uses: actions/upload-artifact@v3
-        if: github.event_name == 'schedule'
+        if: inputs.reason == 'buildpulse'
         with:
           name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
           path: packages/*/junit*.xml
@@ -652,7 +680,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        queryEngine: ['library', 'binary']
+        queryEngine: ${{ fromJson(needs.detect_jobs_to_run.outputs.queryEngine) }}
         node: [16]
 
     steps:
@@ -726,7 +754,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        queryEngine: ['library', 'binary']
+        queryEngine: ${{ fromJson(needs.detect_jobs_to_run.outputs.queryEngine) }}
         os: [ubuntu-latest]
         node: [16, 18]
 
@@ -798,7 +826,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        queryEngine: ['library', 'binary']
+        queryEngine: ${{ fromJson(needs.detect_jobs_to_run.outputs.queryEngine) }}
         os: [ubuntu-latest]
         node: [16, 18]
 
@@ -880,7 +908,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        queryEngine: ['library', 'binary']
+        queryEngine: ${{ fromJson(needs.detect_jobs_to_run.outputs.queryEngine) }}
         os: [ubuntu-latest]
         node: [16, 18]
 
@@ -1065,7 +1093,7 @@ jobs:
       matrix:
         os: [macos-latest, windows-latest]
         node: [14]
-        queryEngine: ['library', 'binary']
+        queryEngine: ${{ fromJson(needs.detect_jobs_to_run.outputs.queryEngine) }}
         # Commented out as we still have limited capacity for macOS runners
         # When we have more capacity we can shard again
         # shard: ['1', '2']
@@ -1137,7 +1165,7 @@ jobs:
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && github.event_name == 'schedule'
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason =='buildpulse'
         uses: Workshop64/buildpulse-action@main
         with:
           account: 17219288
@@ -1147,7 +1175,7 @@ jobs:
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
       - uses: actions/upload-artifact@v3
-        if: github.event_name == 'schedule'
+        if: inputs.reason == 'buildpulse'
         with:
           name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
           path: packages/*/junit*.xml
@@ -1171,7 +1199,7 @@ jobs:
       matrix:
         os: [macos-latest, windows-latest]
         node: [14]
-        queryEngine: ['library', 'binary']
+        queryEngine: ${{ fromJson(needs.detect_jobs_to_run.outputs.queryEngine) }}
 
     steps:
       - uses: actions/checkout@v3
@@ -1376,7 +1404,7 @@ jobs:
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && github.event_name == 'schedule'
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
         uses: Workshop64/buildpulse-action@main
         with:
           account: 17219288
@@ -1386,7 +1414,7 @@ jobs:
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
       - uses: actions/upload-artifact@v3
-        if: github.event_name == 'schedule'
+        if: inputs.reason == 'buildpulse'
         with:
           name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
           path: packages/*/junit*.xml
",True,True,False,True,False,True,True
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,8df933173c1d340dcb4d2fc7d953870f401b886e,fffbd79b7a5ebdb6e496e0f90fb1662ccaf43975,2023-05-08 17:13:50+02:00,"ci(GitHub): improve daily tests/CI workflows  (#19132)

* ci: Improve daily builds/CI workflows

1. Splits most of the workflow in a separate reusable template
file. This allows us to safely use defaults.yaml of workflow inputs
regardless of the reasons workflow got triggered and don't think about
fallback every time we need to use the input.
2. ""Detect jobs to run"" step, as well as the attempt to find ""ci test
all"" comment now will be done only in CI workflow. Scheduled jobs
will autoamtically build everything.

* Review",5,4.14.0,daily-buildpulse.yml,MODIFY,2,1,,19132,SevInf,User,CONTRIBUTOR,SevInf,User,2023-05-08T09:18:44Z,2023-05-08T15:13:51Z,closed,,,,"1. Splits most of the workflow in a separate reusable template
file. This allows us to safely use defaults.yaml of workflow inputs
regardless of the reasons workflow got triggered and don't think about
fallback every time we need to use the input.
2. ""Detect jobs to run"" step, as well as the attempt to find ""ci test
all"" comment now will be done only in CI workflow. Scheduled jobs
will automatically test everything.",../Mining/generated/scripts/prisma/current_code/daily-buildpulse.yml,../Mining/generated/scripts/prisma/files_src_before/8df9331_daily-buildpulse.yml,../Mining/generated/scripts/prisma/files_src_after/8df9331_daily-buildpulse.yml,None,None,None,"@@ -8,8 +8,9 @@ on:
 
 jobs:
   run_tests:
-    uses: ./.github/workflows/test.yml
+    uses: ./.github/workflows/test-template.yml
     with:
       reason: buildpulse
       jobTimeout: 70
       ubuntuRunner: ubuntu-latest
+      testAll: true
",False,False,False,False,False,False,True
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,8df933173c1d340dcb4d2fc7d953870f401b886e,fffbd79b7a5ebdb6e496e0f90fb1662ccaf43975,2023-05-08 17:13:50+02:00,"ci(GitHub): improve daily tests/CI workflows  (#19132)

* ci: Improve daily builds/CI workflows

1. Splits most of the workflow in a separate reusable template
file. This allows us to safely use defaults.yaml of workflow inputs
regardless of the reasons workflow got triggered and don't think about
fallback every time we need to use the input.
2. ""Detect jobs to run"" step, as well as the attempt to find ""ci test
all"" comment now will be done only in CI workflow. Scheduled jobs
will autoamtically build everything.

* Review",5,4.14.0,daily-test.yml,MODIFY,2,1,,19132,SevInf,User,CONTRIBUTOR,SevInf,User,2023-05-08T09:18:44Z,2023-05-08T15:13:51Z,closed,,,,"1. Splits most of the workflow in a separate reusable template
file. This allows us to safely use defaults.yaml of workflow inputs
regardless of the reasons workflow got triggered and don't think about
fallback every time we need to use the input.
2. ""Detect jobs to run"" step, as well as the attempt to find ""ci test
all"" comment now will be done only in CI workflow. Scheduled jobs
will automatically test everything.",../Mining/generated/scripts/prisma/current_code/daily-test.yml,../Mining/generated/scripts/prisma/files_src_before/8df9331_daily-test.yml,../Mining/generated/scripts/prisma/files_src_after/8df9331_daily-test.yml,None,None,None,"@@ -8,11 +8,12 @@ on:
 
 jobs:
   run_tests:
-    uses: ./.github/workflows/test.yml
+    uses: ./.github/workflows/test-template.yml
     with:
       reason: daily-test
       jobTimeout: 70
       ubuntuRunner: ubuntu-latest
+      testAll: true
   failure:
     needs:
       - run_tests
",False,False,False,False,False,True,True
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,8df933173c1d340dcb4d2fc7d953870f401b886e,fffbd79b7a5ebdb6e496e0f90fb1662ccaf43975,2023-05-08 17:13:50+02:00,"ci(GitHub): improve daily tests/CI workflows  (#19132)

* ci: Improve daily builds/CI workflows

1. Splits most of the workflow in a separate reusable template
file. This allows us to safely use defaults.yaml of workflow inputs
regardless of the reasons workflow got triggered and don't think about
fallback every time we need to use the input.
2. ""Detect jobs to run"" step, as well as the attempt to find ""ci test
all"" comment now will be done only in CI workflow. Scheduled jobs
will autoamtically build everything.

* Review",5,4.14.0,test-template.yml,ADD,1372,0,,19132,SevInf,User,CONTRIBUTOR,SevInf,User,2023-05-08T09:18:44Z,2023-05-08T15:13:51Z,closed,,,,"1. Splits most of the workflow in a separate reusable template
file. This allows us to safely use defaults.yaml of workflow inputs
regardless of the reasons workflow got triggered and don't think about
fallback every time we need to use the input.
2. ""Detect jobs to run"" step, as well as the attempt to find ""ci test
all"" comment now will be done only in CI workflow. Scheduled jobs
will automatically test everything.",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/8df9331_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/8df9331_test-template.yml,None,None,None,"@@ -0,0 +1,1372 @@
+name: CI Template job
+
+on:
+  workflow_call:
+    inputs:
+      reason:
+        description: |
+          Reason why this workflow was called. Could be ""buildpulse"" for
+          flaky tests detection or ""daily-test"" for scheduled full builds,
+          ""CI"" for normal pushes/PRs
+        type: string
+        required: false
+        default: CI
+      ubuntuRunner:
+        description: Override default runner used for linux tests. Can be used to opt-out of buildjet
+        type: string
+        default: buildjet-4vcpu-ubuntu-2004
+        required: false
+      jobTimeout:
+        description: Timeout for the jobs. Default is 35 minutes
+        type: number
+        default: 35
+        required: false
+      jobsToRun:
+        description: Jobs to run. See .github/workflows/scripts/detect-jobs-to-run.js script
+        type: string
+        default: '-all-'
+        required: false
+      testAll:
+        description: Whether or not this workflow should test all possible engine/protocol combination
+        type: boolean
+        required: true
+
+env:
+  HAS_BUILDPULSE_SECRETS: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID != '' && secrets.BUILDPULSE_SECRET_ACCESS_KEY != '' }}
+  PRISMA_TELEMETRY_INFORMATION: 'prisma test.yml'
+  # To hide ""Update available 0.0.0 -> x.x.x""
+  PRISMA_HIDE_UPDATE_MESSAGE: true
+
+concurrency:
+  group: ${{ github.workflow }}-${{ github.ref }}
+  # Don't cancel if called from buildpulse workflow
+  cancel-in-progress: ${{ inputs.reason != 'buildpulse' }}
+
+jobs:
+  determineBuildMatrixParams:
+    name: Determine build matrix parameters
+    runs-on: ubuntu-latest
+    outputs:
+      queryEngine: ${{ steps.determineBuildMatrixParams.outputs.queryEngine }}
+      excludeClient: ${{ steps.determineBuildMatrixParams.outputs.excludeClient }}
+      excludeDataProxy: ${{ steps.determineBuildMatrixParams.outputs.excludeDataProxy }}
+    steps:
+      - id: checkout
+        uses: actions/checkout@v3
+      - id: determineBuildMatrixParams
+        run: ./.github/workflows/scripts/build-client-matrix.js '${{ inputs.testAll }}'
+
+  #
+  # Linting
+  #
+  lint:
+    timeout-minutes: 7
+    runs-on: ubuntu-latest
+
+    steps:
+      - uses: actions/checkout@v3
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: '16'
+
+      # https://github.com/actions/toolkit/blob/master/docs/commands.md#problem-matchers
+      # Matchers are added in setup-node
+      # https://github.com/actions/setup-node/blob/bacd6b4b3ac3127b28a1e1920c23bf1c2cadbb85/src/main.ts#L54-L60
+      - name: Disable GitHub annotations from linting
+        run: |
+          echo ""::remove-matcher owner=eslint-compact::""
+          echo ""::remove-matcher owner=eslint-stylish::""
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run lint && pnpm run check-engines-override
+        working-directory: ./
+
+  #
+  # CLIENT (without types test)
+  #
+  client:
+    timeout-minutes: ${{ inputs.jobTimeout }}
+    runs-on: ${{ inputs.ubuntuRunner }}
+
+    needs: determineBuildMatrixParams
+    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
+        engineProtocol: ['graphql', 'json']
+        node: [16, 18]
+        exclude: ${{ fromJson(needs.determineBuildMatrixParams.outputs.excludeClient) }}
+
+    env:
+      CI: true
+      SKIP_GIT: true
+      GITHUB_CONTEXT: ${{ toJson(github) }}
+      TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+      TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:5435/tests
+      TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+      TEST_MYSQL_ISOLATED_URI: mysql://root:root@localhost:3307/tests
+      TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
+      TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
+      TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+      TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
+      TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
+      TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
+      TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
+      TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
+      TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
+      TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
+      TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+      TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
+      TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
+      NODE_OPTIONS: '--max-old-space-size=8096'
+      JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ matrix.engineProtocol }}'
+      JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Login to Docker Hub
+        uses: docker/login-action@v2
+        env:
+          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
+          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
+        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
+        with:
+          username: ${{ secrets.DOCKERHUB_USERNAME }}
+          password: ${{ secrets.DOCKERHUB_TOKEN }}
+
+      - name: Set CLI Engine Type
+        run: |
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - name: Set Client Engine Type
+        run: |
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - name: Set Engine Protocol
+        run: |
+          echo ""PRISMA_ENGINE_PROTOCOL=${{ matrix.engineProtocol }}"" >> $GITHUB_ENV
+
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb vitess-8
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+
+      # Run the functional test suite
+      - run: pnpm run test:functional
+        if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
+        working-directory: packages/client
+      # And run  all the other tests (except the types tests)
+      - run: pnpm run test-notypes
+        if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
+        working-directory: packages/client
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/client/src/__tests__/coverage/clover.xml
+          flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: client-${{ matrix.os }}-${{ matrix.queryEngine }}
+
+      - name: Upload test results to BuildPulse for flaky test detection
+        # Only run this step for branches where we have access to secrets.
+        # Run this step even when the tests fail. Skip if the workflow is cancelled.
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
+        uses: Workshop64/buildpulse-action@main
+        with:
+          account: 17219288
+          repository: 192925833
+          path: packages
+          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
+          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
+
+      - uses: actions/upload-artifact@v3
+        if: inputs.reason == 'buildpulse'
+        with:
+          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_dataproxy_junit.xml
+          path: packages/*/junit*.xml
+
+  #
+  # CLIENT (functional tests with mini-proxy)
+  #
+  client-dataproxy:
+    timeout-minutes: ${{ inputs.jobTimeout }}
+    runs-on: ${{ inputs.ubuntuRunner }}
+
+    needs: determineBuildMatrixParams
+    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        node: [14, 16, 18]
+        engineProtocol: ['graphql', 'json']
+        exclude: ${{ fromJson(needs.determineBuildMatrixParams.outputs.excludeDataProxy) }}
+
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Login to Docker Hub
+        uses: docker/login-action@v2
+        env:
+          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
+          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
+        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
+        with:
+          username: ${{ secrets.DOCKERHUB_USERNAME }}
+          password: ${{ secrets.DOCKERHUB_TOKEN }}
+
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run test:functional --data-proxy
+        working-directory: packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
+          TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
+          TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
+          TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+          TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
+          TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
+          NODE_OPTIONS: '--max-old-space-size=8096'
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/dataproxy'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+          PRISMA_ENGINE_PROTOCOL: '${{ matrix.engineProtocol }}'
+
+      - run: pnpm run test:functional --data-proxy --edge-client
+        working-directory: packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
+          TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
+          TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
+          TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+          TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
+          TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
+          NODE_OPTIONS: '--max-old-space-size=8096'
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/dataproxy'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+          PRISMA_ENGINE_PROTOCOL: '${{ matrix.engineProtocol }}'
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/client/src/__tests__/coverage/clover.xml
+          flags: client,${{ matrix.os }},dataproxy
+          name: client-${{ matrix.os }}-dataproxy
+
+      - name: Upload test results to BuildPulse for flaky test detection
+        # Only run this step for branches where we have access to secrets.
+        # Run this step even when the tests fail. Skip if the workflow is cancelled.
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
+        uses: Workshop64/buildpulse-action@main
+        with:
+          account: 17219288
+          repository: 192925833
+          path: packages
+          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
+          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
+
+      - uses: actions/upload-artifact@v3
+        if: inputs.reason == 'buildpulse'
+        with:
+          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_dataproxy_junit.xml
+          path: packages/*/junit*.xml
+
+  #
+  # CLIENT (memory tests)
+  #
+  client-memory:
+    timeout-minutes: ${{ inputs.jobTimeout }}
+    runs-on: ubuntu-latest
+
+    needs: determineBuildMatrixParams
+    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        queryEngine: ['library'] # TODO: binary engine is leaking at the moment
+        node: [14, 16, 18]
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Login to Docker Hub
+        uses: docker/login-action@v2
+        env:
+          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
+          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
+        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
+        with:
+          username: ${{ secrets.DOCKERHUB_USERNAME }}
+          password: ${{ secrets.DOCKERHUB_TOKEN }}
+
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres # mysql mysql_isolated mssql mongo cockroachdb
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run test:memory
+        working-directory: packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
+          TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
+          TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
+
+      - uses: actions/github-script@v6
+        if: ${{ failure() && github.event_name == 'pull_request' }}
+        id: upload-report
+        env:
+          NODE_VERSION: ${{ matrix.node }}
+        with:
+          github-token: ${{ secrets.BOT_TOKEN }}
+          script: |
+            const fs = require('fs')
+            const nodeVersion = process.env.NODE_VERSION
+            const reportPath = `client-memory-test/${context.issue.number}/${context.sha}.${nodeVersion}.html`
+            const url = `https://prisma.github.io/ci-reports/${reportPath}`
+            const localReport = './packages/client/tests/memory/memory-report.html'
+            if (fs.existsSync(localReport)) {
+              await github.rest.repos.createOrUpdateFileContents({
+                owner: 'prisma',
+                repo: 'ci-reports',
+                branch: 'gh-pages',
+                path: reportPath,
+                message: `Add memory results for PR ${context.issue.number}`,
+                content: fs.readFileSync(localReport, 'base64'),
+              });
+              core.setOutput('url', url);
+            }
+
+      - name: Find report comment
+        uses: peter-evans/find-comment@v2
+        id: fc
+        if: ${{ always() && github.event_name == 'pull_request' }}
+        with:
+          issue-number: ${{ github.event.pull_request.number }}
+          comment-author: 'github-actions[bot]'
+          body-includes: 'Client memory tests, node ${{ matrix.node}}, ${{ matrix.queryEngine }}:'
+
+      - name: Create or update remote comment (failure)
+        uses: peter-evans/create-or-update-comment@v3
+        if: ${{ failure() && steps.upload-report.outputs.url }}
+        with:
+          comment-id: ${{ steps.fc.outputs.comment-id }}
+          issue-number: ${{ github.event.pull_request.number }}
+          body: |
+            Client memory tests, node ${{ matrix.node}}, ${{ matrix.queryEngine }}:
+
+            ❌ Failure, [see report](${{ steps.upload-report.outputs.url }}).
+          edit-mode: replace
+
+      - name: Create or update remote comment (success)
+        uses: peter-evans/create-or-update-comment@v3
+        if: ${{ success() && steps.fc.outputs.comment-id != '' }}
+        with:
+          comment-id: ${{ steps.fc.outputs.comment-id }}
+          issue-number: ${{ github.event.pull_request.number }}
+          body: |
+            Client memory tests, node ${{ matrix.node}}, ${{ matrix.queryEngine }}:
+
+            ✅ Success
+          edit-mode: replace
+
+  #
+  # CLIENT test:e2e
+  #
+  client-e2e:
+    timeout-minutes: 25
+    runs-on: ${{ matrix.os }}
+
+    needs: determineBuildMatrixParams
+    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        os: [ubuntu-latest]
+        node: [16]
+
+    steps:
+      - uses: actions/checkout@v3
+
+      # Not currently needed, but we might need it in the future
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run test:e2e --skipBuild --verbose --runInBand
+        working-directory: packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          NODE_OPTIONS: '--max-old-space-size=8096'
+
+  #
+  # CLIENT test:functional:code --relation-mode-tests-only for `relationMode-in-separate-gh-action` tests
+  #
+  client-relationMode:
+    timeout-minutes: 60
+    runs-on: ${{ matrix.os }}
+
+    needs: determineBuildMatrixParams
+    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        relationMode: ['', 'foreignKeys', 'prisma']
+        os: [ubuntu-latest]
+        node: [16]
+
+    env:
+      CI: true
+      SKIP_GIT: true
+      GITHUB_CONTEXT: ${{ toJson(github) }}
+      TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+      TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+      TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
+      TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
+      TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+      TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
+      TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
+      TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
+      TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
+      TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
+      TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
+      TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
+      TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+      TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
+      TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
+      NODE_OPTIONS: '--max-old-space-size=8096'
+      JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+      JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Set RELATION_MODE custom test env var
+        run: |
+          echo ""RELATION_MODE=${{ matrix.relationMode }}""
+          if [ ! -z ""${{ matrix.relationMode }}"" ]; then echo ""RELATION_MODE=${{ matrix.relationMode }}"" >> $GITHUB_ENV; fi
+
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      # shouldn't take more than 15 minutes
+      - name: 1 to 1
+        run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_1-to-1.ts
+        working-directory: packages/client
+
+      # shouldn't take more than 15 minutes
+      - name: 1 to n
+        run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_1-to-n.ts
+        working-directory: packages/client
+
+      # shouldn't take more than 15 minutes
+      - name: m to n (SQL databases)
+        run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_m-to-n.ts
+        working-directory: packages/client
+
+      - name: m to n (MongoDB)
+        run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_m-to-n-MongoDB.ts
+        working-directory: packages/client
+
+      - name: Upload test results to BuildPulse for flaky test detection
+        # Only run this step for branches where we have access to secrets.
+        # Run this step even when the tests fail. Skip if the workflow is cancelled.
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
+        uses: Workshop64/buildpulse-action@main
+        with:
+          account: 17219288
+          repository: 192925833
+          path: packages
+          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
+          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
+
+      - uses: actions/upload-artifact@v3
+        if: inputs.reason == 'buildpulse'
+        with:
+          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
+          path: packages/*/junit*.xml
+
+  #
+  # CLIENT (types tests only)
+  #
+  client-types:
+    timeout-minutes: 15
+    runs-on: ubuntu-latest
+
+    needs: determineBuildMatrixParams
+    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        node: [16]
+
+    steps:
+      - uses: actions/checkout@v3
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run test src/__tests__/types/types.test.ts
+        working-directory: packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/client/src/__tests__/coverage/clover.xml
+          flags: client-types,${{ matrix.os }},library,binary
+          name: client-types-${{ matrix.os }}
+
+  #
+  # INTEGRATION-TESTS
+  #
+  integration-tests:
+    timeout-minutes: 20
+    runs-on: ubuntu-latest
+
+    needs: determineBuildMatrixParams
+    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-integration-tests-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
+        node: [16]
+
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Login to Docker Hub
+        uses: docker/login-action@v2
+        env:
+          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
+          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
+        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
+        with:
+          username: ${{ secrets.DOCKERHUB_USERNAME }}
+          password: ${{ secrets.DOCKERHUB_TOKEN }}
+
+      - name: Set CLI Engine Type
+        run: |
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - name: Set Client Engine Type
+        run: |
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mariadb mssql
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run test
+        working-directory: packages/integration-tests
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@localhost:5432
+          TEST_MYSQL_BASE_URI: mysql://root:root@localhost:3306
+          TEST_MARIADB_BASE_URI: mysql://root:root@localhost:4306
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+          TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
+          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/integration-tests/src/__tests__/coverage/clover.xml
+          flags: integration-tests,${{ matrix.node }},${{ matrix.queryEngine }}
+          name: integration-tests-${{ matrix.node }}-${{ matrix.queryEngine }}
+
+  #
+  # `@prisma/internals`
+  #
+  internals:
+    timeout-minutes: 15
+    runs-on: ${{ matrix.os }}
+
+    needs: determineBuildMatrixParams
+    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-internals-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
+        os: [ubuntu-latest]
+        node: [16, 18]
+
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Login to Docker Hub
+        uses: docker/login-action@v2
+        env:
+          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
+          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
+        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
+        with:
+          username: ${{ secrets.DOCKERHUB_USERNAME }}
+          password: ${{ secrets.DOCKERHUB_TOKEN }}
+
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql
+
+      - name: Set CLI Engine Type
+        run: |
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - name: Set Client Engine Type
+        run: |
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run test
+        working-directory: packages/internals
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+          TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
+          TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/internals/src/__tests__/coverage/clover.xml
+          flags: internals,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: internals-${{ matrix.os }}-${{ matrix.queryEngine }}
+
+  #
+  # MIGRATE
+  #
+  migrate:
+    timeout-minutes: 15
+    runs-on: ${{ matrix.os }}
+
+    needs: determineBuildMatrixParams
+    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-migrate-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
+        os: [ubuntu-latest]
+        node: [16, 18]
+
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Login to Docker Hub
+        uses: docker/login-action@v2
+        env:
+          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
+          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
+        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
+        with:
+          username: ${{ secrets.DOCKERHUB_USERNAME }}
+          password: ${{ secrets.DOCKERHUB_TOKEN }}
+
+      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongodb_migrate mongodb_migrate_seed cockroachdb
+
+      - name: Set CLI Engine Type
+        run: |
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - name: Set Client Engine Type
+        run: |
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run test
+        working-directory: packages/migrate
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+          TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate
+          TEST_POSTGRES_SHADOWDB_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate-shadowdb
+          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+          TEST_MYSQL_URI_MIGRATE: mysql://root:root@localhost:3306/tests-migrate
+          TEST_MYSQL_SHADOWDB_URI_MIGRATE: mysql://root:root@localhost:3306/tests-migrate-shadowdb
+          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
+          TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+          TEST_MSSQL_SHADOWDB_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate-shadowdb;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
+          TEST_MONGO_URI_MIGRATE: 'mongodb://root:prisma@localhost:27017/tests-migrate?authSource=admin'
+          TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
+          TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
+          TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
+          TEST_MONGO_URI_MIGRATE_EXISTING_DB: 'mongodb://root:prisma@localhost:27017/tests-migrate-existing-db?authSource=admin'
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/migrate/src/__tests__/coverage/clover.xml
+          flags: migrate,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: migrate-${{ matrix.os }}-${{ matrix.queryEngine }}
+
+  #
+  # CLI-COMMANDS
+  #
+  cli-commands:
+    timeout-minutes: 10
+    runs-on: ${{ matrix.os }}
+
+    needs: determineBuildMatrixParams
+    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-cli-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
+        os: [ubuntu-latest]
+        node: [16, 18]
+
+    env:
+      TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
+      TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
+
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Set CLI Engine Type
+        run: |
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - name: Set Client Engine Type
+        run: |
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run test
+        working-directory: packages/cli
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/cli/src/__tests__/coverage/clover.xml
+          flags: cli,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: cli-${{ matrix.os }}-${{ matrix.queryEngine }}
+
+  #
+  # All the other packages!
+  #
+  others:
+    timeout-minutes: 10
+    runs-on: ${{ matrix.os }}
+
+    needs: determineBuildMatrixParams
+    if: ${{ contains(inputs.jobsToRun, '-all-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        os: [ubuntu-latest]
+        node: [16, 18]
+
+    steps:
+      - uses: actions/checkout@v3
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - run: pnpm run test
+        name: 'debug'
+        working-directory: packages/debug
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/debug/src/__tests__/coverage/clover.xml
+          flags: debug,${{ matrix.os }},library,binary
+          name: debug-${{ matrix.os }}
+
+      - run: pnpm run test
+        name: 'generator-helper'
+        working-directory: packages/generator-helper
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/generator-helper/src/__tests__/coverage/clover.xml
+          flags: generator-helper,${{ matrix.os }},library,binary
+          name: generator-helper-${{ matrix.os }}
+
+      - run: pnpm run test
+        name: 'get-platform'
+        working-directory: packages/get-platform
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/get-platform/src/__tests__/coverage/clover.xml
+          flags: get-platform,${{ matrix.os }},library,binary
+          name: get-platform-${{ matrix.os }}
+
+      - run: pnpm run test
+        name: 'fetch-engine'
+        working-directory: packages/fetch-engine
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/fetch-engine/src/__tests__/coverage/clover.xml
+          flags: fetch-engine,${{ matrix.os }},library,binary
+          name: fetch-engine-${{ matrix.os }}
+
+      - run: pnpm run test
+        name: 'engines'
+        working-directory: packages/engines
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/engines/src/__tests__/coverage/clover.xml
+          flags: engines,${{ matrix.os }},library,binary
+          name: engines-${{ matrix.os }}
+
+      - run: pnpm run test
+        name: 'instrumentation'
+        working-directory: packages/instrumentation
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/instrumentation/src/__tests__/coverage/clover.xml
+          flags: instrumentation,${{ matrix.os }},library,binary
+          name: instrumentation-${{ matrix.os }}
+
+  #
+  # Run all tests on macOS and Windows.
+  #
+  # Unlike the other jobs, this job doesn't use Docker (and thus skips some
+  # tests that require dependencies not easily installable without Docker).
+  #
+  # It also runs most tests for different packages sequentially
+  # to prevent the combinatorial explosion of the number of parallel jobs,
+  # to minimize the number of times we need to install MySQL using the package manager
+  # (PostgreSQL and MongoDB are provided by GitHub Actions out of the box), and
+  # minimize the time spent waiting for a free runner.
+  #
+  no-docker-client-functional:
+    timeout-minutes: 40
+    runs-on: ${{ matrix.os }}
+    strategy:
+      fail-fast: false
+      matrix:
+        os: [macos-latest, windows-latest]
+        node: [14]
+        queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
+        # Commented out as we still have limited capacity for macOS runners
+        # When we have more capacity we can shard again
+        # shard: ['1', '2']
+
+    needs: determineBuildMatrixParams
+    if: |
+      ${{
+        contains(inputs.jobsToRun, '-all-') ||
+        contains(inputs.jobsToRun, '-client-')
+      }}
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Prerequisites
+        shell: bash
+        run: |
+          echo ""TEST_SKIP_MSSQL=true"" >> $GITHUB_ENV
+          echo ""TEST_SKIP_MONGODB=true"" >> $GITHUB_ENV
+          echo ""TEST_SKIP_COCKROACHDB=true"" >> $GITHUB_ENV
+          echo ""TEST_SKIP_VITESS=true"" >> $GITHUB_ENV
+          echo ""TEST_MONGO_URI_MIGRATE=mongodb://localhost:27017/tests-migrate"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - name: Set up PostgreSQL
+        run: bash .github/workflows/scripts/setup-postgres.sh
+
+      - name: Set up MySQL
+        run: bash .github/workflows/scripts/setup-mysql.sh
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - name: Test packages/client
+        # Commented out as we still have limited capacity for macOS runners
+        # When we have more capacity we can shard again
+        # run: pnpm run test:functional:code --shard=${{matrix.shard}}/2
+        # No shard:
+        run: pnpm run test:functional:code
+        working-directory: packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          # allow Node.js to allocate at most 14GB of heap on macOS and 7GB on Windows
+          # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
+          NODE_OPTIONS: ""${{ matrix.os == 'macos-latest' && '--max-old-space-size=14336' || '--max-old-space-size=7168' }}""
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/client/src/__tests__/coverage/clover.xml
+          flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: client-functional-${{ matrix.os }}-${{ matrix.queryEngine }}
+
+      - name: Upload test results to BuildPulse for flaky test detection
+        # Only run this step for branches where we have access to secrets.
+        # Run this step even when the tests fail. Skip if the workflow is cancelled.
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason =='buildpulse'
+        uses: Workshop64/buildpulse-action@main
+        with:
+          account: 17219288
+          repository: 192925833
+          path: packages
+          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
+          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
+
+      - uses: actions/upload-artifact@v3
+        if: inputs.reason == 'buildpulse'
+        with:
+          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
+          path: packages/*/junit*.xml
+
+  no-docker:
+    timeout-minutes: 40
+    runs-on: ${{ matrix.os }}
+
+    needs: determineBuildMatrixParams
+    if: |
+      ${{
+        contains(inputs.jobsToRun, '-all-') ||
+        contains(inputs.jobsToRun, '-internals-') ||
+        contains(inputs.jobsToRun, '-migrate-') ||
+        contains(inputs.jobsToRun, '-cli-') ||
+        contains(inputs.jobsToRun, '-client-')
+      }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        os: [macos-latest, windows-latest]
+        node: [14]
+        queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
+
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Prerequisites
+        shell: bash
+        run: |
+          echo ""TEST_SKIP_MSSQL=true"" >> $GITHUB_ENV
+          echo ""TEST_SKIP_MONGODB=true"" >> $GITHUB_ENV
+          echo ""TEST_SKIP_COCKROACHDB=true"" >> $GITHUB_ENV
+          echo ""TEST_MONGO_URI_MIGRATE=mongodb://localhost:27017/tests-migrate"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+
+      - name: Set up PostgreSQL
+        run: bash .github/workflows/scripts/setup-postgres.sh
+
+      - name: Set up MySQL
+        run: bash .github/workflows/scripts/setup-mysql.sh
+
+      - uses: pnpm/action-setup@v2.2.4
+        with:
+          version: 7
+
+      - uses: actions/setup-node@v3
+        with:
+          cache: 'pnpm'
+          node-version: ${{ matrix.node }}
+
+      - run: bash .github/workflows/scripts/setup.sh
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+
+      - name: Test packages/internals
+        if: ${{ contains(inputs.jobsToRun, '-all-') }} || contains(inputs.jobsToRun, '-internals-') }}
+        run: pnpm run test --testTimeout=40000
+        working-directory: packages/internals
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/internals/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+
+      - uses: codecov/codecov-action@v3
+        if: ${{ contains(inputs.jobsToRun, '-all-') }} || contains(inputs.jobsToRun, '-internals-') }}
+        with:
+          files: ./packages/internals/src/__tests__/coverage/clover.xml
+          flags: internals,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: internals-${{ matrix.os }}-${{ matrix.queryEngine }}
+
+      - name: Test packages/client (old suite)
+        if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
+        run: pnpm run test-notypes --testTimeout=40000
+        working-directory: packages/client
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          # Allow Node.js to allocate at most a certain amount heap on macOS and a different amount on Windows
+          # Note that this value should be lower than the total amount of RAM available
+          # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
+          NODE_OPTIONS: ""${{ matrix.os == 'macos-latest' && '--max-old-space-size=14336' || '--max-old-space-size=3072' }}""
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+
+      - uses: codecov/codecov-action@v3
+        if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
+        with:
+          files: ./packages/client/src/__tests__/coverage/clover.xml
+          flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: client-${{ matrix.os }}-${{ matrix.queryEngine }}
+
+      - name: Test packages/migrate
+        if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-migrate-') }}
+        run: pnpm run test --testTimeout=40000
+        working-directory: packages/migrate
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/migrate/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+
+      - uses: codecov/codecov-action@v3
+        if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-migrate-') }}
+        with:
+          files: ./packages/migrate/src/__tests__/coverage/clover.xml
+          flags: migrate,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: migrate-${{ matrix.os }}-${{ matrix.queryEngine }}
+
+      - name: Test packages/cli
+        if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-cli-') }}
+        run: pnpm run test --testTimeout=40000
+        working-directory: packages/cli
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/cli/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+
+      - uses: codecov/codecov-action@v3
+        if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-cli-') }}
+        with:
+          files: ./packages/cli/src/__tests__/coverage/clover.xml
+          flags: cli,${{ matrix.os }},${{ matrix.queryEngine }}
+          name: cli-${{ matrix.os }}-${{ matrix.queryEngine }}
+
+      - name: Test packages/debug
+        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        run: pnpm run test
+        working-directory: packages/debug
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/debug/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+
+      - uses: codecov/codecov-action@v3
+        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        with:
+          files: ./packages/debug/src/__tests__/coverage/clover.xml
+          flags: debug,${{ matrix.os }},library,binary
+          name: debug-${{ matrix.os }}
+
+      - name: Test packages/generator-helper
+        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        run: pnpm run test
+        working-directory: packages/generator-helper
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/generator-helper/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+
+      - uses: codecov/codecov-action@v3
+        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        with:
+          files: ./packages/generator-helper/src/__tests__/coverage/clover.xml
+          flags: generator-helper,${{ matrix.os }},library,binary
+          name: generator-helper-${{ matrix.os }}
+
+      - name: Test packages/get-platform
+        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        run: pnpm run test
+        working-directory: packages/get-platform
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/get-platform/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+
+      - uses: codecov/codecov-action@v3
+        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        with:
+          files: ./packages/get-platform/src/__tests__/coverage/clover.xml
+          flags: get-platform,${{ matrix.os }},library,binary
+          name: get-platform-${{ matrix.os }}
+
+      - name: Test packages/fetch-engine
+        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        run: pnpm run test
+        working-directory: packages/fetch-engine
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/fetch-engine/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+
+      - uses: codecov/codecov-action@v3
+        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        with:
+          files: ./packages/fetch-engine/src/__tests__/coverage/clover.xml
+          flags: fetch-engine,${{ matrix.os }},library,binary
+          name: fetch-engine-${{ matrix.os }}
+
+      - name: Test packages/engines
+        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        run: pnpm run test
+        working-directory: packages/engines
+        env:
+          CI: true
+          SKIP_GIT: true
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/engines/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+
+      - uses: codecov/codecov-action@v3
+        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        with:
+          files: ./packages/engines/src/__tests__/coverage/clover.xml
+          flags: engines,${{ matrix.os }},library,binary
+          name: engines-${{ matrix.os }}
+
+      - name: Upload test results to BuildPulse for flaky test detection
+        # Only run this step for branches where we have access to secrets.
+        # Run this step even when the tests fail. Skip if the workflow is cancelled.
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
+        uses: Workshop64/buildpulse-action@main
+        with:
+          account: 17219288
+          repository: 192925833
+          path: packages
+          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
+          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
+
+      - uses: actions/upload-artifact@v3
+        if: inputs.reason == 'buildpulse'
+        with:
+          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
+          path: packages/*/junit*.xml
",True,True,False,False,False,True,False
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,8df933173c1d340dcb4d2fc7d953870f401b886e,fffbd79b7a5ebdb6e496e0f90fb1662ccaf43975,2023-05-08 17:13:50+02:00,"ci(GitHub): improve daily tests/CI workflows  (#19132)

* ci: Improve daily builds/CI workflows

1. Splits most of the workflow in a separate reusable template
file. This allows us to safely use defaults.yaml of workflow inputs
regardless of the reasons workflow got triggered and don't think about
fallback every time we need to use the input.
2. ""Detect jobs to run"" step, as well as the attempt to find ""ci test
all"" comment now will be done only in CI workflow. Scheduled jobs
will autoamtically build everything.

* Review",5,4.14.0,test.yml,MODIFY,6,1352,,19132,SevInf,User,CONTRIBUTOR,SevInf,User,2023-05-08T09:18:44Z,2023-05-08T15:13:51Z,closed,,,,"1. Splits most of the workflow in a separate reusable template
file. This allows us to safely use defaults.yaml of workflow inputs
regardless of the reasons workflow got triggered and don't think about
fallback every time we need to use the input.
2. ""Detect jobs to run"" step, as well as the attempt to find ""ci test
all"" comment now will be done only in CI workflow. Scheduled jobs
will automatically test everything.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/8df9331_test.yml,../Mining/generated/scripts/prisma/files_src_after/8df9331_test.yml,None,None,None,"@@ -1,5 +1,4 @@
 name: CI
-
 # Run on push only for main, if not it will trigger push & pull_request on PRs at the same time
 on:
   push:
@@ -43,34 +42,6 @@ on:
       - 'scripts/ci/publish.ts'
       - 'graphs/**'
   workflow_dispatch:
-  workflow_call:
-    inputs:
-      reason:
-        description: |
-          Reason why this workflow was called. Could be ""buildpulse"" for
-          flaky tests detection or ""daily-test"" for scheduled full builds
-        type: string
-        required: false
-        default: CI
-      ubuntuRunner:
-        description: Override default runner used for linux tests. Can be used to opt-out of buildjet
-        type: string
-        required: false
-      jobTimeout:
-        description: Timeout for the jobs. Default is 35 minutes
-        type: number
-        required: false
-
-env:
-  HAS_BUILDPULSE_SECRETS: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID != '' && secrets.BUILDPULSE_SECRET_ACCESS_KEY != '' }}
-  PRISMA_TELEMETRY_INFORMATION: 'prisma test.yml'
-  # To hide ""Update available 0.0.0 -> x.x.x""
-  PRISMA_HIDE_UPDATE_MESSAGE: true
-
-concurrency:
-  group: ${{ github.workflow }}-${{ github.ref }}
-  # Don't cancel if called from buildpulse workflow
-  cancel-in-progress: ${{ inputs.reason != 'buildpulse' }}
 
 jobs:
   detect_jobs_to_run:
@@ -78,9 +49,7 @@ jobs:
     runs-on: ubuntu-latest
     outputs:
       jobs: ${{ steps.detect.outputs.jobs }}
-      queryEngine: ${{ steps.determineBuildMatrixParams.outputs.queryEngine }}
-      excludeClient: ${{ steps.determineBuildMatrixParams.outputs.excludeClient }}
-      excludeDataProxy: ${{ steps.determineBuildMatrixParams.outputs.excludeDataProxy }}
+      testAllCommentId: ${{ steps.findTestAllComment.outputs.comment-id }}
     steps:
       - id: checkout
         uses: actions/checkout@v3
@@ -88,7 +57,6 @@ jobs:
         uses: Ana06/get-changed-files@v2.2.0 # it's a fork of jitterbit/get-changed-files@v1 which works better with pull requests
         with:
           format: 'json'
-        continue-on-error: true # This allow this job to fail (e.g. for scheduled runs), and then the `detect` step below will default to `all`
       - id: detect
         run: ./.github/workflows/scripts/detect-jobs-to-run.js <<< '${{ steps.files.outputs.all }}'
       - name: Find ""ci test all"" comment
@@ -98,1323 +66,9 @@ jobs:
         with:
           issue-number: ${{ github.event.pull_request.number }}
           body-includes: 'ci test all'
-      - id: determineBuildMatrixParams
-        run: ./.github/workflows/scripts/build-client-matrix.js '${{ inputs.reason }}' '${{ steps.findTestAllComment.outputs.comment-id }}'
-
-  #
-  # Linting
-  #
-  lint:
-    timeout-minutes: 7
-    runs-on: ubuntu-latest
-
-    steps:
-      - uses: actions/checkout@v3
-
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: 7
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: '16'
-
-      # https://github.com/actions/toolkit/blob/master/docs/commands.md#problem-matchers
-      # Matchers are added in setup-node
-      # https://github.com/actions/setup-node/blob/bacd6b4b3ac3127b28a1e1920c23bf1c2cadbb85/src/main.ts#L54-L60
-      - name: Disable GitHub annotations from linting
-        run: |
-          echo ""::remove-matcher owner=eslint-compact::""
-          echo ""::remove-matcher owner=eslint-stylish::""
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - run: pnpm run lint && pnpm run check-engines-override
-        working-directory: ./
-
-  #
-  # CLIENT (without types test)
-  #
-  client:
-    timeout-minutes: ${{ inputs.jobTimeout || 35 }}
-    runs-on: ${{ inputs.ubuntuRunner || matrix.os }}
-
+  run_tests:
     needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-
-    strategy:
-      fail-fast: false
-      matrix:
-        queryEngine: ${{ fromJson(needs.detect_jobs_to_run.outputs.queryEngine) }}
-        engineProtocol: ['graphql', 'json']
-        os: [buildjet-4vcpu-ubuntu-2004]
-        node: [16, 18]
-        exclude: ${{ fromJson(needs.detect_jobs_to_run.outputs.excludeClient) }}
-
-    env:
-      CI: true
-      SKIP_GIT: true
-      GITHUB_CONTEXT: ${{ toJson(github) }}
-      TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-      TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:5435/tests
-      TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-      TEST_MYSQL_ISOLATED_URI: mysql://root:root@localhost:3307/tests
-      TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-      TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
-      TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-      TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
-      TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
-      TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
-      TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
-      TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
-      TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
-      TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
-      TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-      TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
-      TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
-      NODE_OPTIONS: '--max-old-space-size=8096'
-      JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ matrix.engineProtocol }}'
-      JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
-    steps:
-      - uses: actions/checkout@v3
-
-      - name: Login to Docker Hub
-        uses: docker/login-action@v2
-        env:
-          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
-          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
-        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
-        with:
-          username: ${{ secrets.DOCKERHUB_USERNAME }}
-          password: ${{ secrets.DOCKERHUB_TOKEN }}
-
-      - name: Set CLI Engine Type
-        run: |
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-
-      - name: Set Client Engine Type
-        run: |
-          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-
-      - name: Set Engine Protocol
-        run: |
-          echo ""PRISMA_ENGINE_PROTOCOL=${{ matrix.engineProtocol }}"" >> $GITHUB_ENV
-
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb vitess-8
-
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: 7
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-
-      # Run the functional test suite
-      - run: pnpm run test:functional
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-        working-directory: packages/client
-      # And run  all the other tests (except the types tests)
-      - run: pnpm run test-notypes
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-        working-directory: packages/client
-
-      - uses: codecov/codecov-action@v3
-        with:
-          files: ./packages/client/src/__tests__/coverage/clover.xml
-          flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
-          name: client-${{ matrix.os }}-${{ matrix.queryEngine }}
-
-      - name: Upload test results to BuildPulse for flaky test detection
-        # Only run this step for branches where we have access to secrets.
-        # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
-        uses: Workshop64/buildpulse-action@main
-        with:
-          account: 17219288
-          repository: 192925833
-          path: packages
-          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
-          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
-
-      - uses: actions/upload-artifact@v3
-        if: inputs.reason == 'buildpulse'
-        with:
-          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_dataproxy_junit.xml
-          path: packages/*/junit*.xml
-
-  #
-  # CLIENT (functional tests with mini-proxy)
-  #
-  client-dataproxy:
-    timeout-minutes: ${{ inputs.jobTimeout || 35 }}
-    runs-on: ${{ inputs.ubuntuRunner || matrix.os }}
-
-    needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-
-    strategy:
-      fail-fast: false
-      matrix:
-        os: [buildjet-4vcpu-ubuntu-2004]
-        node: [14, 16, 18]
-        engineProtocol: ['graphql', 'json']
-        exclude: ${{ fromJson(needs.detect_jobs_to_run.outputs.excludeDataProxy) }}
-
-    steps:
-      - uses: actions/checkout@v3
-
-      - name: Login to Docker Hub
-        uses: docker/login-action@v2
-        env:
-          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
-          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
-        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
-        with:
-          username: ${{ secrets.DOCKERHUB_USERNAME }}
-          password: ${{ secrets.DOCKERHUB_TOKEN }}
-
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
-
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: 7
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - run: pnpm run test:functional --data-proxy
-        working-directory: packages/client
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
-          TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
-          TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
-          TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-          TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
-          TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
-          NODE_OPTIONS: '--max-old-space-size=8096'
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/dataproxy'
-          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-          PRISMA_ENGINE_PROTOCOL: '${{ matrix.engineProtocol }}'
-
-      - run: pnpm run test:functional --data-proxy --edge-client
-        working-directory: packages/client
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
-          TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
-          TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
-          TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-          TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
-          TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
-          NODE_OPTIONS: '--max-old-space-size=8096'
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/dataproxy'
-          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-          PRISMA_ENGINE_PROTOCOL: '${{ matrix.engineProtocol }}'
-
-      - uses: codecov/codecov-action@v3
-        with:
-          files: ./packages/client/src/__tests__/coverage/clover.xml
-          flags: client,${{ matrix.os }},dataproxy
-          name: client-${{ matrix.os }}-dataproxy
-
-      - name: Upload test results to BuildPulse for flaky test detection
-        # Only run this step for branches where we have access to secrets.
-        # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
-        uses: Workshop64/buildpulse-action@main
-        with:
-          account: 17219288
-          repository: 192925833
-          path: packages
-          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
-          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
-
-      - uses: actions/upload-artifact@v3
-        if: inputs.reason == 'buildpulse'
-        with:
-          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_dataproxy_junit.xml
-          path: packages/*/junit*.xml
-
-  #
-  # CLIENT (memory tests)
-  #
-  client-memory:
-    timeout-minutes: ${{ inputs.jobTimeout || 35 }}
-    runs-on: ${{ inputs.ubuntuRunner || matrix.os }}
-
-    needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-
-    strategy:
-      fail-fast: false
-      matrix:
-        queryEngine: ['library'] # TODO: binary engine is leaking at the moment
-        os: [ubuntu-latest]
-        node: [14, 16, 18]
-    steps:
-      - uses: actions/checkout@v3
-
-      - name: Login to Docker Hub
-        uses: docker/login-action@v2
-        env:
-          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
-          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
-        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
-        with:
-          username: ${{ secrets.DOCKERHUB_USERNAME }}
-          password: ${{ secrets.DOCKERHUB_TOKEN }}
-
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres # mysql mysql_isolated mssql mongo cockroachdb
-
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: 7
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - run: pnpm run test:memory
-        working-directory: packages/client
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-          TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
-          TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
-
-      - uses: actions/github-script@v6
-        if: ${{ failure() && github.event_name == 'pull_request' }}
-        id: upload-report
-        env:
-          NODE_VERSION: ${{ matrix.node }}
-        with:
-          github-token: ${{ secrets.BOT_TOKEN }}
-          script: |
-            const fs = require('fs')
-            const nodeVersion = process.env.NODE_VERSION
-            const reportPath = `client-memory-test/${context.issue.number}/${context.sha}.${nodeVersion}.html`
-            const url = `https://prisma.github.io/ci-reports/${reportPath}`
-            const localReport = './packages/client/tests/memory/memory-report.html'
-            if (fs.existsSync(localReport)) {
-              await github.rest.repos.createOrUpdateFileContents({
-                owner: 'prisma',
-                repo: 'ci-reports',
-                branch: 'gh-pages',
-                path: reportPath,
-                message: `Add memory results for PR ${context.issue.number}`,
-                content: fs.readFileSync(localReport, 'base64'),
-              });
-              core.setOutput('url', url);
-            }
-
-      - name: Find report comment
-        uses: peter-evans/find-comment@v2
-        id: fc
-        if: ${{ always() && github.event_name == 'pull_request' }}
-        with:
-          issue-number: ${{ github.event.pull_request.number }}
-          comment-author: 'github-actions[bot]'
-          body-includes: 'Client memory tests, node ${{ matrix.node}}, ${{ matrix.queryEngine }}:'
-
-      - name: Create or update remote comment (failure)
-        uses: peter-evans/create-or-update-comment@v3
-        if: ${{ failure() && steps.upload-report.outputs.url }}
-        with:
-          comment-id: ${{ steps.fc.outputs.comment-id }}
-          issue-number: ${{ github.event.pull_request.number }}
-          body: |
-            Client memory tests, node ${{ matrix.node}}, ${{ matrix.queryEngine }}:
-
-            ❌ Failure, [see report](${{ steps.upload-report.outputs.url }}).
-          edit-mode: replace
-
-      - name: Create or update remote comment (success)
-        uses: peter-evans/create-or-update-comment@v3
-        if: ${{ success() && steps.fc.outputs.comment-id != '' }}
-        with:
-          comment-id: ${{ steps.fc.outputs.comment-id }}
-          issue-number: ${{ github.event.pull_request.number }}
-          body: |
-            Client memory tests, node ${{ matrix.node}}, ${{ matrix.queryEngine }}:
-
-            ✅ Success
-          edit-mode: replace
-
-  #
-  # CLIENT test:e2e
-  #
-  client-e2e:
-    timeout-minutes: 25
-    runs-on: ${{ matrix.os }}
-
-    needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-
-    strategy:
-      fail-fast: false
-      matrix:
-        os: [ubuntu-latest]
-        node: [16]
-
-    steps:
-      - uses: actions/checkout@v3
-
-      # Not currently needed, but we might need it in the future
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
-
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: 7
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - run: pnpm run test:e2e --skipBuild --verbose --runInBand
-        working-directory: packages/client
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          NODE_OPTIONS: '--max-old-space-size=8096'
-
-  #
-  # CLIENT test:functional:code --relation-mode-tests-only for `relationMode-in-separate-gh-action` tests
-  #
-  client-relationMode:
-    timeout-minutes: 60
-    runs-on: ${{ matrix.os }}
-
-    needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-
-    strategy:
-      fail-fast: false
-      matrix:
-        relationMode: ['', 'foreignKeys', 'prisma']
-        os: [ubuntu-latest]
-        node: [16]
-
-    env:
-      CI: true
-      SKIP_GIT: true
-      GITHUB_CONTEXT: ${{ toJson(github) }}
-      TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-      TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-      TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-      TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
-      TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-      TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
-      TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
-      TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
-      TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
-      TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
-      TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
-      TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
-      TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-      TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
-      TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
-      NODE_OPTIONS: '--max-old-space-size=8096'
-      JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
-      JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
-    steps:
-      - uses: actions/checkout@v3
-
-      - name: Set RELATION_MODE custom test env var
-        run: |
-          echo ""RELATION_MODE=${{ matrix.relationMode }}""
-          if [ ! -z ""${{ matrix.relationMode }}"" ]; then echo ""RELATION_MODE=${{ matrix.relationMode }}"" >> $GITHUB_ENV; fi
-
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
-
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: 7
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      # shouldn't take more than 15 minutes
-      - name: 1 to 1
-        run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_1-to-1.ts
-        working-directory: packages/client
-
-      # shouldn't take more than 15 minutes
-      - name: 1 to n
-        run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_1-to-n.ts
-        working-directory: packages/client
-
-      # shouldn't take more than 15 minutes
-      - name: m to n (SQL databases)
-        run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_m-to-n.ts
-        working-directory: packages/client
-
-      - name: m to n (MongoDB)
-        run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_m-to-n-MongoDB.ts
-        working-directory: packages/client
-
-      - name: Upload test results to BuildPulse for flaky test detection
-        # Only run this step for branches where we have access to secrets.
-        # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
-        uses: Workshop64/buildpulse-action@main
-        with:
-          account: 17219288
-          repository: 192925833
-          path: packages
-          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
-          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
-
-      - uses: actions/upload-artifact@v3
-        if: inputs.reason == 'buildpulse'
-        with:
-          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
-          path: packages/*/junit*.xml
-
-  #
-  # CLIENT (types tests only)
-  #
-  client-types:
-    timeout-minutes: 15
-    runs-on: ubuntu-latest
-
-    needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-
-    strategy:
-      fail-fast: false
-      matrix:
-        node: [16]
-
-    steps:
-      - uses: actions/checkout@v3
-
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: 7
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - run: pnpm run test src/__tests__/types/types.test.ts
-        working-directory: packages/client
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - uses: codecov/codecov-action@v3
-        with:
-          files: ./packages/client/src/__tests__/coverage/clover.xml
-          flags: client-types,${{ matrix.os }},library,binary
-          name: client-types-${{ matrix.os }}
-
-  #
-  # INTEGRATION-TESTS
-  #
-  integration-tests:
-    timeout-minutes: 20
-    runs-on: ubuntu-latest
-
-    needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-integration-tests-') }}
-
-    strategy:
-      fail-fast: false
-      matrix:
-        queryEngine: ${{ fromJson(needs.detect_jobs_to_run.outputs.queryEngine) }}
-        node: [16]
-
-    steps:
-      - uses: actions/checkout@v3
-
-      - name: Login to Docker Hub
-        uses: docker/login-action@v2
-        env:
-          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
-          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
-        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
-        with:
-          username: ${{ secrets.DOCKERHUB_USERNAME }}
-          password: ${{ secrets.DOCKERHUB_TOKEN }}
-
-      - name: Set CLI Engine Type
-        run: |
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-
-      - name: Set Client Engine Type
-        run: |
-          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mariadb mssql
-
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: 7
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - run: pnpm run test
-        working-directory: packages/integration-tests
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@localhost:5432
-          TEST_MYSQL_BASE_URI: mysql://root:root@localhost:3306
-          TEST_MARIADB_BASE_URI: mysql://root:root@localhost:4306
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-          TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
-          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-
-      - uses: codecov/codecov-action@v3
-        with:
-          files: ./packages/integration-tests/src/__tests__/coverage/clover.xml
-          flags: integration-tests,${{ matrix.node }},${{ matrix.queryEngine }}
-          name: integration-tests-${{ matrix.node }}-${{ matrix.queryEngine }}
-
-  #
-  # `@prisma/internals`
-  #
-  internals:
-    timeout-minutes: 15
-    runs-on: ${{ matrix.os }}
-
-    needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-internals-') }}
-
-    strategy:
-      fail-fast: false
-      matrix:
-        queryEngine: ${{ fromJson(needs.detect_jobs_to_run.outputs.queryEngine) }}
-        os: [ubuntu-latest]
-        node: [16, 18]
-
-    steps:
-      - uses: actions/checkout@v3
-
-      - name: Login to Docker Hub
-        uses: docker/login-action@v2
-        env:
-          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
-          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
-        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
-        with:
-          username: ${{ secrets.DOCKERHUB_USERNAME }}
-          password: ${{ secrets.DOCKERHUB_TOKEN }}
-
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql
-
-      - name: Set CLI Engine Type
-        run: |
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-
-      - name: Set Client Engine Type
-        run: |
-          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: 7
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - run: pnpm run test
-        working-directory: packages/internals
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-          TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
-          TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
-
-      - uses: codecov/codecov-action@v3
-        with:
-          files: ./packages/internals/src/__tests__/coverage/clover.xml
-          flags: internals,${{ matrix.os }},${{ matrix.queryEngine }}
-          name: internals-${{ matrix.os }}-${{ matrix.queryEngine }}
-
-  #
-  # MIGRATE
-  #
-  migrate:
-    timeout-minutes: 15
-    runs-on: ${{ matrix.os }}
-
-    needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') }}
-
-    strategy:
-      fail-fast: false
-      matrix:
-        queryEngine: ${{ fromJson(needs.detect_jobs_to_run.outputs.queryEngine) }}
-        os: [ubuntu-latest]
-        node: [16, 18]
-
-    steps:
-      - uses: actions/checkout@v3
-
-      - name: Login to Docker Hub
-        uses: docker/login-action@v2
-        env:
-          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
-          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
-        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
-        with:
-          username: ${{ secrets.DOCKERHUB_USERNAME }}
-          password: ${{ secrets.DOCKERHUB_TOKEN }}
-
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongodb_migrate mongodb_migrate_seed cockroachdb
-
-      - name: Set CLI Engine Type
-        run: |
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-
-      - name: Set Client Engine Type
-        run: |
-          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: 7
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - run: pnpm run test
-        working-directory: packages/migrate
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-          TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate
-          TEST_POSTGRES_SHADOWDB_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate-shadowdb
-          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-          TEST_MYSQL_URI_MIGRATE: mysql://root:root@localhost:3306/tests-migrate
-          TEST_MYSQL_SHADOWDB_URI_MIGRATE: mysql://root:root@localhost:3306/tests-migrate-shadowdb
-          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-          TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-          TEST_MSSQL_SHADOWDB_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate-shadowdb;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-          TEST_MONGO_URI_MIGRATE: 'mongodb://root:prisma@localhost:27017/tests-migrate?authSource=admin'
-          TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
-          TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
-          TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
-          TEST_MONGO_URI_MIGRATE_EXISTING_DB: 'mongodb://root:prisma@localhost:27017/tests-migrate-existing-db?authSource=admin'
-
-      - uses: codecov/codecov-action@v3
-        with:
-          files: ./packages/migrate/src/__tests__/coverage/clover.xml
-          flags: migrate,${{ matrix.os }},${{ matrix.queryEngine }}
-          name: migrate-${{ matrix.os }}-${{ matrix.queryEngine }}
-
-  #
-  # CLI-COMMANDS
-  #
-  cli-commands:
-    timeout-minutes: 10
-    runs-on: ${{ matrix.os }}
-
-    needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-') }}
-
-    strategy:
-      fail-fast: false
-      matrix:
-        queryEngine: ${{ fromJson(needs.detect_jobs_to_run.outputs.queryEngine) }}
-        os: [ubuntu-latest]
-        node: [16, 18]
-
-    env:
-      TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-      TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-
-    steps:
-      - uses: actions/checkout@v3
-
-      - name: Set CLI Engine Type
-        run: |
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-
-      - name: Set Client Engine Type
-        run: |
-          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: 7
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - run: pnpm run test
-        working-directory: packages/cli
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - uses: codecov/codecov-action@v3
-        with:
-          files: ./packages/cli/src/__tests__/coverage/clover.xml
-          flags: cli,${{ matrix.os }},${{ matrix.queryEngine }}
-          name: cli-${{ matrix.os }}-${{ matrix.queryEngine }}
-
-  #
-  # All the other packages!
-  #
-  others:
-    timeout-minutes: 10
-    runs-on: ${{ matrix.os }}
-
-    needs: detect_jobs_to_run
-    if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
-
-    strategy:
-      fail-fast: false
-      matrix:
-        os: [ubuntu-latest]
-        node: [16, 18]
-
-    steps:
-      - uses: actions/checkout@v3
-
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: 7
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - run: pnpm run test
-        name: 'debug'
-        working-directory: packages/debug
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - uses: codecov/codecov-action@v3
-        with:
-          files: ./packages/debug/src/__tests__/coverage/clover.xml
-          flags: debug,${{ matrix.os }},library,binary
-          name: debug-${{ matrix.os }}
-
-      - run: pnpm run test
-        name: 'generator-helper'
-        working-directory: packages/generator-helper
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - uses: codecov/codecov-action@v3
-        with:
-          files: ./packages/generator-helper/src/__tests__/coverage/clover.xml
-          flags: generator-helper,${{ matrix.os }},library,binary
-          name: generator-helper-${{ matrix.os }}
-
-      - run: pnpm run test
-        name: 'get-platform'
-        working-directory: packages/get-platform
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - uses: codecov/codecov-action@v3
-        with:
-          files: ./packages/get-platform/src/__tests__/coverage/clover.xml
-          flags: get-platform,${{ matrix.os }},library,binary
-          name: get-platform-${{ matrix.os }}
-
-      - run: pnpm run test
-        name: 'fetch-engine'
-        working-directory: packages/fetch-engine
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - uses: codecov/codecov-action@v3
-        with:
-          files: ./packages/fetch-engine/src/__tests__/coverage/clover.xml
-          flags: fetch-engine,${{ matrix.os }},library,binary
-          name: fetch-engine-${{ matrix.os }}
-
-      - run: pnpm run test
-        name: 'engines'
-        working-directory: packages/engines
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - uses: codecov/codecov-action@v3
-        with:
-          files: ./packages/engines/src/__tests__/coverage/clover.xml
-          flags: engines,${{ matrix.os }},library,binary
-          name: engines-${{ matrix.os }}
-
-      - run: pnpm run test
-        name: 'instrumentation'
-        working-directory: packages/instrumentation
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - uses: codecov/codecov-action@v3
-        with:
-          files: ./packages/instrumentation/src/__tests__/coverage/clover.xml
-          flags: instrumentation,${{ matrix.os }},library,binary
-          name: instrumentation-${{ matrix.os }}
-
-  #
-  # Run all tests on macOS and Windows.
-  #
-  # Unlike the other jobs, this job doesn't use Docker (and thus skips some
-  # tests that require dependencies not easily installable without Docker).
-  #
-  # It also runs most tests for different packages sequentially
-  # to prevent the combinatorial explosion of the number of parallel jobs,
-  # to minimize the number of times we need to install MySQL using the package manager
-  # (PostgreSQL and MongoDB are provided by GitHub Actions out of the box), and
-  # minimize the time spent waiting for a free runner.
-  #
-  no-docker-client-functional:
-    timeout-minutes: 40
-    runs-on: ${{ matrix.os }}
-    strategy:
-      fail-fast: false
-      matrix:
-        os: [macos-latest, windows-latest]
-        node: [14]
-        queryEngine: ${{ fromJson(needs.detect_jobs_to_run.outputs.queryEngine) }}
-        # Commented out as we still have limited capacity for macOS runners
-        # When we have more capacity we can shard again
-        # shard: ['1', '2']
-
-    needs: detect_jobs_to_run
-    if: |
-      ${{
-        contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') ||
-        contains(needs.detect_jobs_to_run.outputs.jobs, '-client-')
-      }}
-    steps:
-      - uses: actions/checkout@v3
-
-      - name: Prerequisites
-        shell: bash
-        run: |
-          echo ""TEST_SKIP_MSSQL=true"" >> $GITHUB_ENV
-          echo ""TEST_SKIP_MONGODB=true"" >> $GITHUB_ENV
-          echo ""TEST_SKIP_COCKROACHDB=true"" >> $GITHUB_ENV
-          echo ""TEST_SKIP_VITESS=true"" >> $GITHUB_ENV
-          echo ""TEST_MONGO_URI_MIGRATE=mongodb://localhost:27017/tests-migrate"" >> $GITHUB_ENV
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-
-      - name: Set up PostgreSQL
-        run: bash .github/workflows/scripts/setup-postgres.sh
-
-      - name: Set up MySQL
-        run: bash .github/workflows/scripts/setup-mysql.sh
-
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: 7
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - name: Test packages/client
-        # Commented out as we still have limited capacity for macOS runners
-        # When we have more capacity we can shard again
-        # run: pnpm run test:functional:code --shard=${{matrix.shard}}/2
-        # No shard:
-        run: pnpm run test:functional:code
-        working-directory: packages/client
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          # allow Node.js to allocate at most 14GB of heap on macOS and 7GB on Windows
-          # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
-          NODE_OPTIONS: ""${{ matrix.os == 'macos-latest' && '--max-old-space-size=14336' || '--max-old-space-size=7168' }}""
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
-          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
-      - uses: codecov/codecov-action@v3
-        with:
-          files: ./packages/client/src/__tests__/coverage/clover.xml
-          flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
-          name: client-functional-${{ matrix.os }}-${{ matrix.queryEngine }}
-
-      - name: Upload test results to BuildPulse for flaky test detection
-        # Only run this step for branches where we have access to secrets.
-        # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason =='buildpulse'
-        uses: Workshop64/buildpulse-action@main
-        with:
-          account: 17219288
-          repository: 192925833
-          path: packages
-          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
-          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
-
-      - uses: actions/upload-artifact@v3
-        if: inputs.reason == 'buildpulse'
-        with:
-          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
-          path: packages/*/junit*.xml
-
-  no-docker:
-    timeout-minutes: 40
-    runs-on: ${{ matrix.os }}
-
-    needs: detect_jobs_to_run
-    if: |
-      ${{
-        contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') ||
-        contains(needs.detect_jobs_to_run.outputs.jobs, '-internals-') ||
-        contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') ||
-        contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-') ||
-        contains(needs.detect_jobs_to_run.outputs.jobs, '-client-')
-      }}
-
-    strategy:
-      fail-fast: false
-      matrix:
-        os: [macos-latest, windows-latest]
-        node: [14]
-        queryEngine: ${{ fromJson(needs.detect_jobs_to_run.outputs.queryEngine) }}
-
-    steps:
-      - uses: actions/checkout@v3
-
-      - name: Prerequisites
-        shell: bash
-        run: |
-          echo ""TEST_SKIP_MSSQL=true"" >> $GITHUB_ENV
-          echo ""TEST_SKIP_MONGODB=true"" >> $GITHUB_ENV
-          echo ""TEST_SKIP_COCKROACHDB=true"" >> $GITHUB_ENV
-          echo ""TEST_MONGO_URI_MIGRATE=mongodb://localhost:27017/tests-migrate"" >> $GITHUB_ENV
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-
-      - name: Set up PostgreSQL
-        run: bash .github/workflows/scripts/setup-postgres.sh
-
-      - name: Set up MySQL
-        run: bash .github/workflows/scripts/setup-mysql.sh
-
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: 7
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      - name: Test packages/internals
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }} || contains(needs.detect_jobs_to_run.outputs.jobs, '-internals-') }}
-        run: pnpm run test --testTimeout=40000
-        working-directory: packages/internals
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/internals/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
-          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
-      - uses: codecov/codecov-action@v3
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }} || contains(needs.detect_jobs_to_run.outputs.jobs, '-internals-') }}
-        with:
-          files: ./packages/internals/src/__tests__/coverage/clover.xml
-          flags: internals,${{ matrix.os }},${{ matrix.queryEngine }}
-          name: internals-${{ matrix.os }}-${{ matrix.queryEngine }}
-
-      - name: Test packages/client (old suite)
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-        run: pnpm run test-notypes --testTimeout=40000
-        working-directory: packages/client
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          # Allow Node.js to allocate at most a certain amount heap on macOS and a different amount on Windows
-          # Note that this value should be lower than the total amount of RAM available
-          # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
-          NODE_OPTIONS: ""${{ matrix.os == 'macos-latest' && '--max-old-space-size=14336' || '--max-old-space-size=3072' }}""
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
-          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
-      - uses: codecov/codecov-action@v3
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-client-') }}
-        with:
-          files: ./packages/client/src/__tests__/coverage/clover.xml
-          flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
-          name: client-${{ matrix.os }}-${{ matrix.queryEngine }}
-
-      - name: Test packages/migrate
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') }}
-        run: pnpm run test --testTimeout=40000
-        working-directory: packages/migrate
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/migrate/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
-          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
-      - uses: codecov/codecov-action@v3
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-migrate-') }}
-        with:
-          files: ./packages/migrate/src/__tests__/coverage/clover.xml
-          flags: migrate,${{ matrix.os }},${{ matrix.queryEngine }}
-          name: migrate-${{ matrix.os }}-${{ matrix.queryEngine }}
-
-      - name: Test packages/cli
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-') }}
-        run: pnpm run test --testTimeout=40000
-        working-directory: packages/cli
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/cli/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
-          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
-      - uses: codecov/codecov-action@v3
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') || contains(needs.detect_jobs_to_run.outputs.jobs, '-cli-') }}
-        with:
-          files: ./packages/cli/src/__tests__/coverage/clover.xml
-          flags: cli,${{ matrix.os }},${{ matrix.queryEngine }}
-          name: cli-${{ matrix.os }}-${{ matrix.queryEngine }}
-
-      - name: Test packages/debug
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
-        run: pnpm run test
-        working-directory: packages/debug
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/debug/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
-          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
-      - uses: codecov/codecov-action@v3
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
-        with:
-          files: ./packages/debug/src/__tests__/coverage/clover.xml
-          flags: debug,${{ matrix.os }},library,binary
-          name: debug-${{ matrix.os }}
-
-      - name: Test packages/generator-helper
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
-        run: pnpm run test
-        working-directory: packages/generator-helper
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/generator-helper/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
-          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
-      - uses: codecov/codecov-action@v3
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
-        with:
-          files: ./packages/generator-helper/src/__tests__/coverage/clover.xml
-          flags: generator-helper,${{ matrix.os }},library,binary
-          name: generator-helper-${{ matrix.os }}
-
-      - name: Test packages/get-platform
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
-        run: pnpm run test
-        working-directory: packages/get-platform
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/get-platform/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
-          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
-      - uses: codecov/codecov-action@v3
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
-        with:
-          files: ./packages/get-platform/src/__tests__/coverage/clover.xml
-          flags: get-platform,${{ matrix.os }},library,binary
-          name: get-platform-${{ matrix.os }}
-
-      - name: Test packages/fetch-engine
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
-        run: pnpm run test
-        working-directory: packages/fetch-engine
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/fetch-engine/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
-          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
-      - uses: codecov/codecov-action@v3
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
-        with:
-          files: ./packages/fetch-engine/src/__tests__/coverage/clover.xml
-          flags: fetch-engine,${{ matrix.os }},library,binary
-          name: fetch-engine-${{ matrix.os }}
-
-      - name: Test packages/engines
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
-        run: pnpm run test
-        working-directory: packages/engines
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/engines/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
-          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
-      - uses: codecov/codecov-action@v3
-        if: ${{ contains(needs.detect_jobs_to_run.outputs.jobs, '-all-') }}
-        with:
-          files: ./packages/engines/src/__tests__/coverage/clover.xml
-          flags: engines,${{ matrix.os }},library,binary
-          name: engines-${{ matrix.os }}
-
-      - name: Upload test results to BuildPulse for flaky test detection
-        # Only run this step for branches where we have access to secrets.
-        # Run this step even when the tests fail. Skip if the workflow is cancelled.
-        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
-        uses: Workshop64/buildpulse-action@main
-        with:
-          account: 17219288
-          repository: 192925833
-          path: packages
-          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
-          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
-
-      - uses: actions/upload-artifact@v3
-        if: inputs.reason == 'buildpulse'
-        with:
-          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
-          path: packages/*/junit*.xml
+    uses: ./.github/workflows/test-template.yml
+    with:
+      jobsToRun: ${{ needs.detect_jobs_to_run.outputs.jobs }}
+      testAll: ${{ needs.detect_jobs_to_run.outputs.testAllCommentId != '' }}
",False,False,False,False,False,True,True
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,b0c98773b09bd5a3d7003dd0f6af761a96a69581,a84b1f00954311fcd27ece43370f928e20a564d2,2023-05-09 18:08:52+02:00,ci: Inherit secrets from test workflow (#19156),4,4.15.0,daily-buildpulse.yml,MODIFY,1,0,,19156,SevInf,User,CONTRIBUTOR,Jolg42,User,2023-05-09T16:01:46Z,2023-05-09T16:08:53Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/daily-buildpulse.yml,../Mining/generated/scripts/prisma/files_src_before/b0c9877_daily-buildpulse.yml,../Mining/generated/scripts/prisma/files_src_after/b0c9877_daily-buildpulse.yml,None,None,None,"@@ -14,3 +14,4 @@ jobs:
       jobTimeout: 70
       ubuntuRunner: ubuntu-latest
       testAll: true
+    secrets: inherit
",True,False,False,False,False,False,True
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,b0c98773b09bd5a3d7003dd0f6af761a96a69581,a84b1f00954311fcd27ece43370f928e20a564d2,2023-05-09 18:08:52+02:00,ci: Inherit secrets from test workflow (#19156),4,4.15.0,daily-test.yml,MODIFY,1,0,,19156,SevInf,User,CONTRIBUTOR,Jolg42,User,2023-05-09T16:01:46Z,2023-05-09T16:08:53Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/daily-test.yml,../Mining/generated/scripts/prisma/files_src_before/b0c9877_daily-test.yml,../Mining/generated/scripts/prisma/files_src_after/b0c9877_daily-test.yml,None,None,None,"@@ -14,6 +14,7 @@ jobs:
       jobTimeout: 70
       ubuntuRunner: ubuntu-latest
       testAll: true
+    secrets: inherit
   failure:
     needs:
       - run_tests
",True,False,False,False,False,True,True
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,b0c98773b09bd5a3d7003dd0f6af761a96a69581,a84b1f00954311fcd27ece43370f928e20a564d2,2023-05-09 18:08:52+02:00,ci: Inherit secrets from test workflow (#19156),4,4.15.0,test-template.yml,MODIFY,11,0,,19156,SevInf,User,CONTRIBUTOR,Jolg42,User,2023-05-09T16:01:46Z,2023-05-09T16:08:53Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/b0c9877_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/b0c9877_test-template.yml,None,None,None,"@@ -30,6 +30,17 @@ on:
         description: Whether or not this workflow should test all possible engine/protocol combination
         type: boolean
         required: true
+    secrets:
+      BUILDPULSE_ACCESS_KEY_ID:
+        required: false
+      BUILDPULSE_SECRET_ACCESS_KEY:
+        required: false
+      DOCKERHUB_USERNAME:
+        required: true
+      DOCKERHUB_TOKEN:
+        required: true
+      BOT_TOKEN:
+        required: false
 
 env:
   HAS_BUILDPULSE_SECRETS: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID != '' && secrets.BUILDPULSE_SECRET_ACCESS_KEY != '' }}
",True,True,False,False,False,True,False
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,b0c98773b09bd5a3d7003dd0f6af761a96a69581,a84b1f00954311fcd27ece43370f928e20a564d2,2023-05-09 18:08:52+02:00,ci: Inherit secrets from test workflow (#19156),4,4.15.0,test.yml,MODIFY,1,0,,19156,SevInf,User,CONTRIBUTOR,Jolg42,User,2023-05-09T16:01:46Z,2023-05-09T16:08:53Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/b0c9877_test.yml,../Mining/generated/scripts/prisma/files_src_after/b0c9877_test.yml,None,None,None,"@@ -72,3 +72,4 @@ jobs:
     with:
       jobsToRun: ${{ needs.detect_jobs_to_run.outputs.jobs }}
       testAll: ${{ needs.detect_jobs_to_run.outputs.testAllCommentId != '' }}
+    secrets: inherit
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,effeed6e21f7362e29b022f93f2c5d3cd60d7ba1,795ab2c54d6ba0583749b76a8a512466797c578b,2023-05-11 19:21:36-10:00,ci: enable jest sharding on free runners (#19011),1,4.15.0,test-template.yml,MODIFY,8,6,,19011,millsp,User,MEMBER,millsp,User,2023-04-28T23:20:22Z,2023-05-12T05:21:36Z,closed,,,,"Completely gets rid of BuildJet by sharding the tests into multiple runners. This currently creates a lot of jobs, but by moving the Binary Engine tests to a nightly run we can remove half of the sharded tests, that would make it more viable.",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/effeed6_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/effeed6_test-template.yml,None,None,None,"@@ -108,7 +108,7 @@ jobs:
   #
   client:
     timeout-minutes: ${{ inputs.jobTimeout }}
-    runs-on: ${{ inputs.ubuntuRunner }}
+    runs-on: ubuntu-latest
 
     needs: determineBuildMatrixParams
     if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
@@ -116,6 +116,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
+        shard: ['1/4', '2/4', '3/4', '4/4', '5/5']
         queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
         engineProtocol: ['graphql', 'json']
         node: [16, 18]
@@ -185,11 +186,11 @@ jobs:
       - run: bash .github/workflows/scripts/setup.sh
 
       # Run the functional test suite
-      - run: pnpm run test:functional
+      - run: pnpm run test:functional --shard ${{ matrix.shard }}
         if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
         working-directory: packages/client
       # And run  all the other tests (except the types tests)
-      - run: pnpm run test-notypes
+      - run: pnpm run test-notypes --shard ${{ matrix.shard }}
         if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
         working-directory: packages/client
 
@@ -222,7 +223,7 @@ jobs:
   #
   client-dataproxy:
     timeout-minutes: ${{ inputs.jobTimeout }}
-    runs-on: ${{ inputs.ubuntuRunner }}
+    runs-on: ubuntu-latest
 
     needs: determineBuildMatrixParams
     if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
@@ -230,6 +231,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
+        shard: ['1/6', '2/6', '3/6', '4/6', '5/6', '6/6']
         node: [14, 16, 18]
         engineProtocol: ['graphql', 'json']
         exclude: ${{ fromJson(needs.determineBuildMatrixParams.outputs.excludeDataProxy) }}
@@ -264,7 +266,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm run test:functional --data-proxy
+      - run: pnpm run test:functional --data-proxy --shard ${{ matrix.shard }}
         working-directory: packages/client
         env:
           CI: true
@@ -281,7 +283,7 @@ jobs:
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
           PRISMA_ENGINE_PROTOCOL: '${{ matrix.engineProtocol }}'
 
-      - run: pnpm run test:functional --data-proxy --edge-client
+      - run: pnpm run test:functional --data-proxy --edge-client --shard ${{ matrix.shard }}
         working-directory: packages/client
         env:
           CI: true
",True,True,False,False,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,e2d98fa8ca24a6e3e8972b37d2ea2022310f12b1,589e093a1749c13db5d0d5d9914a5e19ee36f417,2023-05-12 18:40:36+02:00,ci: fix sharding typo (#19221),1,4.15.0,test-template.yml,MODIFY,1,1,,19221,millsp,User,MEMBER,Jolg42,User,2023-05-12T16:11:01Z,2023-05-12T16:40:36Z,closed,,,,I intended to shard 5 times but instead sharded 4 times and added an extra unnecessary shard.,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/e2d98fa_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/e2d98fa_test-template.yml,None,None,None,"@@ -116,7 +116,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        shard: ['1/4', '2/4', '3/4', '4/4', '5/5']
+        shard: ['1/5', '2/5', '3/5', '4/5', '5/5']
         queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
         engineProtocol: ['graphql', 'json']
         node: [16, 18]
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,13f27fbae15aac9f86d071161a8fd4b78144f453,e2d98fa8ca24a6e3e8972b37d2ea2022310f12b1,2023-05-12 19:41:53+02:00,ci: shard no-docker-client-functional (#19223),1,4.15.0,test-template.yml,MODIFY,2,8,,19223,Jolg42,User,MEMBER,Jolg42,User,2023-05-12T16:45:35Z,2023-05-12T17:41:53Z,closed,,,,"Let's see how much time we can save waiting 👀


Now: https://github.com/prisma/prisma/actions/runs/4961140552/usage
<img width=""949"" alt=""Screenshot 2023-05-12 at 19 40 40"" src=""https://github.com/prisma/prisma/assets/1328733/64bb2d04-389a-4459-8a55-f19aad98b3a6"">

Before: https://github.com/prisma/prisma/actions/runs/4961106118/usage
<img width=""959"" alt=""Screenshot 2023-05-12 at 19 41 34"" src=""https://github.com/prisma/prisma/assets/1328733/249e087f-fe90-4ad9-b18c-42954fe2cda3"">

",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/13f27fb_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/13f27fb_test-template.yml,None,None,None,"@@ -1059,9 +1059,7 @@ jobs:
         os: [macos-latest, windows-latest]
         node: [14]
         queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
-        # Commented out as we still have limited capacity for macOS runners
-        # When we have more capacity we can shard again
-        # shard: ['1', '2']
+        shard: ['1/2', '2/2']
 
     needs: determineBuildMatrixParams
     if: |
@@ -1105,11 +1103,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - name: Test packages/client
-        # Commented out as we still have limited capacity for macOS runners
-        # When we have more capacity we can shard again
-        # run: pnpm run test:functional:code --shard=${{matrix.shard}}/2
-        # No shard:
-        run: pnpm run test:functional:code
+        run: pnpm run test:functional:code --shard ${{matrix.shard}}
         working-directory: packages/client
         env:
           CI: true
",True,True,False,False,False,True,False
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,039aaec73cc3fa95cc0cfb0d35eb1414dc5ef9a0,7adb8319566fc71f8b95f59b792e4e38d658ae32,2023-06-02 15:14:46+02:00,ci: Silence jest output on CI only (#19558),5,4.16.0,test-template.yml,MODIFY,10,10,,19558,SevInf,User,CONTRIBUTOR,Jolg42,User,2023-06-01T10:16:45Z,2023-06-02T13:14:47Z,closed,,,,"`--silent` flag also silences all logging/debug output, which makes
it pretty inconveneint when trying to debug the test locally. This PR
changes it, so `--silent` flag is used on CI only.
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/039aaec_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/039aaec_test-template.yml,0.0,0.0,1.0,"@@ -188,11 +188,11 @@ jobs:
       - run: bash .github/workflows/scripts/setup.sh
 
       # Run the functional test suite
-      - run: pnpm run test:functional --shard ${{ matrix.shard }}
+      - run: pnpm run test:functional --silent --shard ${{ matrix.shard }}
         if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
         working-directory: packages/client
       # And run  all the other tests (except the types tests)
-      - run: pnpm run test-notypes --shard ${{ matrix.shard }}
+      - run: pnpm run test-notypes --silent --shard ${{ matrix.shard }}
         if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
         working-directory: packages/client
 
@@ -268,7 +268,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm run test:functional --data-proxy --shard ${{ matrix.shard }}
+      - run: pnpm run test:functional --silent --data-proxy --shard ${{ matrix.shard }}
         working-directory: packages/client
         env:
           CI: true
@@ -285,7 +285,7 @@ jobs:
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
           PRISMA_ENGINE_PROTOCOL: '${{ matrix.engineProtocol }}'
 
-      - run: pnpm run test:functional --data-proxy --edge-client --shard ${{ matrix.shard }}
+      - run: pnpm run test:functional --silent --data-proxy --edge-client --shard ${{ matrix.shard }}
         working-directory: packages/client
         env:
           CI: true
@@ -553,21 +553,21 @@ jobs:
 
       # shouldn't take more than 15 minutes
       - name: 1 to 1
-        run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_1-to-1.ts
+        run: pnpm run test:functional:code --silent --relation-mode-tests-only relationMode-in-separate-gh-action/tests_1-to-1.ts
         working-directory: packages/client
 
       # shouldn't take more than 15 minutes
       - name: 1 to n
-        run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_1-to-n.ts
+        run: pnpm run test:functional:code --silent --relation-mode-tests-only relationMode-in-separate-gh-action/tests_1-to-n.ts
         working-directory: packages/client
 
       # shouldn't take more than 15 minutes
       - name: m to n (SQL databases)
-        run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_m-to-n.ts
+        run: pnpm run test:functional:code --silent --relation-mode-tests-only relationMode-in-separate-gh-action/tests_m-to-n.ts
         working-directory: packages/client
 
       - name: m to n (MongoDB)
-        run: pnpm run test:functional:code --relation-mode-tests-only relationMode-in-separate-gh-action/tests_m-to-n-MongoDB.ts
+        run: pnpm run test:functional:code --silent --relation-mode-tests-only relationMode-in-separate-gh-action/tests_m-to-n-MongoDB.ts
         working-directory: packages/client
 
       - name: Upload test results to BuildPulse for flaky test detection
@@ -1105,7 +1105,7 @@ jobs:
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - name: Test packages/client
-        run: pnpm run test:functional:code --shard ${{matrix.shard}}
+        run: pnpm run test:functional:code --silent --shard ${{matrix.shard}}
         working-directory: packages/client
         env:
           CI: true
@@ -1216,7 +1216,7 @@ jobs:
 
       - name: Test packages/client (old suite)
         if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
-        run: pnpm run test-notypes --testTimeout=40000
+        run: pnpm run test-notypes --silent --testTimeout=40000
         working-directory: packages/client
         env:
           CI: true
",True,True,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,4a03e96199493518e90024a061bf1adc34a85d08,edf285fb327eed4304d347132432ca3652ce31ad,2023-06-05 15:28:16+02:00,chore(docker): add name + remove azure-sql-edge (#19556),4,4.16.0,test-template.yml,MODIFY,11,10,,19556,Jolg42,User,MEMBER,Jolg42,User,2023-06-01T08:46:06Z,2023-06-05T13:28:16Z,closed,,,,"Adding a name is nicer, all our images are grouped under that name instead of the directory name `docker` (which might be the same in other projects).

By switching from `docker-compose` to `docker compose` we now use Version 2 and remove the old v1 usage which is deprecated:
> Compose V1 no longer receives updates and will not be available in new releases of Docker Desktop after June 2023.
https://docs.docker.com/compose/

Removing azure-sql-edge is now possible since ""a while"" as the regular mssql image can run in emulation (https://devblogs.microsoft.com/azure-sql/development-with-sql-in-containers-on-macos/)
Note that azure-sql-edge is quite different from the regular mssql image so we better use the regular one.
(See https://learn.microsoft.com/en-us/azure/azure-sql-edge/features, for example ""Full-text indexes and search, and related DDL commands and Transact-SQL functions, catalog views, and dynamic management views."" or ""Spatial data type, and related DDL commands and Transact-SQL functions, catalog views, and dynamic management views."" are not supported.)

Logging in to Docker Hub is only needed for Buildjet runners, side-effect: forks will be able to run the workflow without defining the secrets.

",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/4a03e96_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/4a03e96_test-template.yml,None,None,None,"@@ -35,7 +35,7 @@ on:
         required: false
       BUILDPULSE_SECRET_ACCESS_KEY:
         required: false
-      # Docker Hub credentials must be passed to avoid rate limiting
+      # Docker Hub credentials must be passed to avoid rate limiting when using Buildjet runners
       # But they are not required, so forks can run the workflow without defining them
       DOCKERHUB_USERNAME:
         required: false
@@ -157,7 +157,8 @@ jobs:
         env:
           DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
           DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
-        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
+        # Login to Docker Hub is only needed for buildjet runners
+        if: ""${{ startsWith(inputs.ubuntuRunner, 'buildjet') && env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
         with:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
@@ -174,7 +175,7 @@ jobs:
         run: |
           echo ""PRISMA_ENGINE_PROTOCOL=${{ matrix.engineProtocol }}"" >> $GITHUB_ENV
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb vitess-8
+      - run: docker compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb vitess-8
 
       - uses: pnpm/action-setup@v2.2.4
         with:
@@ -251,7 +252,7 @@ jobs:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
+      - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
 
       - uses: pnpm/action-setup@v2.2.4
         with:
@@ -354,7 +355,7 @@ jobs:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres # mysql mysql_isolated mssql mongo cockroachdb
+      - run: docker compose -f docker/docker-compose.yml up --detach postgres # mysql mysql_isolated mssql mongo cockroachdb
 
       - uses: pnpm/action-setup@v2.2.4
         with:
@@ -461,7 +462,7 @@ jobs:
       - uses: actions/checkout@v3
 
       # Not currently needed, but we might need it in the future
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
+      - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
 
       - uses: pnpm/action-setup@v2.2.4
         with:
@@ -534,7 +535,7 @@ jobs:
           echo ""RELATION_MODE=${{ matrix.relationMode }}""
           if [ ! -z ""${{ matrix.relationMode }}"" ]; then echo ""RELATION_MODE=${{ matrix.relationMode }}"" >> $GITHUB_ENV; fi
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
+      - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
 
       - uses: pnpm/action-setup@v2.2.4
         with:
@@ -671,7 +672,7 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mariadb mssql
+      - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mariadb mssql
 
       - uses: pnpm/action-setup@v2.2.4
         with:
@@ -738,7 +739,7 @@ jobs:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql
+      - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql
 
       - name: Set CLI Engine Type
         run: |
@@ -810,7 +811,7 @@ jobs:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
 
-      - run: docker-compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongodb_migrate mongodb_migrate_seed cockroachdb
+      - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongodb_migrate mongodb_migrate_seed cockroachdb
 
       - name: Set CLI Engine Type
         run: |
",True,True,False,False,False,True,False
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,3a95e6ce0974a5df4ff5976eb11e79cef189e078,3e5ea31b9e22fe12f8d3dc09d9ad6ee064965402,2023-06-23 11:57:09+02:00,"feat(client): remove GraphQL from TS client (#19749)

* WIP: remove GraphQL

* Adjust CI, tempararily hardcode `getQueryEngineProtocol`

* Remove old GraphQL tests

* Remove exclude

* Remove ProtocolEncoder abstraction

* Remove getDMMF

* Move some utils around

* Remove embedded DMMF generation

* Remove document property

* Update error snapshots in legacy tests

* Update functional test suite

* Remove edgeClientProtocol

* Try to simplify CI piplenes

build-client-matrix script is no longer needed

* Fix relation tests

* Fix relation mode test

* Update .github/workflows/test-template.yml

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Update packages/client/src/generation/dmmf.ts

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Update packages/client/src/runtime/core/errors/PrismaClientValidationError.ts

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Update packages/client/src/runtime/getPrismaClient.ts

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Penalize `RequiredArgumentMissing` error

So that any other will surface below that

* Update packages/client/src/runtime/core/errorRendering/applyUnionError.ts

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Fix client version for validation errors

* Bump engines

---------

Co-authored-by: Alexey Orlenko <alex@aqrln.net>",176,5.0.0,daily-buildpulse.yml,MODIFY,0,1,,19749,SevInf,User,CONTRIBUTOR,SevInf,User,2023-06-14T07:36:15Z,2023-06-23T09:57:09Z,closed,topic: prisma5,,,"Removes GraphQL and abstractions for supporting multiple protocols from TS client.
Unskips all previously skipped tests for JSON protocol and updates snapshots.
Completely removes DMMF usage from runtime and CI jobs from runtime.
For data-proxy/mini-proxy to work correctly, also requires prisma/prisma-engines#4047 to be merged. 

Studio tests are failing at the moment, fix is needed on the studio side.

Close prisma/team-orm#194",../Mining/generated/scripts/prisma/current_code/daily-buildpulse.yml,../Mining/generated/scripts/prisma/files_src_before/3a95e6c_daily-buildpulse.yml,../Mining/generated/scripts/prisma/files_src_after/3a95e6c_daily-buildpulse.yml,0.5717724288840262,0.124945295404814,0.06236323851203501,"@@ -13,5 +13,4 @@ jobs:
       reason: buildpulse
       jobTimeout: 70
       ubuntuRunner: ubuntu-latest
-      testAll: true
     secrets: inherit
",True,False,False,False,False,False,True
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,3a95e6ce0974a5df4ff5976eb11e79cef189e078,3e5ea31b9e22fe12f8d3dc09d9ad6ee064965402,2023-06-23 11:57:09+02:00,"feat(client): remove GraphQL from TS client (#19749)

* WIP: remove GraphQL

* Adjust CI, tempararily hardcode `getQueryEngineProtocol`

* Remove old GraphQL tests

* Remove exclude

* Remove ProtocolEncoder abstraction

* Remove getDMMF

* Move some utils around

* Remove embedded DMMF generation

* Remove document property

* Update error snapshots in legacy tests

* Update functional test suite

* Remove edgeClientProtocol

* Try to simplify CI piplenes

build-client-matrix script is no longer needed

* Fix relation tests

* Fix relation mode test

* Update .github/workflows/test-template.yml

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Update packages/client/src/generation/dmmf.ts

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Update packages/client/src/runtime/core/errors/PrismaClientValidationError.ts

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Update packages/client/src/runtime/getPrismaClient.ts

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Penalize `RequiredArgumentMissing` error

So that any other will surface below that

* Update packages/client/src/runtime/core/errorRendering/applyUnionError.ts

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Fix client version for validation errors

* Bump engines

---------

Co-authored-by: Alexey Orlenko <alex@aqrln.net>",176,5.0.0,daily-test.yml,MODIFY,0,1,,19749,SevInf,User,CONTRIBUTOR,SevInf,User,2023-06-14T07:36:15Z,2023-06-23T09:57:09Z,closed,topic: prisma5,,,"Removes GraphQL and abstractions for supporting multiple protocols from TS client.
Unskips all previously skipped tests for JSON protocol and updates snapshots.
Completely removes DMMF usage from runtime and CI jobs from runtime.
For data-proxy/mini-proxy to work correctly, also requires prisma/prisma-engines#4047 to be merged. 

Studio tests are failing at the moment, fix is needed on the studio side.

Close prisma/team-orm#194",../Mining/generated/scripts/prisma/current_code/daily-test.yml,../Mining/generated/scripts/prisma/files_src_before/3a95e6c_daily-test.yml,../Mining/generated/scripts/prisma/files_src_after/3a95e6c_daily-test.yml,0.5717724288840262,0.124945295404814,0.06236323851203501,"@@ -13,7 +13,6 @@ jobs:
       reason: daily-test
       jobTimeout: 70
       ubuntuRunner: ubuntu-latest
-      testAll: true
     secrets: inherit
   failure:
     needs:
",True,False,False,False,False,True,True
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,3a95e6ce0974a5df4ff5976eb11e79cef189e078,3e5ea31b9e22fe12f8d3dc09d9ad6ee064965402,2023-06-23 11:57:09+02:00,"feat(client): remove GraphQL from TS client (#19749)

* WIP: remove GraphQL

* Adjust CI, tempararily hardcode `getQueryEngineProtocol`

* Remove old GraphQL tests

* Remove exclude

* Remove ProtocolEncoder abstraction

* Remove getDMMF

* Move some utils around

* Remove embedded DMMF generation

* Remove document property

* Update error snapshots in legacy tests

* Update functional test suite

* Remove edgeClientProtocol

* Try to simplify CI piplenes

build-client-matrix script is no longer needed

* Fix relation tests

* Fix relation mode test

* Update .github/workflows/test-template.yml

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Update packages/client/src/generation/dmmf.ts

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Update packages/client/src/runtime/core/errors/PrismaClientValidationError.ts

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Update packages/client/src/runtime/getPrismaClient.ts

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Penalize `RequiredArgumentMissing` error

So that any other will surface below that

* Update packages/client/src/runtime/core/errorRendering/applyUnionError.ts

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Fix client version for validation errors

* Bump engines

---------

Co-authored-by: Alexey Orlenko <alex@aqrln.net>",176,5.0.0,test-template.yml,MODIFY,12,48,,19749,SevInf,User,CONTRIBUTOR,SevInf,User,2023-06-14T07:36:15Z,2023-06-23T09:57:09Z,closed,topic: prisma5,,,"Removes GraphQL and abstractions for supporting multiple protocols from TS client.
Unskips all previously skipped tests for JSON protocol and updates snapshots.
Completely removes DMMF usage from runtime and CI jobs from runtime.
For data-proxy/mini-proxy to work correctly, also requires prisma/prisma-engines#4047 to be merged. 

Studio tests are failing at the moment, fix is needed on the studio side.

Close prisma/team-orm#194",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/3a95e6c_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/3a95e6c_test-template.yml,0.5717724288840262,0.124945295404814,0.06236323851203501,"@@ -26,10 +26,10 @@ on:
         type: string
         default: '-all-'
         required: false
-      testAll:
-        description: Whether or not this workflow should test all possible engine/protocol combination
-        type: boolean
-        required: true
+      queryEngine:
+        description: List of query engines to run tests on as JSON array
+        type: string
+        default: '[""library"", ""binary""]'
     secrets:
       BUILDPULSE_ACCESS_KEY_ID:
         required: false
@@ -56,19 +56,6 @@ concurrency:
   cancel-in-progress: ${{ inputs.reason != 'buildpulse' }}
 
 jobs:
-  determineBuildMatrixParams:
-    name: Determine build matrix parameters
-    runs-on: ubuntu-latest
-    outputs:
-      queryEngine: ${{ steps.determineBuildMatrixParams.outputs.queryEngine }}
-      excludeClient: ${{ steps.determineBuildMatrixParams.outputs.excludeClient }}
-      excludeDataProxy: ${{ steps.determineBuildMatrixParams.outputs.excludeDataProxy }}
-    steps:
-      - id: checkout
-        uses: actions/checkout@v3
-      - id: determineBuildMatrixParams
-        run: ./.github/workflows/scripts/build-client-matrix.js '${{ inputs.testAll }}'
-
   #
   # Linting
   #
@@ -112,17 +99,14 @@ jobs:
     timeout-minutes: ${{ inputs.jobTimeout }}
     runs-on: ubuntu-latest
 
-    needs: determineBuildMatrixParams
     if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
 
     strategy:
       fail-fast: false
       matrix:
         shard: ['1/5', '2/5', '3/5', '4/5', '5/5']
-        queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
-        engineProtocol: ['graphql', 'json']
+        queryEngine: ${{ fromJson(inputs.queryEngine) }}
         node: [16, 18]
-        exclude: ${{ fromJson(needs.determineBuildMatrixParams.outputs.excludeClient) }}
 
     env:
       CI: true
@@ -146,7 +130,7 @@ jobs:
       TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
       TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
       NODE_OPTIONS: '--max-old-space-size=8096'
-      JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}/${{ matrix.engineProtocol }}'
+      JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
       JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
     steps:
@@ -171,10 +155,6 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - name: Set Engine Protocol
-        run: |
-          echo ""PRISMA_ENGINE_PROTOCOL=${{ matrix.engineProtocol }}"" >> $GITHUB_ENV
-
       - run: docker compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb vitess-8
 
       - uses: pnpm/action-setup@v2.2.4
@@ -228,7 +208,6 @@ jobs:
     timeout-minutes: ${{ inputs.jobTimeout }}
     runs-on: ubuntu-latest
 
-    needs: determineBuildMatrixParams
     if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
 
     strategy:
@@ -236,8 +215,6 @@ jobs:
       matrix:
         shard: ['1/6', '2/6', '3/6', '4/6', '5/6', '6/6']
         node: [14, 16, 18]
-        engineProtocol: ['graphql', 'json']
-        exclude: ${{ fromJson(needs.determineBuildMatrixParams.outputs.excludeDataProxy) }}
 
     steps:
       - uses: actions/checkout@v3
@@ -284,7 +261,6 @@ jobs:
           NODE_OPTIONS: '--max-old-space-size=8096'
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/dataproxy'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-          PRISMA_ENGINE_PROTOCOL: '${{ matrix.engineProtocol }}'
 
       - run: pnpm run test:functional --silent --data-proxy --edge-client --shard ${{ matrix.shard }}
         working-directory: packages/client
@@ -301,7 +277,6 @@ jobs:
           NODE_OPTIONS: '--max-old-space-size=8096'
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/dataproxy'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-          PRISMA_ENGINE_PROTOCOL: '${{ matrix.engineProtocol }}'
 
       - uses: codecov/codecov-action@v3
         with:
@@ -334,7 +309,6 @@ jobs:
     timeout-minutes: ${{ inputs.jobTimeout }}
     runs-on: ubuntu-latest
 
-    needs: determineBuildMatrixParams
     if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
 
     strategy:
@@ -449,7 +423,6 @@ jobs:
     timeout-minutes: 25
     runs-on: ${{ matrix.os }}
 
-    needs: determineBuildMatrixParams
     if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
 
     strategy:
@@ -494,7 +467,6 @@ jobs:
     timeout-minutes: 60
     runs-on: ${{ matrix.os }}
 
-    needs: determineBuildMatrixParams
     if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
 
     strategy:
@@ -596,7 +568,6 @@ jobs:
     timeout-minutes: 15
     runs-on: ubuntu-latest
 
-    needs: determineBuildMatrixParams
     if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
 
     strategy:
@@ -642,13 +613,12 @@ jobs:
     timeout-minutes: 20
     runs-on: ubuntu-latest
 
-    needs: determineBuildMatrixParams
     if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-integration-tests-') }}
 
     strategy:
       fail-fast: false
       matrix:
-        queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
+        queryEngine: ${{ fromJson(inputs.queryEngine) }}
         node: [16]
 
     steps:
@@ -716,13 +686,12 @@ jobs:
     timeout-minutes: 15
     runs-on: ${{ matrix.os }}
 
-    needs: determineBuildMatrixParams
     if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-internals-') }}
 
     strategy:
       fail-fast: false
       matrix:
-        queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
+        queryEngine: ${{ fromJson(inputs.queryEngine) }}
         os: [ubuntu-latest]
         node: [16, 18]
 
@@ -788,13 +757,12 @@ jobs:
     timeout-minutes: 15
     runs-on: ${{ matrix.os }}
 
-    needs: determineBuildMatrixParams
     if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-migrate-') }}
 
     strategy:
       fail-fast: false
       matrix:
-        queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
+        queryEngine: ${{ fromJson(inputs.queryEngine) }}
         os: [ubuntu-latest]
         node: [16, 18]
 
@@ -870,13 +838,12 @@ jobs:
     timeout-minutes: 10
     runs-on: ${{ matrix.os }}
 
-    needs: determineBuildMatrixParams
     if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-cli-') }}
 
     strategy:
       fail-fast: false
       matrix:
-        queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
+        queryEngine: ${{ fromJson(inputs.queryEngine) }}
         os: [ubuntu-latest]
         node: [16, 18]
 
@@ -930,7 +897,6 @@ jobs:
     timeout-minutes: 10
     runs-on: ${{ matrix.os }}
 
-    needs: determineBuildMatrixParams
     if: ${{ contains(inputs.jobsToRun, '-all-') }}
 
     strategy:
@@ -1061,10 +1027,9 @@ jobs:
       matrix:
         os: [macos-latest, windows-latest]
         node: [14]
-        queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
+        queryEngine: ${{ fromJson(inputs.queryEngine) }}
         shard: ['1/2', '2/2']
 
-    needs: determineBuildMatrixParams
     if: |
       ${{
         contains(inputs.jobsToRun, '-all-') ||
@@ -1146,7 +1111,6 @@ jobs:
     timeout-minutes: 40
     runs-on: ${{ matrix.os }}
 
-    needs: determineBuildMatrixParams
     if: |
       ${{
         contains(inputs.jobsToRun, '-all-') ||
@@ -1161,7 +1125,7 @@ jobs:
       matrix:
         os: [macos-latest, windows-latest]
         node: [14]
-        queryEngine: ${{ fromJson(needs.determineBuildMatrixParams.outputs.queryEngine) }}
+        queryEngine: ${{ fromJson(inputs.queryEngine) }}
 
     steps:
       - uses: actions/checkout@v3
",True,True,False,False,False,True,False
prisma,Sergey Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,3a95e6ce0974a5df4ff5976eb11e79cef189e078,3e5ea31b9e22fe12f8d3dc09d9ad6ee064965402,2023-06-23 11:57:09+02:00,"feat(client): remove GraphQL from TS client (#19749)

* WIP: remove GraphQL

* Adjust CI, tempararily hardcode `getQueryEngineProtocol`

* Remove old GraphQL tests

* Remove exclude

* Remove ProtocolEncoder abstraction

* Remove getDMMF

* Move some utils around

* Remove embedded DMMF generation

* Remove document property

* Update error snapshots in legacy tests

* Update functional test suite

* Remove edgeClientProtocol

* Try to simplify CI piplenes

build-client-matrix script is no longer needed

* Fix relation tests

* Fix relation mode test

* Update .github/workflows/test-template.yml

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Update packages/client/src/generation/dmmf.ts

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Update packages/client/src/runtime/core/errors/PrismaClientValidationError.ts

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Update packages/client/src/runtime/getPrismaClient.ts

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Penalize `RequiredArgumentMissing` error

So that any other will surface below that

* Update packages/client/src/runtime/core/errorRendering/applyUnionError.ts

Co-authored-by: Alexey Orlenko <alex@aqrln.net>

* Fix client version for validation errors

* Bump engines

---------

Co-authored-by: Alexey Orlenko <alex@aqrln.net>",176,5.0.0,test.yml,MODIFY,10,2,,19749,SevInf,User,CONTRIBUTOR,SevInf,User,2023-06-14T07:36:15Z,2023-06-23T09:57:09Z,closed,topic: prisma5,,,"Removes GraphQL and abstractions for supporting multiple protocols from TS client.
Unskips all previously skipped tests for JSON protocol and updates snapshots.
Completely removes DMMF usage from runtime and CI jobs from runtime.
For data-proxy/mini-proxy to work correctly, also requires prisma/prisma-engines#4047 to be merged. 

Studio tests are failing at the moment, fix is needed on the studio side.

Close prisma/team-orm#194",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/3a95e6c_test.yml,../Mining/generated/scripts/prisma/files_src_after/3a95e6c_test.yml,0.5717724288840262,0.124945295404814,0.06236323851203501,"@@ -49,7 +49,7 @@ jobs:
     runs-on: ubuntu-latest
     outputs:
       jobs: ${{ steps.detect.outputs.jobs }}
-      testAllCommentId: ${{ steps.findTestAllComment.outputs.comment-id }}
+      queryEngine: ${{ steps.enginesOutput.outputs.queryEngine }}
     steps:
       - id: checkout
         uses: actions/checkout@v3
@@ -66,10 +66,18 @@ jobs:
         with:
           issue-number: ${{ github.event.pull_request.number }}
           body-includes: 'ci test all'
+      - id: enginesOutput
+        name: Decide on which engine types to run the next workflow
+        run: |
+          if [ -z ""${{ steps.findTestAllComment.outputs.comment-id }}"" ]; then
+            echo 'queryEngine=[""library""]' >> $GITHUB_OUTPUT
+          else
+            echo 'queryEngine=[""library"",""binary""]' >> $GITHUB_OUTPUT
+          fi
   run_tests:
     needs: detect_jobs_to_run
     uses: ./.github/workflows/test-template.yml
     with:
       jobsToRun: ${{ needs.detect_jobs_to_run.outputs.jobs }}
-      testAll: ${{ needs.detect_jobs_to_run.outputs.testAllCommentId != '' }}
+      queryEngine: ${{ needs.detect_jobs_to_run.outputs.queryEngine }}
     secrets: inherit
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,65019afe05b822e63ac4e8b3115d71ecea729357,6cc48b51a12a530104f992970b53ff3efba19168,2023-07-05 10:16:28+02:00,chore: rename prisma-fmt-wasm to prisma-schema-wasm (#20045),24,5.0.0,update-engines-version.yml,MODIFY,10,10,,20045,Jolg42,User,MEMBER,Jolg42,User,2023-07-03T19:09:54Z,2023-07-05T08:16:28Z,closed,,,,Part of https://github.com/prisma/prisma-engines/pull/4033,../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/65019af_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/65019af_update-engines-version.yml,0.0,1.0,1.0,"@@ -44,12 +44,12 @@ jobs:
           echo 'Checking that @prisma/engines-version have the published version @${{ github.event.inputs.version }}'
           pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/engines-version -u ${{ github.event.inputs.version }}
 
-      # Note: @prisma/prisma-fmt-wasm might take a few minutes before it's available
+      # Note: @prisma/prisma-schema-wasm might take a few minutes before it's available
       # So expect to see a few automated retries happening in logs before it succeeds
-      - name: Check if version of @prisma/prisma-fmt-wasm is available on npm
+      - name: Check if version of @prisma/prisma-schema-wasm is available on npm
         run: |
-          echo 'Checking that @prisma/prisma-fmt-wasm have the published version @${{ github.event.inputs.version }}'
-          pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/prisma-fmt-wasm -u ${{ github.event.inputs.version }}
+          echo 'Checking that @prisma/prisma-schema-wasm have the published version @${{ github.event.inputs.version }}'
+          pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/prisma-schema-wasm -u ${{ github.event.inputs.version }}
 
       - name: Update the dependencies (@prisma/engines-version)
         uses: nick-fields/retry@v2
@@ -60,14 +60,14 @@ jobs:
             echo 'Updating @prisma/engines-version to ${{ github.event.inputs.version }} using pnpm'
             pnpm update -r @prisma/engines-version@${{ github.event.inputs.version }}
 
-      - name: Update the dependencies (@prisma/prisma-fmt-wasm)
+      - name: Update the dependencies (@prisma/prisma-schema-wasm)
         uses: nick-fields/retry@v2
         with:
           timeout_minutes: 7
           max_attempts: 3
           command: |
-            echo 'Updating @prisma/prisma-fmt-wasm to ${{ github.event.inputs.version }} using pnpm'
-            pnpm update -r @prisma/prisma-fmt-wasm@${{ github.event.inputs.version }}
+            echo 'Updating @prisma/prisma-schema-wasm to ${{ github.event.inputs.version }} using pnpm'
+            pnpm update -r @prisma/prisma-schema-wasm@${{ github.event.inputs.version }}
 
       - name: Extract Engine Commit hash from version
         id: extract-engine-commit-hash
@@ -103,7 +103,7 @@ jobs:
             | Package | NPM URL |
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
-            |`@prisma/prisma-fmt-wasm`| https://npmjs.com/package/@prisma/prisma-fmt-wasm/v/${{ github.event.inputs.version }}|
+            |`@prisma/prisma-schema-wasm`| https://npmjs.com/package/@prisma/prisma-schema-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
       - name: PR url
@@ -148,7 +148,7 @@ jobs:
             | Package | NPM URL |
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
-            |`@prisma/prisma-fmt-wasm`| https://npmjs.com/package/@prisma/prisma-fmt-wasm/v/${{ github.event.inputs.version }}|
+            |`@prisma/prisma-schema-wasm`| https://npmjs.com/package/@prisma/prisma-schema-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
       - name: PR url
@@ -189,7 +189,7 @@ jobs:
             | Package | NPM URL |
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
-            |`@prisma/prisma-fmt-wasm`| https://npmjs.com/package/@prisma/prisma-fmt-wasm/v/${{ github.event.inputs.version }}|
+            |`@prisma/prisma-schema-wasm`| https://npmjs.com/package/@prisma/prisma-schema-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
       - name: PR url
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,d369c7d550a0b09cb0291fc63559db537e49af79,1b17f29914cf1b1eb0fd89925e8ff49b65e54ae8,2023-07-10 14:58:34+02:00,"feat!: Node.js 14->16 (#19798)

Co-authored-by: Sergey Tatarintsev <tatarintsev@prisma.io>",27,5.0.0,test-template.yml,MODIFY,7,7,,19798,Jolg42,User,MEMBER,Jolg42,User,2023-06-16T08:55:52Z,2023-07-10T12:58:34Z,closed,topic: prisma5,"SevInf, Jolg42","User, User",Part of https://github.com/prisma/prisma/issues/19304,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/d369c7d_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/d369c7d_test-template.yml,1.0,1.0,1.0,"@@ -106,7 +106,7 @@ jobs:
       matrix:
         shard: ['1/5', '2/5', '3/5', '4/5', '5/5']
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
-        node: [16, 18]
+        node: [18, 20]
 
     env:
       CI: true
@@ -214,7 +214,7 @@ jobs:
       fail-fast: false
       matrix:
         shard: ['1/6', '2/6', '3/6', '4/6', '5/6', '6/6']
-        node: [14, 16, 18]
+        node: [16, 18, 20]
 
     steps:
       - uses: actions/checkout@v3
@@ -246,7 +246,7 @@ jobs:
           SKIP_GIT: true
           GITHUB_CONTEXT: ${{ toJson(github) }}
 
-      - run: pnpm run test:functional --silent --data-proxy --shard ${{ matrix.shard }}
+      - run: pnpm run test:functional --data-proxy --shard ${{ matrix.shard }}
         working-directory: packages/client
         env:
           CI: true
@@ -262,7 +262,7 @@ jobs:
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/dataproxy'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
-      - run: pnpm run test:functional --silent --data-proxy --edge-client --shard ${{ matrix.shard }}
+      - run: pnpm run test:functional --data-proxy --edge-client --shard ${{ matrix.shard }}
         working-directory: packages/client
         env:
           CI: true
@@ -315,7 +315,7 @@ jobs:
       fail-fast: false
       matrix:
         queryEngine: ['library'] # TODO: binary engine is leaking at the moment
-        node: [14, 16, 18]
+        node: [16, 18, 20]
     steps:
       - uses: actions/checkout@v3
 
@@ -1026,7 +1026,7 @@ jobs:
       fail-fast: false
       matrix:
         os: [macos-latest, windows-latest]
-        node: [14]
+        node: [16]
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
         shard: ['1/2', '2/2']
 
@@ -1124,7 +1124,7 @@ jobs:
       fail-fast: false
       matrix:
         os: [macos-latest, windows-latest]
-        node: [14]
+        node: [16]
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
 
     steps:
",True,True,False,False,False,True,False
prisma,Alexey Orlenko,User,alex@aqrln.net,GitHub,User,noreply@github.com,670fe2295518dc498400b7fc3f564f434b58bc32,b99cbd1dcc308b0916f834ddc5af8584b5f5d213,2023-07-15 12:40:05+02:00,"chore: update to pnpm 8 (#20159)

* chore: update to pnpm 8

* fix(deps): don't autoinstall peers

This fixes https://www.npmjs.com/package/prisma/v/1.0.0 being installed
as a dependency of `@prisma/client`, breaking some tests.

* Make pnpm version an input in test pipeline",37,5.1.0,benchmark.yml,MODIFY,1,1,,20159,aqrln,User,MEMBER,aqrln,User,2023-07-10T15:47:02Z,2023-07-15T10:40:06Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/670fe22_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/670fe22_benchmark.yml,None,None,None,"@@ -53,7 +53,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: 8
 
       - uses: actions/setup-node@v3
         with:
",True,False,False,False,False,True,True
prisma,Alexey Orlenko,User,alex@aqrln.net,GitHub,User,noreply@github.com,670fe2295518dc498400b7fc3f564f434b58bc32,b99cbd1dcc308b0916f834ddc5af8584b5f5d213,2023-07-15 12:40:05+02:00,"chore: update to pnpm 8 (#20159)

* chore: update to pnpm 8

* fix(deps): don't autoinstall peers

This fixes https://www.npmjs.com/package/prisma/v/1.0.0 being installed
as a dependency of `@prisma/client`, breaking some tests.

* Make pnpm version an input in test pipeline",37,5.1.0,test-template.yml,MODIFY,18,14,,20159,aqrln,User,MEMBER,aqrln,User,2023-07-10T15:47:02Z,2023-07-15T10:40:06Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/670fe22_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/670fe22_test-template.yml,None,None,None,"@@ -30,6 +30,10 @@ on:
         description: List of query engines to run tests on as JSON array
         type: string
         default: '[""library"", ""binary""]'
+      pnpmVersion:
+        description: pnpm package manager version
+        type: string
+        default: '8'
     secrets:
       BUILDPULSE_ACCESS_KEY_ID:
         required: false
@@ -68,7 +72,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: ${{ inputs.pnpmVersion }}
 
       - uses: actions/setup-node@v3
         with:
@@ -159,7 +163,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: ${{ inputs.pnpmVersion }}
 
       - uses: actions/setup-node@v3
         with:
@@ -233,7 +237,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: ${{ inputs.pnpmVersion }}
 
       - uses: actions/setup-node@v3
         with:
@@ -333,7 +337,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: ${{ inputs.pnpmVersion }}
 
       - uses: actions/setup-node@v3
         with:
@@ -439,7 +443,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: ${{ inputs.pnpmVersion }}
 
       - uses: actions/setup-node@v3
         with:
@@ -511,7 +515,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: ${{ inputs.pnpmVersion }}
 
       - uses: actions/setup-node@v3
         with:
@@ -580,7 +584,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: ${{ inputs.pnpmVersion }}
 
       - uses: actions/setup-node@v3
         with:
@@ -646,7 +650,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: ${{ inputs.pnpmVersion }}
 
       - uses: actions/setup-node@v3
         with:
@@ -720,7 +724,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: ${{ inputs.pnpmVersion }}
 
       - uses: actions/setup-node@v3
         with:
@@ -791,7 +795,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: ${{ inputs.pnpmVersion }}
 
       - uses: actions/setup-node@v3
         with:
@@ -864,7 +868,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: ${{ inputs.pnpmVersion }}
 
       - uses: actions/setup-node@v3
         with:
@@ -910,7 +914,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: ${{ inputs.pnpmVersion }}
 
       - uses: actions/setup-node@v3
         with:
@@ -1057,7 +1061,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: ${{ inputs.pnpmVersion }}
 
       - uses: actions/setup-node@v3
         with:
@@ -1148,7 +1152,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: ${{ inputs.pnpmVersion }}
 
       - uses: actions/setup-node@v3
         with:
",True,True,False,False,False,True,False
prisma,Alexey Orlenko,User,alex@aqrln.net,GitHub,User,noreply@github.com,670fe2295518dc498400b7fc3f564f434b58bc32,b99cbd1dcc308b0916f834ddc5af8584b5f5d213,2023-07-15 12:40:05+02:00,"chore: update to pnpm 8 (#20159)

* chore: update to pnpm 8

* fix(deps): don't autoinstall peers

This fixes https://www.npmjs.com/package/prisma/v/1.0.0 being installed
as a dependency of `@prisma/client`, breaking some tests.

* Make pnpm version an input in test pipeline",37,5.1.0,update-engines-version.yml,MODIFY,1,1,,20159,aqrln,User,MEMBER,aqrln,User,2023-07-10T15:47:02Z,2023-07-15T10:40:06Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/670fe22_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/670fe22_update-engines-version.yml,None,None,None,"@@ -31,7 +31,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: 8
 
       - uses: actions/setup-node@v3
         with:
",True,False,False,False,False,True,True
prisma,Alexey Orlenko,User,alex@aqrln.net,GitHub,User,noreply@github.com,670fe2295518dc498400b7fc3f564f434b58bc32,b99cbd1dcc308b0916f834ddc5af8584b5f5d213,2023-07-15 12:40:05+02:00,"chore: update to pnpm 8 (#20159)

* chore: update to pnpm 8

* fix(deps): don't autoinstall peers

This fixes https://www.npmjs.com/package/prisma/v/1.0.0 being installed
as a dependency of `@prisma/client`, breaking some tests.

* Make pnpm version an input in test pipeline",37,5.1.0,update-studio-version.yml,MODIFY,1,1,,20159,aqrln,User,MEMBER,aqrln,User,2023-07-10T15:47:02Z,2023-07-15T10:40:06Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/670fe22_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/670fe22_update-studio-version.yml,None,None,None,"@@ -17,7 +17,7 @@ jobs:
 
       - uses: pnpm/action-setup@v2.2.4
         with:
-          version: 7
+          version: 8
 
       - uses: actions/setup-node@v3
         with:
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,287fdee1559be0952bfc7def5bbd2c6a6153fe8d,184b0cda8edb05c6efdaf78ffb5f76d2042508cb,2023-07-18 11:32:37+02:00,ci: release from GitHub Actions (#20212),11,5.1.0,benchmark.yml,MODIFY,4,16,,20212,Jolg42,User,MEMBER,Jolg42,User,2023-07-13T14:54:13Z,2023-07-18T09:32:38Z,closed,,,,"This is ready to review, manually tested in a fork. (tested release to latest, patch-dev, dev & integration but without publishing to npm)

I don't have time to add more information on this at the moment, and I'm off tomorrow, happy to answer any question next week!",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/287fdee_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/287fdee_benchmark.yml,1.0,1.0,0.42424242424242425,"@@ -51,23 +51,11 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.4
+      - name: Install & build
+        uses: ./.github/actions/setup
         with:
-          version: 8
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: '16'
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
-
-      #  This is required as setup.sh can modify pnpm-lock.yml
-      - run: rm -f ./pnpm-lock.yaml
+          node-version: ${{ matrix.node }}
+          pnpm-version: 8
 
       - name: Run benchmarks
         run: pnpm run bench
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,287fdee1559be0952bfc7def5bbd2c6a6153fe8d,184b0cda8edb05c6efdaf78ffb5f76d2042508cb,2023-07-18 11:32:37+02:00,ci: release from GitHub Actions (#20212),11,5.1.0,release-ci.yml,ADD,87,0,,20212,Jolg42,User,MEMBER,Jolg42,User,2023-07-13T14:54:13Z,2023-07-18T09:32:38Z,closed,,,,"This is ready to review, manually tested in a fork. (tested release to latest, patch-dev, dev & integration but without publishing to npm)

I don't have time to add more information on this at the moment, and I'm off tomorrow, happy to answer any question next week!",../Mining/generated/scripts/prisma/current_code/release-ci.yml,../Mining/generated/scripts/prisma/files_src_before/287fdee_release-ci.yml,../Mining/generated/scripts/prisma/files_src_after/287fdee_release-ci.yml,1.0,1.0,0.42424242424242425,"@@ -0,0 +1,87 @@
+name: npm - release to dev/integration
+run-name: npm - release from ${{ github.ref_name }} to dev/integration
+
+on:
+  push:
+    branches:
+      - main
+      - 'integration/*'
+      - '*.*.x'
+    paths-ignore:
+      - '*.md'
+      - '.devcontainer/**'
+      - '.vscode/**'
+      - '.github/ISSUE_TEMPLATE/**'
+      - 'LICENSE'
+      - '.github/CODEOWNERS'
+      - '.buildkite/**'
+      - '.dockerignore'
+      - '*.bench.ts'
+      - 'graphs/**'
+  workflow_dispatch:
+
+env:
+  # To hide ""Update available 0.0.0 -> x.x.x""
+  - PRISMA_HIDE_UPDATE_MESSAGE=""true""
+
+jobs:
+  release:
+    timeout-minutes: 60
+    environment: 'npm-ci'
+    runs-on: ubuntu-latest
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Install & build
+        uses: ./.github/actions/setup
+        with:
+          node-version: 16
+
+      - name: Publish all packages to npm
+        run: pnpm run publish-all
+        env:
+          NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}
+          BUILDKITE: true
+          BUILDKITE_BRANCH: ${{ github.ref_name }}
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          # Note: must use personal access token
+          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
+          REDIS_URL: ${{ secrets.REDIS_URL }}
+
+  # Cuurently done in `sendSlackMessage()` in publish.ts, we should move it here later
+  # success:
+  #   needs:
+  #     - release
+  #   if: ${{ success() }}
+  #   name: Communicate success
+  #   runs-on: ubuntu-latest
+  #   steps:
+  #     - name: Set current job url in SLACK_FOOTER env var
+  #       run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+
+  #     - name: Slack Notification on Success
+  #       uses: rtCamp/action-slack-notify@v2.2.0
+  #       env:
+  #         SLACK_TITLE: 'prisma/prisma Release failed :x:'
+  #         SLACK_COLOR: '#FF0000'
+  #         SLACK_WEBHOOK: ${{ secrets.SLACK_RELEASE_FEED_WEBHOOK }}
+  #         SLACK_CHANNEL: feed-prisma-releases
+
+  failure:
+    needs:
+      - release
+    if: ${{ failure() }}
+    name: Communicate failure
+    runs-on: ubuntu-latest
+    steps:
+      - name: Set current job url in SLACK_FOOTER env var
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+
+      - name: Slack Notification on Failure
+        uses: rtCamp/action-slack-notify@v2.2.0
+        env:
+          SLACK_TITLE: 'prisma/prisma Release from ${{ github.ref_name }} to dev/integration failed :x:'
+          SLACK_COLOR: '#FF0000'
+          SLACK_WEBHOOK: ${{ secrets.SLACK_RELEASE_FEED_WEBHOOK }}
+          # TODO rename later
+          SLACK_CHANNEL: feed-buildkite-prisma-publish-failures
",False,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,287fdee1559be0952bfc7def5bbd2c6a6153fe8d,184b0cda8edb05c6efdaf78ffb5f76d2042508cb,2023-07-18 11:32:37+02:00,ci: release from GitHub Actions (#20212),11,5.1.0,release-latest.yml,ADD,101,0,,20212,Jolg42,User,MEMBER,Jolg42,User,2023-07-13T14:54:13Z,2023-07-18T09:32:38Z,closed,,,,"This is ready to review, manually tested in a fork. (tested release to latest, patch-dev, dev & integration but without publishing to npm)

I don't have time to add more information on this at the moment, and I'm off tomorrow, happy to answer any question next week!",../Mining/generated/scripts/prisma/current_code/release-latest.yml,../Mining/generated/scripts/prisma/files_src_before/287fdee_release-latest.yml,../Mining/generated/scripts/prisma/files_src_after/287fdee_release-latest.yml,1.0,1.0,0.42424242424242425,"@@ -0,0 +1,101 @@
+name: npm - release to latest
+run-name: npm - release ${{ github.event.inputs.targetVersion }} from ${{ github.ref_name }} on latest tag
+
+on:
+  workflow_dispatch:
+    inputs:
+      targetVersion:
+        description: 'Version to publish on latest tag (e.g. 5.0.0)'
+        type: string
+        required: true
+      skipEcosystemTestsChecks:
+        description: 'Check to skip ecosystem tests checks'
+        type: boolean
+      skipPackages:
+        description: 'Skip publishing some packages? (e.g. `@prisma/debug,@prisma/internals`)'
+        type: string
+        required: false
+      onlyPackages:
+        description: 'Only publish some packages? (e.g. `@prisma/debug,@prisma/internals`)'
+        type: string
+        required: false
+      dryRun:
+        description: 'Check to do a dry run (does not publish packages)'
+        type: boolean
+
+env:
+  # To hide ""Update available 0.0.0 -> x.x.x""
+  - PRISMA_HIDE_UPDATE_MESSAGE=""true""
+
+jobs:
+  release:
+    timeout-minutes: 60
+    environment: 'npm-latest'
+    runs-on: ubuntu-latest
+    steps:
+      - uses: actions/checkout@v3
+
+      - uses: ./.github/actions/setup
+        with:
+          node-version: 16
+
+      - name: Publish all packages to npm
+        run: |
+          echo ""BUILDKITE_TAG $BUILDKITE_TAG""
+          echo ""SKIP_ECOSYSTEMTESTS_CHECK $SKIP_ECOSYSTEMTESTS_CHECK""
+          pnpm run publish-all
+        env:
+          # Inputs
+          BUILDKITE_TAG: ${{ github.event.inputs.targetVersion }}
+          SKIP_ECOSYSTEMTESTS_CHECK: ${{ github.event.inputs.skipEcosystemTestsChecks }}
+          ONLY_PACKAGES: ${{ github.event.inputs.onlyPackages }}
+          SKIP_PACKAGES: ${{ github.event.inputs.skipPackages }}
+          DRY_RUN: ${{ github.event.inputs.dryRun }}
+          # Other
+          BUILDKITE: true
+          BUILDKITE_BRANCH: ${{ github.ref_name }}
+          GITHUB_CONTEXT: ${{ toJson(github) }}
+          # Secrets
+          # Note: must use personal access token
+          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
+          REDIS_URL: ${{ secrets.REDIS_URL }}
+          NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}
+
+  # We also have `sendSlackMessage()` in publish.ts
+  # It uses the #feed-prisma-releases channel and adds more information
+  success:
+    needs:
+      - release
+    if: ${{ success() }}
+    name: Communicate success
+    runs-on: ubuntu-latest
+    steps:
+      - name: Set current job url in SLACK_FOOTER env var
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+
+      - name: Slack Notification on Success
+        uses: rtCamp/action-slack-notify@v2.2.0
+        env:
+          SLACK_TITLE: 'prisma/prisma Release succeeded :white_check_mark:'
+          SLACK_COLOR: '#55ff55'
+          SLACK_WEBHOOK: ${{ secrets.SLACK_RELEASE_FEED_WEBHOOK }}
+          SLACK_CHANNEL: feed-buildkite-prisma-publish
+
+  failure:
+    needs:
+      - release
+    if: ${{ failure() }}
+    name: Communicate failure
+    runs-on: ubuntu-latest
+    steps:
+      - name: Set current job url in SLACK_FOOTER env var
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+
+      - name: Slack Notification on Failure
+        uses: rtCamp/action-slack-notify@v2.2.0
+        env:
+          SLACK_TITLE: 'prisma/prisma Release ${{ github.event.inputs.targetVersion }} from ${{ github.ref_name }} on latest tag failed :x:'
+          SLACK_COLOR: '#FF0000'
+          SLACK_WEBHOOK: ${{ secrets.SLACK_RELEASE_FEED_WEBHOOK }}
+          # TODO rename later
+          SLACK_CHANNEL: feed-buildkite-prisma-publish-failures
",False,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,287fdee1559be0952bfc7def5bbd2c6a6153fe8d,184b0cda8edb05c6efdaf78ffb5f76d2042508cb,2023-07-18 11:32:37+02:00,ci: release from GitHub Actions (#20212),11,5.1.0,test-template.yml,MODIFY,49,260,,20212,Jolg42,User,MEMBER,Jolg42,User,2023-07-13T14:54:13Z,2023-07-18T09:32:38Z,closed,,,,"This is ready to review, manually tested in a fork. (tested release to latest, patch-dev, dev & integration but without publishing to npm)

I don't have time to add more information on this at the moment, and I'm off tomorrow, happy to answer any question next week!",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/287fdee_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/287fdee_test-template.yml,1.0,1.0,0.42424242424242425,"@@ -70,15 +70,6 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.4
-        with:
-          version: ${{ inputs.pnpmVersion }}
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
-          node-version: '16'
-
       # https://github.com/actions/toolkit/blob/master/docs/commands.md#problem-matchers
       # Matchers are added in setup-node
       # https://github.com/actions/setup-node/blob/bacd6b4b3ac3127b28a1e1920c23bf1c2cadbb85/src/main.ts#L54-L60
@@ -87,11 +78,11 @@ jobs:
           echo ""::remove-matcher owner=eslint-compact::""
           echo ""::remove-matcher owner=eslint-stylish::""
 
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
+      - name: Install & build
+        uses: ./.github/actions/setup
+        with:
+          node-version: ${{ matrix.node }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
 
       - run: pnpm run lint && pnpm run check-engines-override
         working-directory: ./
@@ -110,12 +101,9 @@ jobs:
       matrix:
         shard: ['1/5', '2/5', '3/5', '4/5', '5/5']
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
-        node: [18, 20]
+        node: [16, 18, 20]
 
     env:
-      CI: true
-      SKIP_GIT: true
-      GITHUB_CONTEXT: ${{ toJson(github) }}
       TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
       TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:5435/tests
       TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
@@ -161,16 +149,11 @@ jobs:
 
       - run: docker compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb vitess-8
 
-      - uses: pnpm/action-setup@v2.2.4
+      - name: Install & build
+        uses: ./.github/actions/setup
         with:
-          version: ${{ inputs.pnpmVersion }}
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
           node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
+          pnpm-version: ${{ inputs.pnpmVersion }}
 
       # Run the functional test suite
       - run: pnpm run test:functional --silent --shard ${{ matrix.shard }}
@@ -235,27 +218,15 @@ jobs:
 
       - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
 
-      - uses: pnpm/action-setup@v2.2.4
+      - name: Install & build
+        uses: ./.github/actions/setup
         with:
-          version: ${{ inputs.pnpmVersion }}
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
           node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
 
       - run: pnpm run test:functional --data-proxy --shard ${{ matrix.shard }}
         working-directory: packages/client
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
           TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
           TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
@@ -269,9 +240,6 @@ jobs:
       - run: pnpm run test:functional --data-proxy --edge-client --shard ${{ matrix.shard }}
         working-directory: packages/client
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
           TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
           TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
@@ -335,27 +303,15 @@ jobs:
 
       - run: docker compose -f docker/docker-compose.yml up --detach postgres # mysql mysql_isolated mssql mongo cockroachdb
 
-      - uses: pnpm/action-setup@v2.2.4
+      - name: Install & build
+        uses: ./.github/actions/setup
         with:
-          version: ${{ inputs.pnpmVersion }}
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
           node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
 
       - run: pnpm run test:memory
         working-directory: packages/client
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
           TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
           TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
@@ -441,27 +397,15 @@ jobs:
       # Not currently needed, but we might need it in the future
       - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
 
-      - uses: pnpm/action-setup@v2.2.4
+      - name: Install & build
+        uses: ./.github/actions/setup
         with:
-          version: ${{ inputs.pnpmVersion }}
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
           node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
 
       - run: pnpm run test:e2e --skipBuild --verbose --runInBand
         working-directory: packages/client
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           NODE_OPTIONS: '--max-old-space-size=8096'
 
   #
@@ -481,9 +425,6 @@ jobs:
         node: [16]
 
     env:
-      CI: true
-      SKIP_GIT: true
-      GITHUB_CONTEXT: ${{ toJson(github) }}
       TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
       TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
       TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
@@ -513,20 +454,11 @@ jobs:
 
       - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
 
-      - uses: pnpm/action-setup@v2.2.4
+      - name: Install & build
+        uses: ./.github/actions/setup
         with:
-          version: ${{ inputs.pnpmVersion }}
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
           node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
 
       # shouldn't take more than 15 minutes
       - name: 1 to 1
@@ -582,27 +514,14 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.4
+      - name: Install & build
+        uses: ./.github/actions/setup
         with:
-          version: ${{ inputs.pnpmVersion }}
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
           node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
 
       - run: pnpm run test src/__tests__/types/types.test.ts
         working-directory: packages/client
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v3
         with:
@@ -648,27 +567,15 @@ jobs:
 
       - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mariadb mssql
 
-      - uses: pnpm/action-setup@v2.2.4
+      - name: Install & build
+        uses: ./.github/actions/setup
         with:
-          version: ${{ inputs.pnpmVersion }}
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
           node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
 
       - run: pnpm run test
         working-directory: packages/integration-tests
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@localhost:5432
           TEST_MYSQL_BASE_URI: mysql://root:root@localhost:3306
           TEST_MARIADB_BASE_URI: mysql://root:root@localhost:4306
@@ -697,7 +604,7 @@ jobs:
       matrix:
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
         os: [ubuntu-latest]
-        node: [16, 18]
+        node: [16, 18, 20]
 
     steps:
       - uses: actions/checkout@v3
@@ -722,27 +629,15 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.2.4
+      - name: Install & build
+        uses: ./.github/actions/setup
         with:
-          version: ${{ inputs.pnpmVersion }}
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
           node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
 
       - run: pnpm run test
         working-directory: packages/internals
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
           TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
           TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
@@ -768,7 +663,7 @@ jobs:
       matrix:
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
         os: [ubuntu-latest]
-        node: [16, 18]
+        node: [16, 18, 20]
 
     steps:
       - uses: actions/checkout@v3
@@ -793,27 +688,15 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.2.4
+      - name: Install & build
+        uses: ./.github/actions/setup
         with:
-          version: ${{ inputs.pnpmVersion }}
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
           node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
 
       - run: pnpm run test
         working-directory: packages/migrate
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
           TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate
           TEST_POSTGRES_SHADOWDB_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate-shadowdb
@@ -849,7 +732,7 @@ jobs:
       matrix:
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
         os: [ubuntu-latest]
-        node: [16, 18]
+        node: [16, 18, 20]
 
     env:
       TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
@@ -866,27 +749,14 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - uses: pnpm/action-setup@v2.2.4
+      - name: Install & build
+        uses: ./.github/actions/setup
         with:
-          version: ${{ inputs.pnpmVersion }}
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
           node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
 
       - run: pnpm run test
         working-directory: packages/cli
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v3
         with:
@@ -907,33 +777,20 @@ jobs:
       fail-fast: false
       matrix:
         os: [ubuntu-latest]
-        node: [16, 18]
+        node: [16, 18, 20]
 
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.4
+      - name: Install & build
+        uses: ./.github/actions/setup
         with:
-          version: ${{ inputs.pnpmVersion }}
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
           node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
 
       - run: pnpm run test
         name: 'debug'
         working-directory: packages/debug
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v3
         with:
@@ -944,10 +801,6 @@ jobs:
       - run: pnpm run test
         name: 'generator-helper'
         working-directory: packages/generator-helper
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v3
         with:
@@ -958,10 +811,6 @@ jobs:
       - run: pnpm run test
         name: 'get-platform'
         working-directory: packages/get-platform
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v3
         with:
@@ -972,10 +821,6 @@ jobs:
       - run: pnpm run test
         name: 'fetch-engine'
         working-directory: packages/fetch-engine
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v3
         with:
@@ -986,10 +831,6 @@ jobs:
       - run: pnpm run test
         name: 'engines'
         working-directory: packages/engines
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v3
         with:
@@ -1000,10 +841,6 @@ jobs:
       - run: pnpm run test
         name: 'instrumentation'
         working-directory: packages/instrumentation
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
 
       - uses: codecov/codecov-action@v3
         with:
@@ -1059,28 +896,16 @@ jobs:
       - name: Set up MySQL
         run: bash .github/workflows/scripts/setup-mysql.sh
 
-      - uses: pnpm/action-setup@v2.2.4
+      - name: Install & build
+        uses: ./.github/actions/setup
         with:
-          version: ${{ inputs.pnpmVersion }}
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
           node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
 
       - name: Test packages/client
         run: pnpm run test:functional:code --silent --shard ${{matrix.shard}}
         working-directory: packages/client
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           # allow Node.js to allocate at most 14GB of heap on macOS and 7GB on Windows
           # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
           NODE_OPTIONS: ""${{ matrix.os == 'macos-latest' && '--max-old-space-size=14336' || '--max-old-space-size=7168' }}""
@@ -1150,29 +975,17 @@ jobs:
       - name: Set up MySQL
         run: bash .github/workflows/scripts/setup-mysql.sh
 
-      - uses: pnpm/action-setup@v2.2.4
+      - name: Install & build
+        uses: ./.github/actions/setup
         with:
-          version: ${{ inputs.pnpmVersion }}
-
-      - uses: actions/setup-node@v3
-        with:
-          cache: 'pnpm'
           node-version: ${{ matrix.node }}
-
-      - run: bash .github/workflows/scripts/setup.sh
-        env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
 
       - name: Test packages/internals
         if: ${{ contains(inputs.jobsToRun, '-all-') }} || contains(inputs.jobsToRun, '-internals-') }}
         run: pnpm run test --testTimeout=40000
         working-directory: packages/internals
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/internals/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
@@ -1188,9 +1001,6 @@ jobs:
         run: pnpm run test-notypes --silent --testTimeout=40000
         working-directory: packages/client
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           # Allow Node.js to allocate at most a certain amount heap on macOS and a different amount on Windows
           # Note that this value should be lower than the total amount of RAM available
           # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
@@ -1210,9 +1020,6 @@ jobs:
         run: pnpm run test --testTimeout=40000
         working-directory: packages/migrate
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/migrate/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
@@ -1228,9 +1035,6 @@ jobs:
         run: pnpm run test --testTimeout=40000
         working-directory: packages/cli
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/cli/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
@@ -1246,9 +1050,6 @@ jobs:
         run: pnpm run test
         working-directory: packages/debug
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/debug/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
@@ -1264,9 +1065,6 @@ jobs:
         run: pnpm run test
         working-directory: packages/generator-helper
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/generator-helper/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
@@ -1282,9 +1080,6 @@ jobs:
         run: pnpm run test
         working-directory: packages/get-platform
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/get-platform/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
@@ -1300,9 +1095,6 @@ jobs:
         run: pnpm run test
         working-directory: packages/fetch-engine
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/fetch-engine/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
@@ -1318,9 +1110,6 @@ jobs:
         run: pnpm run test
         working-directory: packages/engines
         env:
-          CI: true
-          SKIP_GIT: true
-          GITHUB_CONTEXT: ${{ toJson(github) }}
           JEST_JUNIT_SUITE_NAME: '${{ github.job }}/engines/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,287fdee1559be0952bfc7def5bbd2c6a6153fe8d,184b0cda8edb05c6efdaf78ffb5f76d2042508cb,2023-07-18 11:32:37+02:00,ci: release from GitHub Actions (#20212),11,5.1.0,test.yml,MODIFY,0,4,,20212,Jolg42,User,MEMBER,Jolg42,User,2023-07-13T14:54:13Z,2023-07-18T09:32:38Z,closed,,,,"This is ready to review, manually tested in a fork. (tested release to latest, patch-dev, dev & integration but without publishing to npm)

I don't have time to add more information on this at the moment, and I'm off tomorrow, happy to answer any question next week!",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/287fdee_test.yml,../Mining/generated/scripts/prisma/files_src_after/287fdee_test.yml,1.0,1.0,0.42424242424242425,"@@ -13,8 +13,6 @@ on:
       - '.devcontainer/**'
       - '.vscode/**'
       - '.github/ISSUE_TEMPLATE/**'
-      - 'docs/**'
-      - 'examples/**'
       - 'LICENSE'
       - '.github/CODEOWNERS'
       - '.buildkite/**'
@@ -32,8 +30,6 @@ on:
       - '.devcontainer/**'
       - '.vscode/**'
       - '.github/ISSUE_TEMPLATE/**'
-      - 'docs/**'
-      - 'examples/**'
       - 'LICENSE'
       - '.github/CODEOWNERS'
       - '.buildkite/**'
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,4556aa1f8959364035ed375d7f0b29a79625793b,62e09f34b9b0215817d085907d349eeaa842cc35,2023-07-18 12:48:01-10:00,ci: simplify buildpulse paths (#18127),1,5.1.0,test-template.yml,MODIFY,5,5,,18127,millsp,User,MEMBER,millsp,User,2023-02-27T23:54:59Z,2023-07-18T22:48:02Z,closed,topic: tech debt,millsp,User,https://prisma-company.slack.com/archives/C034PBWG31R/p1677169183468229,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/4556aa1_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/4556aa1_test-template.yml,None,None,None,"@@ -185,7 +185,7 @@ jobs:
       - uses: actions/upload-artifact@v3
         if: inputs.reason == 'buildpulse'
         with:
-          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_dataproxy_junit.xml
+          name: ${{ github.job }}_junit.xml
           path: packages/*/junit*.xml
 
   #
@@ -271,7 +271,7 @@ jobs:
       - uses: actions/upload-artifact@v3
         if: inputs.reason == 'buildpulse'
         with:
-          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_dataproxy_junit.xml
+          name: ${{ github.job }}_junit.xml
           path: packages/*/junit*.xml
 
   #
@@ -494,7 +494,7 @@ jobs:
       - uses: actions/upload-artifact@v3
         if: inputs.reason == 'buildpulse'
         with:
-          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
+          name: ${{ github.job }}_junit.xml
           path: packages/*/junit*.xml
 
   #
@@ -933,7 +933,7 @@ jobs:
       - uses: actions/upload-artifact@v3
         if: inputs.reason == 'buildpulse'
         with:
-          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
+          name: ${{ github.job }}_junit.xml
           path: packages/*/junit*.xml
 
   no-docker:
@@ -1135,5 +1135,5 @@ jobs:
       - uses: actions/upload-artifact@v3
         if: inputs.reason == 'buildpulse'
         with:
-          name: ${{ github.job }}_${{ matrix.os }}_node-${{ matrix.node }}_${{ matrix.queryEngine }}_junit.xml
+          name: ${{ github.job }}_junit.xml
           path: packages/*/junit*.xml
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,aa7b89cec04bfdb97dbe220f26c84ff18fa9e8ce,141614464a9f67f1cf296700dd1b69592c9f36dd,2023-07-19 11:09:57+02:00,ci(action): fix remove-matcher owner=eslint- for silent linting (#20294),1,5.1.0,test-template.yml,MODIFY,6,6,,20294,Jolg42,User,MEMBER,Jolg42,User,2023-07-19T09:03:34Z,2023-07-19T09:09:58Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/aa7b89c_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/aa7b89c_test-template.yml,None,None,None,"@@ -70,6 +70,12 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
+      - name: Install & build
+        uses: ./.github/actions/setup
+        with:
+          node-version: ${{ matrix.node }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
+          
       # https://github.com/actions/toolkit/blob/master/docs/commands.md#problem-matchers
       # Matchers are added in setup-node
       # https://github.com/actions/setup-node/blob/bacd6b4b3ac3127b28a1e1920c23bf1c2cadbb85/src/main.ts#L54-L60
@@ -78,12 +84,6 @@ jobs:
           echo ""::remove-matcher owner=eslint-compact::""
           echo ""::remove-matcher owner=eslint-stylish::""
 
-      - name: Install & build
-        uses: ./.github/actions/setup
-        with:
-          node-version: ${{ matrix.node }}
-          pnpm-version: ${{ inputs.pnpmVersion }}
-
       - run: pnpm run lint && pnpm run check-engines-override
         working-directory: ./
 
",True,False,False,False,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,7a904973d931b9d3bbb86eb968691d525035fc93,f16896bf1cffc11ba8fb503f1b94905a85931d43,2023-07-21 10:31:49+02:00,ci(buildpulse): fix test suite naming (#20317),1,5.1.0,test-template.yml,MODIFY,20,50,,20317,millsp,User,MEMBER,Jolg42,User,2023-07-20T19:56:39Z,2023-07-21T08:31:50Z,closed,,,,"I don't think I got the buildpulse renaming quite right  previously, as I did not change the test suite name :face_exhaling:. Also, I am taking the opportunity to remove the artifact upload, as it is not actually used. The new names are usually simply `<package>` name, except for `client/functional` and `client/old` because they are two separate test suites (and in case of test name overlaps), while other packages only have one.",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/7a90497_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/7a90497_test-template.yml,None,None,None,"@@ -75,7 +75,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
-          
+
       # https://github.com/actions/toolkit/blob/master/docs/commands.md#problem-matchers
       # Matchers are added in setup-node
       # https://github.com/actions/setup-node/blob/bacd6b4b3ac3127b28a1e1920c23bf1c2cadbb85/src/main.ts#L54-L60
@@ -122,7 +122,7 @@ jobs:
       TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
       TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
       NODE_OPTIONS: '--max-old-space-size=8096'
-      JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+      JEST_JUNIT_SUITE_NAME: 'client/functional'
       JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
     steps:
@@ -178,16 +178,10 @@ jobs:
         with:
           account: 17219288
           repository: 192925833
-          path: packages
+          path: packages/*/junit*.xml
           key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
-      - uses: actions/upload-artifact@v3
-        if: inputs.reason == 'buildpulse'
-        with:
-          name: ${{ github.job }}_junit.xml
-          path: packages/*/junit*.xml
-
   #
   # CLIENT (functional tests with mini-proxy)
   #
@@ -234,7 +228,7 @@ jobs:
           TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
           TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
           NODE_OPTIONS: '--max-old-space-size=8096'
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/dataproxy'
+          JEST_JUNIT_SUITE_NAME: 'client/functional'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - run: pnpm run test:functional --data-proxy --edge-client --shard ${{ matrix.shard }}
@@ -247,7 +241,7 @@ jobs:
           TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
           TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
           NODE_OPTIONS: '--max-old-space-size=8096'
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/dataproxy'
+          JEST_JUNIT_SUITE_NAME: 'client/functional'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
@@ -264,16 +258,10 @@ jobs:
         with:
           account: 17219288
           repository: 192925833
-          path: packages
+          path: packages/*/junit*.xml
           key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
-      - uses: actions/upload-artifact@v3
-        if: inputs.reason == 'buildpulse'
-        with:
-          name: ${{ github.job }}_junit.xml
-          path: packages/*/junit*.xml
-
   #
   # CLIENT (memory tests)
   #
@@ -441,7 +429,7 @@ jobs:
       TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
       TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
       NODE_OPTIONS: '--max-old-space-size=8096'
-      JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+      JEST_JUNIT_SUITE_NAME: 'client/functional'
       JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
     steps:
@@ -487,16 +475,10 @@ jobs:
         with:
           account: 17219288
           repository: 192925833
-          path: packages
+          path: packages/*/junit*.xml
           key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
-      - uses: actions/upload-artifact@v3
-        if: inputs.reason == 'buildpulse'
-        with:
-          name: ${{ github.job }}_junit.xml
-          path: packages/*/junit*.xml
-
   #
   # CLIENT (types tests only)
   #
@@ -909,7 +891,7 @@ jobs:
           # allow Node.js to allocate at most 14GB of heap on macOS and 7GB on Windows
           # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
           NODE_OPTIONS: ""${{ matrix.os == 'macos-latest' && '--max-old-space-size=14336' || '--max-old-space-size=7168' }}""
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/functional/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_SUITE_NAME: 'client/functional'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
@@ -926,16 +908,10 @@ jobs:
         with:
           account: 17219288
           repository: 192925833
-          path: packages
+          path: packages/*/junit*.xml
           key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
-      - uses: actions/upload-artifact@v3
-        if: inputs.reason == 'buildpulse'
-        with:
-          name: ${{ github.job }}_junit.xml
-          path: packages/*/junit*.xml
-
   no-docker:
     timeout-minutes: 40
     runs-on: ${{ matrix.os }}
@@ -986,7 +962,7 @@ jobs:
         run: pnpm run test --testTimeout=40000
         working-directory: packages/internals
         env:
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/internals/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_SUITE_NAME: 'internals'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
@@ -1005,7 +981,7 @@ jobs:
           # Note that this value should be lower than the total amount of RAM available
           # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
           NODE_OPTIONS: ""${{ matrix.os == 'macos-latest' && '--max-old-space-size=14336' || '--max-old-space-size=3072' }}""
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/client/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_SUITE_NAME: 'client/old'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
@@ -1020,7 +996,7 @@ jobs:
         run: pnpm run test --testTimeout=40000
         working-directory: packages/migrate
         env:
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/migrate/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_SUITE_NAME: 'migrate'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
@@ -1035,7 +1011,7 @@ jobs:
         run: pnpm run test --testTimeout=40000
         working-directory: packages/cli
         env:
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/cli/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_SUITE_NAME: 'cli'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
@@ -1050,7 +1026,7 @@ jobs:
         run: pnpm run test
         working-directory: packages/debug
         env:
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/debug/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_SUITE_NAME: 'debug'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
@@ -1065,7 +1041,7 @@ jobs:
         run: pnpm run test
         working-directory: packages/generator-helper
         env:
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/generator-helper/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_SUITE_NAME: 'generator-helper'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
@@ -1080,7 +1056,7 @@ jobs:
         run: pnpm run test
         working-directory: packages/get-platform
         env:
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/get-platform/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_SUITE_NAME: 'get-platform'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
@@ -1095,7 +1071,7 @@ jobs:
         run: pnpm run test
         working-directory: packages/fetch-engine
         env:
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/fetch-engine/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_SUITE_NAME: 'fetch-engine'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
@@ -1110,7 +1086,7 @@ jobs:
         run: pnpm run test
         working-directory: packages/engines
         env:
-          JEST_JUNIT_SUITE_NAME: '${{ github.job }}/engines/${{ matrix.os }}/node-${{ matrix.node }}/${{ matrix.queryEngine }}'
+          JEST_JUNIT_SUITE_NAME: 'engines'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
       - uses: codecov/codecov-action@v3
@@ -1128,12 +1104,6 @@ jobs:
         with:
           account: 17219288
           repository: 192925833
-          path: packages
+          path: packages/*/junit*.xml
           key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
-
-      - uses: actions/upload-artifact@v3
-        if: inputs.reason == 'buildpulse'
-        with:
-          name: ${{ github.job }}_junit.xml
-          path: packages/*/junit*.xml
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,1c46f37815b63a833fa15f312045b8357f4952aa,d5f872c12d189813ae61a7dfb726a99b2938aa24,2023-07-21 16:02:52+02:00,ci(buildpulse): replace action by new one (#20327),1,5.1.0,test-template.yml,MODIFY,5,5,,20327,Jolg42,User,MEMBER,Jolg42,User,2023-07-21T08:35:54Z,2023-07-21T14:02:53Z,closed,,,,"Replace
https://github.com/BuildPulseLLC/buildpulse-action (This repository has been archived by the owner on Nov 30, 2022. It is now read-only.) by
https://github.com/buildpulse/buildpulse-action",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/1c46f37_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/1c46f37_test-template.yml,None,None,None,"@@ -174,7 +174,7 @@ jobs:
         # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
         if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
-        uses: Workshop64/buildpulse-action@main
+        uses: buildpulse/buildpulse-action@v0.11.0
         with:
           account: 17219288
           repository: 192925833
@@ -254,7 +254,7 @@ jobs:
         # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
         if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
-        uses: Workshop64/buildpulse-action@main
+        uses: buildpulse/buildpulse-action@v0.11.0
         with:
           account: 17219288
           repository: 192925833
@@ -471,7 +471,7 @@ jobs:
         # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
         if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
-        uses: Workshop64/buildpulse-action@main
+        uses: buildpulse/buildpulse-action@v0.11.0
         with:
           account: 17219288
           repository: 192925833
@@ -904,7 +904,7 @@ jobs:
         # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
         if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason =='buildpulse'
-        uses: Workshop64/buildpulse-action@main
+        uses: buildpulse/buildpulse-action@v0.11.0
         with:
           account: 17219288
           repository: 192925833
@@ -1100,7 +1100,7 @@ jobs:
         # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
         if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
-        uses: Workshop64/buildpulse-action@main
+        uses: buildpulse/buildpulse-action@v0.11.0
         with:
           account: 17219288
           repository: 192925833
",True,False,False,False,False,True,False
prisma,Alexey Orlenko,User,alex@aqrln.net,GitHub,User,noreply@github.com,ac642197019306d0b7279b1b92ae05f8a59f0c3d,ae2147a53a87cedc00d450c51cdef8c41edbf339,2023-07-21 20:40:31+02:00,"ci: disable ""typescript compilation"" benchmark under CodSpeed (#20340)",2,5.1.0,benchmark.yml,MODIFY,2,0,,20340,aqrln,User,MEMBER,aqrln,User,2023-07-21T16:54:05Z,2023-07-21T18:40:31Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/ac64219_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/ac64219_benchmark.yml,None,None,None,"@@ -81,6 +81,8 @@ jobs:
         with:
           run: pnpm run bench-stdout-only
           token: ${{ secrets.CODSPEED_TOKEN }}
+        env:
+          CODSPEED_BENCHMARK: true
 
       - name: 'Set current job url in SLACK_FOOTER env var'
         if: ${{ failure() && github.ref == 'refs/heads/main' }}
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,797b7f427bccc337d89131fbd495cbe3ad29ef24,7d52218328b8b865b597688553bdf35dbc784a1d,2023-07-26 10:24:47+02:00,"chore(deps): update pnpm/action-setup action to v2.3.0 (#20394)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",3,,update-engines-version.yml,MODIFY,1,1,,20394,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-07-26T01:48:14Z,2023-07-26T08:24:48Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | minor | `v2.2.4` -> `v2.3.0` |

---

### Release Notes

<details>
<summary>pnpm/action-setup (pnpm/action-setup)</summary>

### [`v2.3.0`](https://togithub.com/pnpm/action-setup/releases/tag/v2.3.0)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.2.4...v2.3.0)

-   feat: specifying path to non-root `package.json` file [https://github.com/pnpm/action-setup/pull/88](https://togithub.com/pnpm/action-setup/pull/88).
-   docs: improve.

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi4xMS4wIiwidXBkYXRlZEluVmVyIjoiMzYuMTEuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/797b7f4_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/797b7f4_update-engines-version.yml,None,None,None,"@@ -29,7 +29,7 @@ jobs:
 
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.4
+      - uses: pnpm/action-setup@v2.3.0
         with:
           version: 8
 
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,797b7f427bccc337d89131fbd495cbe3ad29ef24,7d52218328b8b865b597688553bdf35dbc784a1d,2023-07-26 10:24:47+02:00,"chore(deps): update pnpm/action-setup action to v2.3.0 (#20394)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",3,,update-studio-version.yml,MODIFY,1,1,,20394,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-07-26T01:48:14Z,2023-07-26T08:24:48Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | minor | `v2.2.4` -> `v2.3.0` |

---

### Release Notes

<details>
<summary>pnpm/action-setup (pnpm/action-setup)</summary>

### [`v2.3.0`](https://togithub.com/pnpm/action-setup/releases/tag/v2.3.0)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.2.4...v2.3.0)

-   feat: specifying path to non-root `package.json` file [https://github.com/pnpm/action-setup/pull/88](https://togithub.com/pnpm/action-setup/pull/88).
-   docs: improve.

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi4xMS4wIiwidXBkYXRlZEluVmVyIjoiMzYuMTEuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/797b7f4_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/797b7f4_update-studio-version.yml,None,None,None,"@@ -15,7 +15,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.2.4
+      - uses: pnpm/action-setup@v2.3.0
         with:
           version: 8
 
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,9f8eda2a0d6d5e041fd4ad8f967d45c4bd337295,39583fe47ca2f4ceed0f5b39a072e0cfb015d89b,2023-07-27 09:25:39+02:00,"chore(deps): update pnpm/action-setup action to v2.4.0 (#20410)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",3,,update-engines-version.yml,MODIFY,1,1,,20410,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-07-27T00:05:01Z,2023-07-27T07:25:40Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | minor | `v2.3.0` -> `v2.4.0` |

---

### Release Notes

<details>
<summary>pnpm/action-setup (pnpm/action-setup)</summary>

### [`v2.4.0`](https://togithub.com/pnpm/action-setup/releases/tag/v2.4.0)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.3.0...v2.4.0)

Add ability to install standalone binary ([https://github.com/pnpm/action-setup/pull/92](https://togithub.com/pnpm/action-setup/pull/92)).

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi4xMS4wIiwidXBkYXRlZEluVmVyIjoiMzYuMTEuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/9f8eda2_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/9f8eda2_update-engines-version.yml,None,None,None,"@@ -29,7 +29,7 @@ jobs:
 
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.3.0
+      - uses: pnpm/action-setup@v2.4.0
         with:
           version: 8
 
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,9f8eda2a0d6d5e041fd4ad8f967d45c4bd337295,39583fe47ca2f4ceed0f5b39a072e0cfb015d89b,2023-07-27 09:25:39+02:00,"chore(deps): update pnpm/action-setup action to v2.4.0 (#20410)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",3,,update-studio-version.yml,MODIFY,1,1,,20410,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-07-27T00:05:01Z,2023-07-27T07:25:40Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | minor | `v2.3.0` -> `v2.4.0` |

---

### Release Notes

<details>
<summary>pnpm/action-setup (pnpm/action-setup)</summary>

### [`v2.4.0`](https://togithub.com/pnpm/action-setup/releases/tag/v2.4.0)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.3.0...v2.4.0)

Add ability to install standalone binary ([https://github.com/pnpm/action-setup/pull/92](https://togithub.com/pnpm/action-setup/pull/92)).

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi4xMS4wIiwidXBkYXRlZEluVmVyIjoiMzYuMTEuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/9f8eda2_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/9f8eda2_update-studio-version.yml,None,None,None,"@@ -15,7 +15,7 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
-      - uses: pnpm/action-setup@v2.3.0
+      - uses: pnpm/action-setup@v2.4.0
         with:
           version: 8
 
",True,False,False,False,False,True,True
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,76d0bbcb988984d6975d9869bd58c84c340ee183,dcbc3c3b3204650c45ce8cb9c1bfbccd3cb2527c,2023-07-28 16:51:58-10:00,"feat: Make Prisma Studio work with `directUrl` (#20417)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>
Co-authored-by: Pierre-Antoine Mills <pierreantoine.urvoy@gmail.com>",9,5.1.0,test-template.yml,MODIFY,12,0,,20417,janpio,User,MEMBER,millsp,User,2023-07-27T10:16:59Z,2023-07-29T02:51:59Z,closed,,millsp,User,"Closes https://github.com/prisma/prisma/issues/17358

Depends on https://github.com/prisma/studio-code/pull/483
Related docs change: https://github.com/prisma/docs/pull/4953

Internal discussion: [prisma-company.slack.com/archives/CC8F34ALF/p1685742636214419?thread_ts=1685736658.218249&cid=CC8F34ALF](https://prisma-company.slack.com/archives/CC8F34ALF/p1685742636214419?thread_ts=1685736658.218249&cid=CC8F34ALF)",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/76d0bbc_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/76d0bbc_test-template.yml,0.21428571428571427,1.0,1.0,"@@ -723,6 +723,18 @@ jobs:
     steps:
       - uses: actions/checkout@v3
 
+      - name: Login to Docker Hub
+        uses: docker/login-action@v2
+        env:
+          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
+          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
+        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
+        with:
+          username: ${{ secrets.DOCKERHUB_USERNAME }}
+          password: ${{ secrets.DOCKERHUB_TOKEN }}
+
+      - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongodb_migrate mongodb_migrate_seed cockroachdb
+
       - name: Set CLI Engine Type
         run: |
           echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,f4c914d4f2ad95f15ecafc5a4299ee86098559bb,b83e08fc80680a772cd7fa372179b284a298733c,2023-07-31 15:04:24+02:00,ci(daily buildpulse): un-schedule some runs (#20454),1,5.1.0,daily-buildpulse.yml,MODIFY,2,2,,20454,Jolg42,User,MEMBER,Jolg42,User,2023-07-31T11:46:15Z,2023-07-31T13:04:25Z,closed,,,,"We currently schedule this 8 times every day, we could have the same result with fewer runs.

[skip ci]

See https://github.com/prisma/prisma/actions/workflows/daily-buildpulse.yml
<img width=""1034"" alt=""Screenshot 2023-07-31 at 13 43 47"" src=""https://github.com/prisma/prisma/assets/1328733/0378f2b8-9d24-47b6-b5e6-5f45a7a6aeee"">
",../Mining/generated/scripts/prisma/current_code/daily-buildpulse.yml,../Mining/generated/scripts/prisma/files_src_before/f4c914d_daily-buildpulse.yml,../Mining/generated/scripts/prisma/files_src_after/f4c914d_daily-buildpulse.yml,None,None,None,"@@ -3,8 +3,8 @@ name: Daily BuildPulse run
 on:
   workflow_dispatch:
   schedule:
-    # https://crontab.guru - “At every 30th minute past every hour from 3 through 6.”
-    - cron: '*/30 3-6 * * *'
+    # https://crontab.guru - “At every 30th minute past every hour from 3 through 4.”
+    - cron: '*/30 3-4 * * *'
 
 jobs:
   run_tests:
",True,False,False,False,False,False,True
prisma,Raphael Etim,User,raphaelumoh@gmail.com,GitHub,User,noreply@github.com,6df377c42348b5427f7aa3a1f6260d413a85d3dd,aee8cf8b4a57ded221f267a05b3aacc9d2f48f3b,2023-08-02 13:34:59+02:00,"chore: add new discussion template (#20432)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",4,5.2.0,benchmark.yml,MODIFY,4,0,,20432,ludralph,User,CONTRIBUTOR,Jolg42,User,2023-07-28T11:41:01Z,2023-08-02T11:34:59Z,closed,,,,Created a `new.yml` file to add a template for GitHub Discussion based on this [GitHub Documentation](https://docs.github.com/en/discussions/managing-discussions-for-your-community/syntax-for-discussion-category-forms),../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/6df377c_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/6df377c_benchmark.yml,None,None,None,"@@ -15,6 +15,8 @@ on:
       - 'examples/**'
       - 'LICENSE'
       - '.github/CODEOWNERS'
+      - '.github/DISCUSSION_TEMPLATE/**'
+      - '.github/ISSUE_TEMPLATE/**'
       - '.buildkite/**'
       - '.dockerignore'
       - 'scripts/ci/publish.ts'
@@ -28,6 +30,8 @@ on:
       - 'examples/**'
       - 'LICENSE'
       - '.github/CODEOWNERS'
+      - '.github/DISCUSSION_TEMPLATE/**'
+      - '.github/ISSUE_TEMPLATE/**'
       - '.buildkite/**'
       - '.dockerignore'
       - 'scripts/ci/publish.ts'
",True,False,False,False,False,True,True
prisma,Raphael Etim,User,raphaelumoh@gmail.com,GitHub,User,noreply@github.com,6df377c42348b5427f7aa3a1f6260d413a85d3dd,aee8cf8b4a57ded221f267a05b3aacc9d2f48f3b,2023-08-02 13:34:59+02:00,"chore: add new discussion template (#20432)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",4,5.2.0,release-ci.yml,MODIFY,1,0,,20432,ludralph,User,CONTRIBUTOR,Jolg42,User,2023-07-28T11:41:01Z,2023-08-02T11:34:59Z,closed,,,,Created a `new.yml` file to add a template for GitHub Discussion based on this [GitHub Documentation](https://docs.github.com/en/discussions/managing-discussions-for-your-community/syntax-for-discussion-category-forms),../Mining/generated/scripts/prisma/current_code/release-ci.yml,../Mining/generated/scripts/prisma/files_src_before/6df377c_release-ci.yml,../Mining/generated/scripts/prisma/files_src_after/6df377c_release-ci.yml,None,None,None,"@@ -14,6 +14,7 @@ on:
       - '.github/ISSUE_TEMPLATE/**'
       - 'LICENSE'
       - '.github/CODEOWNERS'
+      - '.github/DISCUSSION_TEMPLATE/**'
       - '.buildkite/**'
       - '.dockerignore'
       - '*.bench.ts'
",True,False,False,False,False,True,True
prisma,Raphael Etim,User,raphaelumoh@gmail.com,GitHub,User,noreply@github.com,6df377c42348b5427f7aa3a1f6260d413a85d3dd,aee8cf8b4a57ded221f267a05b3aacc9d2f48f3b,2023-08-02 13:34:59+02:00,"chore: add new discussion template (#20432)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",4,5.2.0,test.yml,MODIFY,2,0,,20432,ludralph,User,CONTRIBUTOR,Jolg42,User,2023-07-28T11:41:01Z,2023-08-02T11:34:59Z,closed,,,,Created a `new.yml` file to add a template for GitHub Discussion based on this [GitHub Documentation](https://docs.github.com/en/discussions/managing-discussions-for-your-community/syntax-for-discussion-category-forms),../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/6df377c_test.yml,../Mining/generated/scripts/prisma/files_src_after/6df377c_test.yml,None,None,None,"@@ -15,6 +15,7 @@ on:
       - '.github/ISSUE_TEMPLATE/**'
       - 'LICENSE'
       - '.github/CODEOWNERS'
+      - '.github/DISCUSSION_TEMPLATE/**'
       - '.buildkite/**'
       - '.dockerignore'
       - '*.bench.ts'
@@ -32,6 +33,7 @@ on:
       - '.github/ISSUE_TEMPLATE/**'
       - 'LICENSE'
       - '.github/CODEOWNERS'
+      - '.github/DISCUSSION_TEMPLATE/**'
       - '.buildkite/**'
       - '.dockerignore'
       - '*.bench.ts'
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,ec15158320ac18e92402b4c08c4d6faed454f894,13e9d23bbb19e99c605c26b9881bacc96ac33677,2023-08-02 16:04:58+02:00,test(cli): remove unused databases from GitHub Actions (#20503),1,5.2.0,test-template.yml,MODIFY,1,1,,20503,Jolg42,User,MEMBER,Jolg42,User,2023-08-02T12:49:50Z,2023-08-02T14:05:00Z,closed,,,,Follows https://github.com/prisma/prisma/pull/20417,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/ec15158_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/ec15158_test-template.yml,None,None,None,"@@ -733,7 +733,7 @@ jobs:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
 
-      - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongodb_migrate mongodb_migrate_seed cockroachdb
+      - run: docker compose -f docker/docker-compose.yml up --detach postgres
 
       - name: Set CLI Engine Type
         run: |
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,121f9dc2ab06b3f6dbef803e8db55a2fcc8740e9,d73ff684f593d66edbdbd72b3d347ec76d79a0d0,2023-08-07 16:01:03+02:00,ci(release): fix /integration (#20583),1,5.2.0,test.yml,MODIFY,21,1,,20583,Jolg42,User,MEMBER,Jolg42,User,2023-08-07T13:46:50Z,2023-08-07T14:01:04Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/121f9dc_test.yml,../Mining/generated/scripts/prisma/files_src_after/121f9dc_test.yml,None,None,None,"@@ -58,6 +58,14 @@ jobs:
       - id: detect
         run: ./.github/workflows/scripts/detect-jobs-to-run.js <<< '${{ steps.files.outputs.all }}'
 
+      - name: Debug Pull Request Event
+        if: ${{ github.event_name == 'pull_request' }}
+        run: |
+          echo ""Pull Request: ${{ github.event.pull_request.number }}""
+          echo ""Pull Request Author: ${{ github.event.pull_request.user.login }}""
+          echo ""Pull Request Body: ${{ github.event.pull_request.body }}""
+          echo ""Pull Request Author Association: ${{ github.event.pull_request.author_association }}""
+
       - name: Find ""ci test all"" comment
         uses: peter-evans/find-comment@v2
         id: findTestAllComment
@@ -75,7 +83,19 @@ jobs:
           fi
 
       - name: Trigger npm release workflow for integration release
-        if: ${{ github.event_name == 'pull_request' && contains(github.event.pull_request.body, '/integration') && (github.event.pull_request.author_association == 'member' || github.event.pull_request.author_association == 'owner' || github.event.pull_request.author_association == 'collaborator') }}
+        # See https://docs.github.com/en/graphql/reference/enums
+        # https://michaelheap.com/github-actions-check-permission/
+        # Check if
+        # - the PR body contains `/integration`
+        # - the PR author has permissions to trigger the workflow (must be part of the org or a collaborator)
+        if: |
+          github.event_name == 'pull_request' &&
+          contains(github.event.pull_request.body, '/integration') && 
+          (
+            github.event.pull_request.author_association == 'OWNER' ||
+            github.event.pull_request.author_association == 'MEMBER' ||
+            github.event.pull_request.author_association == 'COLLABORATOR'
+          )
         uses: benc-uk/workflow-dispatch@v1
         with:
           workflow: release-ci.yml
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,19772f6cb52ffd7b0b4f8a19794eef6964bdce88,8e13c3e02cada36c83d83c877c5fda8a1b636e62,2023-08-11 11:21:35-10:00,ci: use macos 13 (#20664),2,5.2.0,test-template.yml,MODIFY,4,4,,20664,millsp,User,MEMBER,millsp,User,2023-08-11T19:10:16Z,2023-08-11T21:21:36Z,closed,,,,Run time is cut by half!,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/19772f6_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/19772f6_test-template.yml,None,None,None,"@@ -860,7 +860,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        os: [macos-latest, windows-latest]
+        os: [macos-13, windows-latest]
         node: [16]
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
         shard: ['1/2', '2/2']
@@ -902,7 +902,7 @@ jobs:
         env:
           # allow Node.js to allocate at most 14GB of heap on macOS and 7GB on Windows
           # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
-          NODE_OPTIONS: ""${{ matrix.os == 'macos-latest' && '--max-old-space-size=14336' || '--max-old-space-size=7168' }}""
+          NODE_OPTIONS: ""${{ matrix.os == 'macos-13' && '--max-old-space-size=14336' || '--max-old-space-size=7168' }}""
           JEST_JUNIT_SUITE_NAME: 'client/functional'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
@@ -940,7 +940,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        os: [macos-latest, windows-latest]
+        os: [macos-13, windows-latest]
         node: [16]
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
 
@@ -992,7 +992,7 @@ jobs:
           # Allow Node.js to allocate at most a certain amount heap on macOS and a different amount on Windows
           # Note that this value should be lower than the total amount of RAM available
           # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
-          NODE_OPTIONS: ""${{ matrix.os == 'macos-latest' && '--max-old-space-size=14336' || '--max-old-space-size=3072' }}""
+          NODE_OPTIONS: ""${{ matrix.os == 'macos-13' && '--max-old-space-size=14336' || '--max-old-space-size=3072' }}""
           JEST_JUNIT_SUITE_NAME: 'client/old'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,2946740e994ee1dcb4473cf6fab8352d7ab7db36,35e4a38a5bf98d76e9f48c447ae5a2a607ab0402,2023-08-14 08:59:28+02:00,chore: remove Buildkite + update .md (#20651),14,5.2.0,benchmark.yml,MODIFY,0,4,,20651,Jolg42,User,MEMBER,Jolg42,User,2023-08-11T11:01:03Z,2023-08-14T06:59:29Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/2946740_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/2946740_benchmark.yml,None,None,None,"@@ -6,8 +6,6 @@ on:
     paths-ignore:
       # Any update here needs to be done for
       # - `pull_request` see below
-      # - https://github.com/prisma/prisma/blob/main/.buildkite/test/buildkite-entry.sh
-      # - https://github.com/prisma/prisma/blob/main/.buildkite/publish/buildkite-entry.sh
       - '*.md'
       - '.devcontainer/**'
       - '.vscode/**'
@@ -17,7 +15,6 @@ on:
       - '.github/CODEOWNERS'
       - '.github/DISCUSSION_TEMPLATE/**'
       - '.github/ISSUE_TEMPLATE/**'
-      - '.buildkite/**'
       - '.dockerignore'
       - 'scripts/ci/publish.ts'
       - 'graphs/**'
@@ -32,7 +29,6 @@ on:
       - '.github/CODEOWNERS'
       - '.github/DISCUSSION_TEMPLATE/**'
       - '.github/ISSUE_TEMPLATE/**'
-      - '.buildkite/**'
       - '.dockerignore'
       - 'scripts/ci/publish.ts'
       - 'graphs/**'
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,2946740e994ee1dcb4473cf6fab8352d7ab7db36,35e4a38a5bf98d76e9f48c447ae5a2a607ab0402,2023-08-14 08:59:28+02:00,chore: remove Buildkite + update .md (#20651),14,5.2.0,release-ci.yml,MODIFY,0,1,,20651,Jolg42,User,MEMBER,Jolg42,User,2023-08-11T11:01:03Z,2023-08-14T06:59:29Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/release-ci.yml,../Mining/generated/scripts/prisma/files_src_before/2946740_release-ci.yml,../Mining/generated/scripts/prisma/files_src_after/2946740_release-ci.yml,None,None,None,"@@ -15,7 +15,6 @@ on:
       - 'LICENSE'
       - '.github/CODEOWNERS'
       - '.github/DISCUSSION_TEMPLATE/**'
-      - '.buildkite/**'
       - '.dockerignore'
       - '*.bench.ts'
       - 'graphs/**'
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,2946740e994ee1dcb4473cf6fab8352d7ab7db36,35e4a38a5bf98d76e9f48c447ae5a2a607ab0402,2023-08-14 08:59:28+02:00,chore: remove Buildkite + update .md (#20651),14,5.2.0,test.yml,MODIFY,0,6,,20651,Jolg42,User,MEMBER,Jolg42,User,2023-08-11T11:01:03Z,2023-08-14T06:59:29Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/2946740_test.yml,../Mining/generated/scripts/prisma/files_src_after/2946740_test.yml,None,None,None,"@@ -7,8 +7,6 @@ on:
     paths-ignore:
       # Any update here needs to be done for
       # - `pull_request` see below
-      # - https://github.com/prisma/prisma/blob/main/.buildkite/test/buildkite-entry.sh
-      # - https://github.com/prisma/prisma/blob/main/.buildkite/publish/buildkite-entry.sh
       - '*.md'
       - '.devcontainer/**'
       - '.vscode/**'
@@ -16,7 +14,6 @@ on:
       - 'LICENSE'
       - '.github/CODEOWNERS'
       - '.github/DISCUSSION_TEMPLATE/**'
-      - '.buildkite/**'
       - '.dockerignore'
       - '*.bench.ts'
       - 'scripts/ci/publish.ts'
@@ -25,8 +22,6 @@ on:
     paths-ignore:
       # Any update here needs to be done for
       # - `push`see before
-      # - https://github.com/prisma/prisma/blob/main/.buildkite/test/buildkite-entry.sh
-      # - https://github.com/prisma/prisma/blob/main/.buildkite/publish/buildkite-entry.sh
       - '*.md'
       - '.devcontainer/**'
       - '.vscode/**'
@@ -34,7 +29,6 @@ on:
       - 'LICENSE'
       - '.github/CODEOWNERS'
       - '.github/DISCUSSION_TEMPLATE/**'
-      - '.buildkite/**'
       - '.dockerignore'
       - '*.bench.ts'
       - 'scripts/ci/publish.ts'
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,1b860197662ead565b8185316fb4af72eea21b5e,2946740e994ee1dcb4473cf6fab8352d7ab7db36,2023-08-14 09:12:15+02:00,ci(gha): skip type-checking where we can (#20616),6,5.2.0,benchmark.yml,MODIFY,1,0,,20616,Jolg42,User,MEMBER,Jolg42,User,2023-08-09T10:55:28Z,2023-08-14T07:12:16Z,closed,,,,"Related https://github.com/prisma/prisma/pull/19016 from @millsp I basically did the same and adapted it to the new Actions setup.

This can save up to 2 minutes for the build step.
Example for total time for `cli-commands`:
Before https://github.com/prisma/prisma/actions/runs/5794752155/job/15704983207#logs
> cli-commands (library, ubuntu-latest, 16)
succeeded Aug 8, 2023 in 3m 52s 

After https://github.com/prisma/prisma/actions/runs/5810766364/job/15752474077?pr=20616
> cli-commands (library, ubuntu-latest, 16)
succeeded Aug 9, 2023 in 2m 3s 

Which ends up in total
Before: 11h 55m (https://github.com/prisma/prisma/actions/runs/5794752155/usage)
After: 10h 44m (https://github.com/prisma/prisma/actions/runs/5810766364/usage)
->In theory, tsc is now skipped on 23 jobs, multiplied by 2 min = 43min saved.

Note: apparently we need to keep tsc for the ones in failing red here:
<img width=""175"" alt=""Screenshot 2023-08-09 at 17 05 07"" src=""https://github.com/prisma/prisma/assets/1328733/9dcefb68-8e0a-4147-8d31-226e1f345e1a"">
<img width=""166"" alt=""Screenshot 2023-08-09 at 17 05 12"" src=""https://github.com/prisma/prisma/assets/1328733/12308f5c-e04c-4a3b-a142-009c377c342a"">
<img width=""202"" alt=""Screenshot 2023-08-09 at 17 05 21"" src=""https://github.com/prisma/prisma/assets/1328733/ce6db099-435f-4900-9ab3-0a4de9e37c05"">
",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/1b86019_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/1b86019_benchmark.yml,None,None,None,"@@ -56,6 +56,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: 8
+          skip-tsc: true
 
       - name: Run benchmarks
         run: pnpm run bench
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,1b860197662ead565b8185316fb4af72eea21b5e,2946740e994ee1dcb4473cf6fab8352d7ab7db36,2023-08-14 09:12:15+02:00,ci(gha): skip type-checking where we can (#20616),6,5.2.0,release-ci.yml,MODIFY,1,0,,20616,Jolg42,User,MEMBER,Jolg42,User,2023-08-09T10:55:28Z,2023-08-14T07:12:16Z,closed,,,,"Related https://github.com/prisma/prisma/pull/19016 from @millsp I basically did the same and adapted it to the new Actions setup.

This can save up to 2 minutes for the build step.
Example for total time for `cli-commands`:
Before https://github.com/prisma/prisma/actions/runs/5794752155/job/15704983207#logs
> cli-commands (library, ubuntu-latest, 16)
succeeded Aug 8, 2023 in 3m 52s 

After https://github.com/prisma/prisma/actions/runs/5810766364/job/15752474077?pr=20616
> cli-commands (library, ubuntu-latest, 16)
succeeded Aug 9, 2023 in 2m 3s 

Which ends up in total
Before: 11h 55m (https://github.com/prisma/prisma/actions/runs/5794752155/usage)
After: 10h 44m (https://github.com/prisma/prisma/actions/runs/5810766364/usage)
->In theory, tsc is now skipped on 23 jobs, multiplied by 2 min = 43min saved.

Note: apparently we need to keep tsc for the ones in failing red here:
<img width=""175"" alt=""Screenshot 2023-08-09 at 17 05 07"" src=""https://github.com/prisma/prisma/assets/1328733/9dcefb68-8e0a-4147-8d31-226e1f345e1a"">
<img width=""166"" alt=""Screenshot 2023-08-09 at 17 05 12"" src=""https://github.com/prisma/prisma/assets/1328733/12308f5c-e04c-4a3b-a142-009c377c342a"">
<img width=""202"" alt=""Screenshot 2023-08-09 at 17 05 21"" src=""https://github.com/prisma/prisma/assets/1328733/ce6db099-435f-4900-9ab3-0a4de9e37c05"">
",../Mining/generated/scripts/prisma/current_code/release-ci.yml,../Mining/generated/scripts/prisma/files_src_before/1b86019_release-ci.yml,../Mining/generated/scripts/prisma/files_src_after/1b86019_release-ci.yml,None,None,None,"@@ -53,6 +53,7 @@ jobs:
         with:
           node-version: 16
           pnpm-version: 8
+          skip-tsc: false
 
       - name: Publish all packages to npm
         id: publish
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,1b860197662ead565b8185316fb4af72eea21b5e,2946740e994ee1dcb4473cf6fab8352d7ab7db36,2023-08-14 09:12:15+02:00,ci(gha): skip type-checking where we can (#20616),6,5.2.0,release-latest.yml,MODIFY,1,0,,20616,Jolg42,User,MEMBER,Jolg42,User,2023-08-09T10:55:28Z,2023-08-14T07:12:16Z,closed,,,,"Related https://github.com/prisma/prisma/pull/19016 from @millsp I basically did the same and adapted it to the new Actions setup.

This can save up to 2 minutes for the build step.
Example for total time for `cli-commands`:
Before https://github.com/prisma/prisma/actions/runs/5794752155/job/15704983207#logs
> cli-commands (library, ubuntu-latest, 16)
succeeded Aug 8, 2023 in 3m 52s 

After https://github.com/prisma/prisma/actions/runs/5810766364/job/15752474077?pr=20616
> cli-commands (library, ubuntu-latest, 16)
succeeded Aug 9, 2023 in 2m 3s 

Which ends up in total
Before: 11h 55m (https://github.com/prisma/prisma/actions/runs/5794752155/usage)
After: 10h 44m (https://github.com/prisma/prisma/actions/runs/5810766364/usage)
->In theory, tsc is now skipped on 23 jobs, multiplied by 2 min = 43min saved.

Note: apparently we need to keep tsc for the ones in failing red here:
<img width=""175"" alt=""Screenshot 2023-08-09 at 17 05 07"" src=""https://github.com/prisma/prisma/assets/1328733/9dcefb68-8e0a-4147-8d31-226e1f345e1a"">
<img width=""166"" alt=""Screenshot 2023-08-09 at 17 05 12"" src=""https://github.com/prisma/prisma/assets/1328733/12308f5c-e04c-4a3b-a142-009c377c342a"">
<img width=""202"" alt=""Screenshot 2023-08-09 at 17 05 21"" src=""https://github.com/prisma/prisma/assets/1328733/ce6db099-435f-4900-9ab3-0a4de9e37c05"">
",../Mining/generated/scripts/prisma/current_code/release-latest.yml,../Mining/generated/scripts/prisma/files_src_before/1b86019_release-latest.yml,../Mining/generated/scripts/prisma/files_src_after/1b86019_release-latest.yml,None,None,None,"@@ -49,6 +49,7 @@ jobs:
         with:
           node-version: 16
           pnpm-version: 8
+          skip-tsc: false
 
       - name: Publish all packages to npm
         id: publish
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,1b860197662ead565b8185316fb4af72eea21b5e,2946740e994ee1dcb4473cf6fab8352d7ab7db36,2023-08-14 09:12:15+02:00,ci(gha): skip type-checking where we can (#20616),6,5.2.0,test-template.yml,MODIFY,19,0,,20616,Jolg42,User,MEMBER,Jolg42,User,2023-08-09T10:55:28Z,2023-08-14T07:12:16Z,closed,,,,"Related https://github.com/prisma/prisma/pull/19016 from @millsp I basically did the same and adapted it to the new Actions setup.

This can save up to 2 minutes for the build step.
Example for total time for `cli-commands`:
Before https://github.com/prisma/prisma/actions/runs/5794752155/job/15704983207#logs
> cli-commands (library, ubuntu-latest, 16)
succeeded Aug 8, 2023 in 3m 52s 

After https://github.com/prisma/prisma/actions/runs/5810766364/job/15752474077?pr=20616
> cli-commands (library, ubuntu-latest, 16)
succeeded Aug 9, 2023 in 2m 3s 

Which ends up in total
Before: 11h 55m (https://github.com/prisma/prisma/actions/runs/5794752155/usage)
After: 10h 44m (https://github.com/prisma/prisma/actions/runs/5810766364/usage)
->In theory, tsc is now skipped on 23 jobs, multiplied by 2 min = 43min saved.

Note: apparently we need to keep tsc for the ones in failing red here:
<img width=""175"" alt=""Screenshot 2023-08-09 at 17 05 07"" src=""https://github.com/prisma/prisma/assets/1328733/9dcefb68-8e0a-4147-8d31-226e1f345e1a"">
<img width=""166"" alt=""Screenshot 2023-08-09 at 17 05 12"" src=""https://github.com/prisma/prisma/assets/1328733/12308f5c-e04c-4a3b-a142-009c377c342a"">
<img width=""202"" alt=""Screenshot 2023-08-09 at 17 05 21"" src=""https://github.com/prisma/prisma/assets/1328733/ce6db099-435f-4900-9ab3-0a4de9e37c05"">
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/1b86019_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/1b86019_test-template.yml,None,None,None,"@@ -75,6 +75,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          skip-tsc: false
 
       # https://github.com/actions/toolkit/blob/master/docs/commands.md#problem-matchers
       # Matchers are added in setup-node
@@ -154,6 +155,8 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          # Fails if set to true
+          skip-tsc: false
 
       # Run the functional test suite
       - run: pnpm run test:functional --silent --shard ${{ matrix.shard }}
@@ -217,6 +220,8 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          # Fails if set to true
+          skip-tsc: false
 
       - run: pnpm run test:functional --data-proxy --shard ${{ matrix.shard }}
         working-directory: packages/client
@@ -296,6 +301,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          skip-tsc: true
 
       - run: pnpm run test:memory
         working-directory: packages/client
@@ -390,6 +396,8 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          # Fails if set to true
+          skip-tsc: false
 
       - run: pnpm run test:e2e --skipBuild --verbose --runInBand
         working-directory: packages/client
@@ -447,6 +455,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          skip-tsc: true
 
       # shouldn't take more than 15 minutes
       - name: 1 to 1
@@ -501,6 +510,8 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          # Fails if set to true
+          skip-tsc: false
 
       - run: pnpm run test src/__tests__/types/types.test.ts
         working-directory: packages/client
@@ -554,6 +565,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          skip-tsc: true
 
       - run: pnpm run test
         working-directory: packages/integration-tests
@@ -616,6 +628,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          skip-tsc: true
 
       - run: pnpm run test
         working-directory: packages/internals
@@ -675,6 +688,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          skip-tsc: true
 
       - run: pnpm run test
         working-directory: packages/migrate
@@ -748,6 +762,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          skip-tsc: true
 
       - run: pnpm run test
         working-directory: packages/cli
@@ -781,6 +796,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          skip-tsc: true
 
       - run: pnpm run test
         name: 'debug'
@@ -895,6 +911,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          skip-tsc: true
 
       - name: Test packages/client
         run: pnpm run test:functional:code --silent --shard ${{matrix.shard}}
@@ -968,6 +985,8 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          # Fails if set to true
+          skip-tsc: false
 
       - name: Test packages/internals
         if: ${{ contains(inputs.jobsToRun, '-all-') }} || contains(inputs.jobsToRun, '-internals-') }}
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,75d0e25be74f6bf62627c836be758f4e844ea9b8,0ea095f261cd6739704b6ffa87652c6819e8de14,2023-08-24 09:29:13+02:00,"chore(deps): update rtcamp/action-slack-notify action to v2.2.1 (#20830)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",8,,benchmark.yml,MODIFY,1,1,,20830,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-08-24T00:36:34Z,2023-08-24T07:29:14Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [rtCamp/action-slack-notify](https://togithub.com/rtCamp/action-slack-notify) | action | patch | `v2.2.0` -> `v2.2.1` |

---

### Release Notes

<details>
<summary>rtCamp/action-slack-notify (rtCamp/action-slack-notify)</summary>

### [`v2.2.1`](https://togithub.com/rtCamp/action-slack-notify/releases/tag/v2.2.1): Version 2.2.1

[Compare Source](https://togithub.com/rtCamp/action-slack-notify/compare/v2.2.0...v2.2.1)

##### What's changed

-   Update Action Dockerfile [https://github.com/rtCamp/action-slack-notify/pull/154](https://togithub.com/rtCamp/action-slack-notify/pull/154) [@&#8203;mrrobot47](https://togithub.com/mrrobot47)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi41Ni4wIiwidXBkYXRlZEluVmVyIjoiMzYuNTYuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/75d0e25_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/75d0e25_benchmark.yml,None,None,None,"@@ -91,7 +91,7 @@ jobs:
 
       - name: Slack Notification on Failure
         if: ${{ failure() && github.ref == 'refs/heads/main' }}
-        uses: rtCamp/action-slack-notify@v2.2.0
+        uses: rtCamp/action-slack-notify@v2.2.1
         env:
           SLACK_TITLE: 'Benchmark failed :x:'
           SLACK_COLOR: '#FF0000'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,75d0e25be74f6bf62627c836be758f4e844ea9b8,0ea095f261cd6739704b6ffa87652c6819e8de14,2023-08-24 09:29:13+02:00,"chore(deps): update rtcamp/action-slack-notify action to v2.2.1 (#20830)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",8,,codeql-analysis.yml,MODIFY,1,1,,20830,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-08-24T00:36:34Z,2023-08-24T07:29:14Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [rtCamp/action-slack-notify](https://togithub.com/rtCamp/action-slack-notify) | action | patch | `v2.2.0` -> `v2.2.1` |

---

### Release Notes

<details>
<summary>rtCamp/action-slack-notify (rtCamp/action-slack-notify)</summary>

### [`v2.2.1`](https://togithub.com/rtCamp/action-slack-notify/releases/tag/v2.2.1): Version 2.2.1

[Compare Source](https://togithub.com/rtCamp/action-slack-notify/compare/v2.2.0...v2.2.1)

##### What's changed

-   Update Action Dockerfile [https://github.com/rtCamp/action-slack-notify/pull/154](https://togithub.com/rtCamp/action-slack-notify/pull/154) [@&#8203;mrrobot47](https://togithub.com/mrrobot47)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi41Ni4wIiwidXBkYXRlZEluVmVyIjoiMzYuNTYuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/codeql-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/75d0e25_codeql-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/75d0e25_codeql-analysis.yml,None,None,None,"@@ -52,7 +52,7 @@ jobs:
 
       - name: Slack Notification on Failure
         if: ${{ failure() }}
-        uses: rtCamp/action-slack-notify@v2.2.0
+        uses: rtCamp/action-slack-notify@v2.2.1
         env:
           SLACK_TITLE: 'CodeQL: Code Scanning failed :x:'
           SLACK_COLOR: '#FF0000'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,75d0e25be74f6bf62627c836be758f4e844ea9b8,0ea095f261cd6739704b6ffa87652c6819e8de14,2023-08-24 09:29:13+02:00,"chore(deps): update rtcamp/action-slack-notify action to v2.2.1 (#20830)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",8,,daily-test.yml,MODIFY,1,1,,20830,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-08-24T00:36:34Z,2023-08-24T07:29:14Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [rtCamp/action-slack-notify](https://togithub.com/rtCamp/action-slack-notify) | action | patch | `v2.2.0` -> `v2.2.1` |

---

### Release Notes

<details>
<summary>rtCamp/action-slack-notify (rtCamp/action-slack-notify)</summary>

### [`v2.2.1`](https://togithub.com/rtCamp/action-slack-notify/releases/tag/v2.2.1): Version 2.2.1

[Compare Source](https://togithub.com/rtCamp/action-slack-notify/compare/v2.2.0...v2.2.1)

##### What's changed

-   Update Action Dockerfile [https://github.com/rtCamp/action-slack-notify/pull/154](https://togithub.com/rtCamp/action-slack-notify/pull/154) [@&#8203;mrrobot47](https://togithub.com/mrrobot47)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi41Ni4wIiwidXBkYXRlZEluVmVyIjoiMzYuNTYuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/daily-test.yml,../Mining/generated/scripts/prisma/files_src_before/75d0e25_daily-test.yml,../Mining/generated/scripts/prisma/files_src_after/75d0e25_daily-test.yml,None,None,None,"@@ -25,7 +25,7 @@ jobs:
         run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
 
       - name: Slack Notification on Failure
-        uses: rtCamp/action-slack-notify@v2.2.0
+        uses: rtCamp/action-slack-notify@v2.2.1
         env:
           SLACK_TITLE: 'prisma/prisma daily build failed :x:'
           SLACK_COLOR: '#FF0000'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,75d0e25be74f6bf62627c836be758f4e844ea9b8,0ea095f261cd6739704b6ffa87652c6819e8de14,2023-08-24 09:29:13+02:00,"chore(deps): update rtcamp/action-slack-notify action to v2.2.1 (#20830)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",8,,label-stale-issues.yml,MODIFY,1,1,,20830,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-08-24T00:36:34Z,2023-08-24T07:29:14Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [rtCamp/action-slack-notify](https://togithub.com/rtCamp/action-slack-notify) | action | patch | `v2.2.0` -> `v2.2.1` |

---

### Release Notes

<details>
<summary>rtCamp/action-slack-notify (rtCamp/action-slack-notify)</summary>

### [`v2.2.1`](https://togithub.com/rtCamp/action-slack-notify/releases/tag/v2.2.1): Version 2.2.1

[Compare Source](https://togithub.com/rtCamp/action-slack-notify/compare/v2.2.0...v2.2.1)

##### What's changed

-   Update Action Dockerfile [https://github.com/rtCamp/action-slack-notify/pull/154](https://togithub.com/rtCamp/action-slack-notify/pull/154) [@&#8203;mrrobot47](https://togithub.com/mrrobot47)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi41Ni4wIiwidXBkYXRlZEluVmVyIjoiMzYuNTYuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/75d0e25_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/75d0e25_label-stale-issues.yml,None,None,None,"@@ -27,7 +27,7 @@ jobs:
 
       - name: Slack Notification on Failure
         if: ${{ failure() }}
-        uses: rtCamp/action-slack-notify@v2.2.0
+        uses: rtCamp/action-slack-notify@v2.2.1
         env:
           SLACK_TITLE: 'Labels stale issues failed :x:'
           SLACK_COLOR: '#FF0000'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,75d0e25be74f6bf62627c836be758f4e844ea9b8,0ea095f261cd6739704b6ffa87652c6819e8de14,2023-08-24 09:29:13+02:00,"chore(deps): update rtcamp/action-slack-notify action to v2.2.1 (#20830)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",8,,release-ci.yml,MODIFY,2,2,,20830,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-08-24T00:36:34Z,2023-08-24T07:29:14Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [rtCamp/action-slack-notify](https://togithub.com/rtCamp/action-slack-notify) | action | patch | `v2.2.0` -> `v2.2.1` |

---

### Release Notes

<details>
<summary>rtCamp/action-slack-notify (rtCamp/action-slack-notify)</summary>

### [`v2.2.1`](https://togithub.com/rtCamp/action-slack-notify/releases/tag/v2.2.1): Version 2.2.1

[Compare Source](https://togithub.com/rtCamp/action-slack-notify/compare/v2.2.0...v2.2.1)

##### What's changed

-   Update Action Dockerfile [https://github.com/rtCamp/action-slack-notify/pull/154](https://togithub.com/rtCamp/action-slack-notify/pull/154) [@&#8203;mrrobot47](https://togithub.com/mrrobot47)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi41Ni4wIiwidXBkYXRlZEluVmVyIjoiMzYuNTYuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/release-ci.yml,../Mining/generated/scripts/prisma/files_src_before/75d0e25_release-ci.yml,../Mining/generated/scripts/prisma/files_src_after/75d0e25_release-ci.yml,None,None,None,"@@ -94,7 +94,7 @@ jobs:
         run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
 
       - name: Slack Notification on Success
-        uses: rtCamp/action-slack-notify@v2.2.0
+        uses: rtCamp/action-slack-notify@v2.2.1
         env:
           SLACK_TITLE: 'prisma/prisma Release ${{ steps.publish.outputs.prismaVersion }} succeeded :white_check_mark:'
           SLACK_COLOR: '#55ff55'
@@ -112,7 +112,7 @@ jobs:
         run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
 
       - name: Slack Notification on Failure
-        uses: rtCamp/action-slack-notify@v2.2.0
+        uses: rtCamp/action-slack-notify@v2.2.1
         env:
           SLACK_TITLE: 'prisma/prisma Release from ${{ github.ref_name }} to dev/integration failed :x:'
           SLACK_COLOR: '#FF0000'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,75d0e25be74f6bf62627c836be758f4e844ea9b8,0ea095f261cd6739704b6ffa87652c6819e8de14,2023-08-24 09:29:13+02:00,"chore(deps): update rtcamp/action-slack-notify action to v2.2.1 (#20830)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",8,,release-latest.yml,MODIFY,2,2,,20830,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-08-24T00:36:34Z,2023-08-24T07:29:14Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [rtCamp/action-slack-notify](https://togithub.com/rtCamp/action-slack-notify) | action | patch | `v2.2.0` -> `v2.2.1` |

---

### Release Notes

<details>
<summary>rtCamp/action-slack-notify (rtCamp/action-slack-notify)</summary>

### [`v2.2.1`](https://togithub.com/rtCamp/action-slack-notify/releases/tag/v2.2.1): Version 2.2.1

[Compare Source](https://togithub.com/rtCamp/action-slack-notify/compare/v2.2.0...v2.2.1)

##### What's changed

-   Update Action Dockerfile [https://github.com/rtCamp/action-slack-notify/pull/154](https://togithub.com/rtCamp/action-slack-notify/pull/154) [@&#8203;mrrobot47](https://togithub.com/mrrobot47)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi41Ni4wIiwidXBkYXRlZEluVmVyIjoiMzYuNTYuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/release-latest.yml,../Mining/generated/scripts/prisma/files_src_before/75d0e25_release-latest.yml,../Mining/generated/scripts/prisma/files_src_after/75d0e25_release-latest.yml,None,None,None,"@@ -96,7 +96,7 @@ jobs:
         run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
 
       - name: Slack Notification on Success
-        uses: rtCamp/action-slack-notify@v2.2.0
+        uses: rtCamp/action-slack-notify@v2.2.1
         env:
           SLACK_TITLE: 'prisma/prisma Release ${{ steps.publish.outputs.prismaVersion }} succeeded :white_check_mark:'
           SLACK_COLOR: '#55ff55'
@@ -114,7 +114,7 @@ jobs:
         run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
 
       - name: Slack Notification on Failure
-        uses: rtCamp/action-slack-notify@v2.2.0
+        uses: rtCamp/action-slack-notify@v2.2.1
         env:
           SLACK_TITLE: 'prisma/prisma Release ${{ github.event.inputs.targetVersion }} from ${{ github.ref_name }} on latest tag failed :x:'
           SLACK_COLOR: '#FF0000'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,75d0e25be74f6bf62627c836be758f4e844ea9b8,0ea095f261cd6739704b6ffa87652c6819e8de14,2023-08-24 09:29:13+02:00,"chore(deps): update rtcamp/action-slack-notify action to v2.2.1 (#20830)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",8,,update-engines-version.yml,MODIFY,1,1,,20830,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-08-24T00:36:34Z,2023-08-24T07:29:14Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [rtCamp/action-slack-notify](https://togithub.com/rtCamp/action-slack-notify) | action | patch | `v2.2.0` -> `v2.2.1` |

---

### Release Notes

<details>
<summary>rtCamp/action-slack-notify (rtCamp/action-slack-notify)</summary>

### [`v2.2.1`](https://togithub.com/rtCamp/action-slack-notify/releases/tag/v2.2.1): Version 2.2.1

[Compare Source](https://togithub.com/rtCamp/action-slack-notify/compare/v2.2.0...v2.2.1)

##### What's changed

-   Update Action Dockerfile [https://github.com/rtCamp/action-slack-notify/pull/154](https://togithub.com/rtCamp/action-slack-notify/pull/154) [@&#8203;mrrobot47](https://togithub.com/mrrobot47)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi41Ni4wIiwidXBkYXRlZEluVmVyIjoiMzYuNTYuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/75d0e25_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/75d0e25_update-engines-version.yml,None,None,None,"@@ -203,7 +203,7 @@ jobs:
 
       - name: Slack Notification on Failure
         if: ${{ failure() }}
-        uses: rtCamp/action-slack-notify@v2.2.0
+        uses: rtCamp/action-slack-notify@v2.2.1
         env:
           SLACK_TITLE: 'Update Engines Version failed :x:'
           SLACK_COLOR: '#FF0000'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,75d0e25be74f6bf62627c836be758f4e844ea9b8,0ea095f261cd6739704b6ffa87652c6819e8de14,2023-08-24 09:29:13+02:00,"chore(deps): update rtcamp/action-slack-notify action to v2.2.1 (#20830)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",8,,update-studio-version.yml,MODIFY,1,1,,20830,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-08-24T00:36:34Z,2023-08-24T07:29:14Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [rtCamp/action-slack-notify](https://togithub.com/rtCamp/action-slack-notify) | action | patch | `v2.2.0` -> `v2.2.1` |

---

### Release Notes

<details>
<summary>rtCamp/action-slack-notify (rtCamp/action-slack-notify)</summary>

### [`v2.2.1`](https://togithub.com/rtCamp/action-slack-notify/releases/tag/v2.2.1): Version 2.2.1

[Compare Source](https://togithub.com/rtCamp/action-slack-notify/compare/v2.2.0...v2.2.1)

##### What's changed

-   Update Action Dockerfile [https://github.com/rtCamp/action-slack-notify/pull/154](https://togithub.com/rtCamp/action-slack-notify/pull/154) [@&#8203;mrrobot47](https://togithub.com/mrrobot47)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi41Ni4wIiwidXBkYXRlZEluVmVyIjoiMzYuNTYuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/75d0e25_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/75d0e25_update-studio-version.yml,None,None,None,"@@ -82,7 +82,7 @@ jobs:
 
       - name: Slack Notification on Failure
         if: ${{ failure() }}
-        uses: rtCamp/action-slack-notify@v2.2.0
+        uses: rtCamp/action-slack-notify@v2.2.1
         env:
           SLACK_TITLE: 'Update Studio Version failed :x:'
           SLACK_COLOR: '#FF0000'
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,2ca3944f82cda2d809e73b36990e7129d73314b1,6c58bf487664bf9aa40097333ca0c84654d12477,2023-08-28 03:51:55-10:00,ci: type check codebase (#20855),24,5.3.0,test-template.yml,MODIFY,24,0,,20855,millsp,User,MEMBER,millsp,User,2023-08-25T23:28:20Z,2023-08-28T13:51:56Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/2ca3944_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/2ca3944_test-template.yml,0.6,0.6,1.0,"@@ -522,6 +522,30 @@ jobs:
           flags: client-types,${{ matrix.os }},library,binary
           name: client-types-${{ matrix.os }}
 
+  #
+  # WORKSPACE-TYPES
+  #
+  workspace-types:
+    timeout-minutes: 15
+    runs-on: ubuntu-latest
+
+    strategy:
+      fail-fast: false
+      matrix:
+        node: [16]
+
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Install & build
+        uses: ./.github/actions/setup
+        with:
+          node-version: ${{ matrix.node }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
+          skip-tsc: true
+
+      - run: pnpm tsc -p tsconfig.utils.typecheck.json
+
   #
   # INTEGRATION-TESTS
   #
",True,False,False,False,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,fd5e07df7257431eba3a6175dc756169af095ef1,2ca3944f82cda2d809e73b36990e7129d73314b1,2023-08-28 03:56:23-10:00,chore: use dotenv-cli for db urls (#20847),13,5.3.0,test-template.yml,MODIFY,0,84,,20847,millsp,User,MEMBER,millsp,User,2023-08-25T15:47:21Z,2023-08-28T13:56:23Z,closed,,,,"This PR will make it easier to contribute as `direnv` is not strictly require anymore and was replaced with `dotenv-cli`, although it can still be used. `direnv` was especially annoying for windows users, but also yet another hurdle to get started. We also now include a new `.db.env` along with the old `.envrc` directly into the repo (because why not?), and also took advantage to cleanup passing the env vars on CI which was repetitive and not centralized.",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/fd5e07d_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/fd5e07d_test-template.yml,None,None,None,"@@ -105,23 +105,6 @@ jobs:
         node: [16, 18, 20]
 
     env:
-      TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-      TEST_POSTGRES_ISOLATED_URI: postgres://prisma:prisma@localhost:5435/tests
-      TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-      TEST_MYSQL_ISOLATED_URI: mysql://root:root@localhost:3307/tests
-      TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-      TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
-      TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-      TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
-      TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
-      TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
-      TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
-      TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
-      TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
-      TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
-      TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-      TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
-      TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
       NODE_OPTIONS: '--max-old-space-size=8096'
       JEST_JUNIT_SUITE_NAME: 'client/functional'
       JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
@@ -226,12 +209,6 @@ jobs:
       - run: pnpm run test:functional --data-proxy --shard ${{ matrix.shard }}
         working-directory: packages/client
         env:
-          TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
-          TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
-          TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
-          TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-          TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
-          TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
           NODE_OPTIONS: '--max-old-space-size=8096'
           JEST_JUNIT_SUITE_NAME: 'client/functional'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
@@ -239,12 +216,6 @@ jobs:
       - run: pnpm run test:functional --data-proxy --edge-client --shard ${{ matrix.shard }}
         working-directory: packages/client
         env:
-          TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
-          TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
-          TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
-          TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-          TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
-          TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
           NODE_OPTIONS: '--max-old-space-size=8096'
           JEST_JUNIT_SUITE_NAME: 'client/functional'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
@@ -305,12 +276,6 @@ jobs:
 
       - run: pnpm run test:memory
         working-directory: packages/client
-        env:
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-          TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
-          TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
 
       - uses: actions/github-script@v6
         if: ${{ failure() && github.event_name == 'pull_request' }}
@@ -421,21 +386,6 @@ jobs:
         node: [16]
 
     env:
-      TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-      TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-      TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-      TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
-      TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-      TEST_MONGO_URI: 'mongodb://root:prisma@localhost:27018/tests?authSource=admin'
-      TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
-      TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
-      TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
-      TEST_FUNCTIONAL_POSTGRES_URI: 'postgres://prisma:prisma@localhost:5432/PRISMA_DB_NAME'
-      TEST_FUNCTIONAL_MYSQL_URI: 'mysql://root:root@localhost:3306/PRISMA_DB_NAME'
-      TEST_FUNCTIONAL_VITESS_8_URI: 'mysql://root:root@localhost:33807/PRISMA_DB_NAME'
-      TEST_FUNCTIONAL_MSSQL_URI: 'sqlserver://localhost:1433;database=PRISMA_DB_NAME;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-      TEST_FUNCTIONAL_MONGO_URI: 'mongodb://root:prisma@localhost:27018/PRISMA_DB_NAME?authSource=admin'
-      TEST_FUNCTIONAL_COCKROACH_URI: 'postgresql://prisma@localhost:26257/PRISMA_DB_NAME'
       NODE_OPTIONS: '--max-old-space-size=8096'
       JEST_JUNIT_SUITE_NAME: 'client/functional'
       JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
@@ -593,14 +543,6 @@ jobs:
 
       - run: pnpm run test
         working-directory: packages/integration-tests
-        env:
-          TEST_POSTGRES_BASE_URI: postgres://prisma:prisma@localhost:5432
-          TEST_MYSQL_BASE_URI: mysql://root:root@localhost:3306
-          TEST_MARIADB_BASE_URI: mysql://root:root@localhost:4306
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-          TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
-          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
 
       - uses: codecov/codecov-action@v3
         with:
@@ -656,11 +598,6 @@ jobs:
 
       - run: pnpm run test
         working-directory: packages/internals
-        env:
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-          TEST_MARIADB_URI: mysql://root:root@localhost:4306/tests
-          TEST_MSSQL_JDBC_URI: sqlserver://localhost:1433;database=master;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;
 
       - uses: codecov/codecov-action@v3
         with:
@@ -716,21 +653,6 @@ jobs:
 
       - run: pnpm run test
         working-directory: packages/migrate
-        env:
-          TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-          TEST_POSTGRES_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate
-          TEST_POSTGRES_SHADOWDB_URI_MIGRATE: postgres://prisma:prisma@localhost:5432/tests-migrate-shadowdb
-          TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-          TEST_MYSQL_URI_MIGRATE: mysql://root:root@localhost:3306/tests-migrate
-          TEST_MYSQL_SHADOWDB_URI_MIGRATE: mysql://root:root@localhost:3306/tests-migrate-shadowdb
-          TEST_MSSQL_URI: mssql://SA:Pr1sm4_Pr1sm4@localhost:1433/master
-          TEST_MSSQL_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-          TEST_MSSQL_SHADOWDB_JDBC_URI_MIGRATE: 'sqlserver://localhost:1433;database=tests-migrate-shadowdb;user=SA;password=Pr1sm4_Pr1sm4;trustServerCertificate=true;'
-          TEST_MONGO_URI_MIGRATE: 'mongodb://root:prisma@localhost:27017/tests-migrate?authSource=admin'
-          TEST_COCKROACH_URI: 'postgresql://prisma@localhost:26257/tests'
-          TEST_COCKROACH_URI_MIGRATE: 'postgresql://prisma@localhost:26257/tests-migrate'
-          TEST_COCKROACH_SHADOWDB_URI_MIGRATE: 'postgres://prisma:prisma@localhost:26257/tests-migrate-shadowdb'
-          TEST_MONGO_URI_MIGRATE_EXISTING_DB: 'mongodb://root:prisma@localhost:27017/tests-migrate-existing-db?authSource=admin'
 
       - uses: codecov/codecov-action@v3
         with:
@@ -754,10 +676,6 @@ jobs:
         os: [ubuntu-latest]
         node: [16, 18, 20]
 
-    env:
-      TEST_POSTGRES_URI: postgres://prisma:prisma@localhost:5432/tests
-      TEST_MYSQL_URI: mysql://root:root@localhost:3306/tests
-
     steps:
       - uses: actions/checkout@v3
 
@@ -920,7 +838,6 @@ jobs:
           echo ""TEST_SKIP_MONGODB=true"" >> $GITHUB_ENV
           echo ""TEST_SKIP_COCKROACHDB=true"" >> $GITHUB_ENV
           echo ""TEST_SKIP_VITESS=true"" >> $GITHUB_ENV
-          echo ""TEST_MONGO_URI_MIGRATE=mongodb://localhost:27017/tests-migrate"" >> $GITHUB_ENV
           echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
@@ -994,7 +911,6 @@ jobs:
           echo ""TEST_SKIP_MSSQL=true"" >> $GITHUB_ENV
           echo ""TEST_SKIP_MONGODB=true"" >> $GITHUB_ENV
           echo ""TEST_SKIP_COCKROACHDB=true"" >> $GITHUB_ENV
-          echo ""TEST_MONGO_URI_MIGRATE=mongodb://localhost:27017/tests-migrate"" >> $GITHUB_ENV
           echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
",True,False,False,False,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,a8aef22506987e7ddedf0f861d5f6bbc8f7c1fac,0a3fc61242586cb3e5951c8d2f61eebbad7bbab8,2023-09-04 10:08:11-10:00,ci: add bundle size workflow (#20952),4,5.3.0,bundle-size.yml,ADD,28,0,,20952,millsp,User,MEMBER,millsp,User,2023-09-04T19:03:31Z,2023-09-04T20:08:12Z,closed,,,,"Track file size variations on PRs. 

⚠️ The failure is normal, as it tries to checkout main to compare the sizes, but `size-limit` is not installed in the monorepo yet, so we need to merge it first.",../Mining/generated/scripts/prisma/current_code/bundle-size.yml,../Mining/generated/scripts/prisma/files_src_before/a8aef22_bundle-size.yml,../Mining/generated/scripts/prisma/files_src_after/a8aef22_bundle-size.yml,None,None,None,"@@ -0,0 +1,28 @@
+name: Bundle size
+
+on:
+  pull_request:
+
+concurrency:
+  group: ${{ github.workflow }}-${{ github.ref }}
+  cancel-in-progress: true
+
+jobs:
+  size:
+    runs-on: ubuntu-latest
+
+    steps:
+      - uses: actions/checkout@v3
+
+      - name: Install & build
+        uses: ./.github/actions/setup
+        with:
+          node-version: 18
+          pnpm-version: 8
+          skip-tsc: true
+          skip-build: true
+
+      - uses: andresz1/size-limit-action@v1
+        with:
+          github_token: ${{ secrets.GITHUB_TOKEN }}
+          skip_step: install
",False,False,False,False,False,False,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c5221597b17ec6adfbd61ae0b167c6eca16cfe18,56eb1946401266bd45935cd946523a3accb3ff73,2023-09-05 09:27:37+02:00,"chore(deps): update actions/checkout action to v4 (#20956)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",9,,benchmark.yml,MODIFY,1,1,,20956,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-09-05T00:33:14Z,2023-09-05T07:27:38Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/checkout](https://togithub.com/actions/checkout) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>actions/checkout (actions/checkout)</summary>

### [`v4`](https://togithub.com/actions/checkout/blob/HEAD/CHANGELOG.md#v400)

[Compare Source](https://togithub.com/actions/checkout/compare/v3...v4)

-   [Support fetching without the --progress option](https://togithub.com/actions/checkout/pull/1067)
-   [Update to node20](https://togithub.com/actions/checkout/pull/1436)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi43OS4xIiwidXBkYXRlZEluVmVyIjoiMzYuNzkuMSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/c522159_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/c522159_benchmark.yml,None,None,None,"@@ -49,7 +49,7 @@ jobs:
     # This avoids notifications to be sent to `alert-comment-cc-users`, see below
     if: github.repository == 'prisma/prisma'
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Install & build
         uses: ./.github/actions/setup
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c5221597b17ec6adfbd61ae0b167c6eca16cfe18,56eb1946401266bd45935cd946523a3accb3ff73,2023-09-05 09:27:37+02:00,"chore(deps): update actions/checkout action to v4 (#20956)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",9,,bundle-size.yml,MODIFY,1,1,,20956,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-09-05T00:33:14Z,2023-09-05T07:27:38Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/checkout](https://togithub.com/actions/checkout) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>actions/checkout (actions/checkout)</summary>

### [`v4`](https://togithub.com/actions/checkout/blob/HEAD/CHANGELOG.md#v400)

[Compare Source](https://togithub.com/actions/checkout/compare/v3...v4)

-   [Support fetching without the --progress option](https://togithub.com/actions/checkout/pull/1067)
-   [Update to node20](https://togithub.com/actions/checkout/pull/1436)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi43OS4xIiwidXBkYXRlZEluVmVyIjoiMzYuNzkuMSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/bundle-size.yml,../Mining/generated/scripts/prisma/files_src_before/c522159_bundle-size.yml,../Mining/generated/scripts/prisma/files_src_after/c522159_bundle-size.yml,None,None,None,"@@ -12,7 +12,7 @@ jobs:
     runs-on: ubuntu-latest
 
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Install & build
         uses: ./.github/actions/setup
",False,False,False,False,False,False,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c5221597b17ec6adfbd61ae0b167c6eca16cfe18,56eb1946401266bd45935cd946523a3accb3ff73,2023-09-05 09:27:37+02:00,"chore(deps): update actions/checkout action to v4 (#20956)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",9,,codeql-analysis.yml,MODIFY,1,1,,20956,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-09-05T00:33:14Z,2023-09-05T07:27:38Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/checkout](https://togithub.com/actions/checkout) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>actions/checkout (actions/checkout)</summary>

### [`v4`](https://togithub.com/actions/checkout/blob/HEAD/CHANGELOG.md#v400)

[Compare Source](https://togithub.com/actions/checkout/compare/v3...v4)

-   [Support fetching without the --progress option](https://togithub.com/actions/checkout/pull/1067)
-   [Update to node20](https://togithub.com/actions/checkout/pull/1436)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi43OS4xIiwidXBkYXRlZEluVmVyIjoiMzYuNzkuMSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/codeql-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/c522159_codeql-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/c522159_codeql-analysis.yml,None,None,None,"@@ -31,7 +31,7 @@ jobs:
 
     steps:
       - name: Checkout repository
-        uses: actions/checkout@v3
+        uses: actions/checkout@v4
 
       # Initializes the CodeQL tools for scanning.
       - name: Initialize CodeQL
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c5221597b17ec6adfbd61ae0b167c6eca16cfe18,56eb1946401266bd45935cd946523a3accb3ff73,2023-09-05 09:27:37+02:00,"chore(deps): update actions/checkout action to v4 (#20956)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",9,,release-ci.yml,MODIFY,1,1,,20956,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-09-05T00:33:14Z,2023-09-05T07:27:38Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/checkout](https://togithub.com/actions/checkout) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>actions/checkout (actions/checkout)</summary>

### [`v4`](https://togithub.com/actions/checkout/blob/HEAD/CHANGELOG.md#v400)

[Compare Source](https://togithub.com/actions/checkout/compare/v3...v4)

-   [Support fetching without the --progress option](https://togithub.com/actions/checkout/pull/1067)
-   [Update to node20](https://togithub.com/actions/checkout/pull/1436)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi43OS4xIiwidXBkYXRlZEluVmVyIjoiMzYuNzkuMSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/release-ci.yml,../Mining/generated/scripts/prisma/files_src_before/c522159_release-ci.yml,../Mining/generated/scripts/prisma/files_src_after/c522159_release-ci.yml,None,None,None,"@@ -46,7 +46,7 @@ jobs:
         run: |
           echo $THE_INPUT
 
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Install & build
         uses: ./.github/actions/setup
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c5221597b17ec6adfbd61ae0b167c6eca16cfe18,56eb1946401266bd45935cd946523a3accb3ff73,2023-09-05 09:27:37+02:00,"chore(deps): update actions/checkout action to v4 (#20956)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",9,,release-latest.yml,MODIFY,1,1,,20956,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-09-05T00:33:14Z,2023-09-05T07:27:38Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/checkout](https://togithub.com/actions/checkout) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>actions/checkout (actions/checkout)</summary>

### [`v4`](https://togithub.com/actions/checkout/blob/HEAD/CHANGELOG.md#v400)

[Compare Source](https://togithub.com/actions/checkout/compare/v3...v4)

-   [Support fetching without the --progress option](https://togithub.com/actions/checkout/pull/1067)
-   [Update to node20](https://togithub.com/actions/checkout/pull/1436)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi43OS4xIiwidXBkYXRlZEluVmVyIjoiMzYuNzkuMSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/release-latest.yml,../Mining/generated/scripts/prisma/files_src_before/c522159_release-latest.yml,../Mining/generated/scripts/prisma/files_src_after/c522159_release-latest.yml,None,None,None,"@@ -43,7 +43,7 @@ jobs:
         run: |
           echo $THE_INPUT
 
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - uses: ./.github/actions/setup
         with:
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c5221597b17ec6adfbd61ae0b167c6eca16cfe18,56eb1946401266bd45935cd946523a3accb3ff73,2023-09-05 09:27:37+02:00,"chore(deps): update actions/checkout action to v4 (#20956)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",9,,test-template.yml,MODIFY,15,15,,20956,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-09-05T00:33:14Z,2023-09-05T07:27:38Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/checkout](https://togithub.com/actions/checkout) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>actions/checkout (actions/checkout)</summary>

### [`v4`](https://togithub.com/actions/checkout/blob/HEAD/CHANGELOG.md#v400)

[Compare Source](https://togithub.com/actions/checkout/compare/v3...v4)

-   [Support fetching without the --progress option](https://togithub.com/actions/checkout/pull/1067)
-   [Update to node20](https://togithub.com/actions/checkout/pull/1436)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi43OS4xIiwidXBkYXRlZEluVmVyIjoiMzYuNzkuMSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/c522159_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/c522159_test-template.yml,None,None,None,"@@ -68,7 +68,7 @@ jobs:
     runs-on: ubuntu-latest
 
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -110,7 +110,7 @@ jobs:
       JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Login to Docker Hub
         uses: docker/login-action@v2
@@ -184,7 +184,7 @@ jobs:
         node: [16, 18, 20]
 
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Login to Docker Hub
         uses: docker/login-action@v2
@@ -253,7 +253,7 @@ jobs:
         queryEngine: ['library'] # TODO: binary engine is leaking at the moment
         node: [16, 18, 20]
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Login to Docker Hub
         uses: docker/login-action@v2
@@ -351,7 +351,7 @@ jobs:
         node: [16]
 
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       # Not currently needed, but we might need it in the future
       - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
@@ -391,7 +391,7 @@ jobs:
       JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Set RELATION_MODE custom test env var
         run: |
@@ -453,7 +453,7 @@ jobs:
         node: [16]
 
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -485,7 +485,7 @@ jobs:
         node: [16]
 
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -512,7 +512,7 @@ jobs:
         node: [16]
 
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Login to Docker Hub
         uses: docker/login-action@v2
@@ -567,7 +567,7 @@ jobs:
         node: [16, 18, 20]
 
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Login to Docker Hub
         uses: docker/login-action@v2
@@ -622,7 +622,7 @@ jobs:
         node: [16, 18, 20]
 
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Login to Docker Hub
         uses: docker/login-action@v2
@@ -677,7 +677,7 @@ jobs:
         node: [16, 18, 20]
 
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Login to Docker Hub
         uses: docker/login-action@v2
@@ -731,7 +731,7 @@ jobs:
         node: [16, 18, 20]
 
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -829,7 +829,7 @@ jobs:
         contains(inputs.jobsToRun, '-client-')
       }}
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Prerequisites
         shell: bash
@@ -903,7 +903,7 @@ jobs:
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
 
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - name: Prerequisites
         shell: bash
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c5221597b17ec6adfbd61ae0b167c6eca16cfe18,56eb1946401266bd45935cd946523a3accb3ff73,2023-09-05 09:27:37+02:00,"chore(deps): update actions/checkout action to v4 (#20956)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",9,,test.yml,MODIFY,1,1,,20956,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-09-05T00:33:14Z,2023-09-05T07:27:38Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/checkout](https://togithub.com/actions/checkout) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>actions/checkout (actions/checkout)</summary>

### [`v4`](https://togithub.com/actions/checkout/blob/HEAD/CHANGELOG.md#v400)

[Compare Source](https://togithub.com/actions/checkout/compare/v3...v4)

-   [Support fetching without the --progress option](https://togithub.com/actions/checkout/pull/1067)
-   [Update to node20](https://togithub.com/actions/checkout/pull/1436)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi43OS4xIiwidXBkYXRlZEluVmVyIjoiMzYuNzkuMSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/c522159_test.yml,../Mining/generated/scripts/prisma/files_src_after/c522159_test.yml,None,None,None,"@@ -43,7 +43,7 @@ jobs:
       jobs: ${{ steps.detect.outputs.jobs }}
       queryEngine: ${{ steps.enginesOutput.outputs.queryEngine }}
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - id: files
         uses: Ana06/get-changed-files@v2.2.0 # it's a fork of jitterbit/get-changed-files@v1 which works better with pull requests
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c5221597b17ec6adfbd61ae0b167c6eca16cfe18,56eb1946401266bd45935cd946523a3accb3ff73,2023-09-05 09:27:37+02:00,"chore(deps): update actions/checkout action to v4 (#20956)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",9,,update-engines-version.yml,MODIFY,1,1,,20956,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-09-05T00:33:14Z,2023-09-05T07:27:38Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/checkout](https://togithub.com/actions/checkout) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>actions/checkout (actions/checkout)</summary>

### [`v4`](https://togithub.com/actions/checkout/blob/HEAD/CHANGELOG.md#v400)

[Compare Source](https://togithub.com/actions/checkout/compare/v3...v4)

-   [Support fetching without the --progress option](https://togithub.com/actions/checkout/pull/1067)
-   [Update to node20](https://togithub.com/actions/checkout/pull/1436)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi43OS4xIiwidXBkYXRlZEluVmVyIjoiMzYuNzkuMSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/c522159_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/c522159_update-engines-version.yml,None,None,None,"@@ -27,7 +27,7 @@ jobs:
         run: |
           echo $THE_INPUT
 
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - uses: pnpm/action-setup@v2.4.0
         with:
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c5221597b17ec6adfbd61ae0b167c6eca16cfe18,56eb1946401266bd45935cd946523a3accb3ff73,2023-09-05 09:27:37+02:00,"chore(deps): update actions/checkout action to v4 (#20956)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",9,,update-studio-version.yml,MODIFY,1,1,,20956,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-09-05T00:33:14Z,2023-09-05T07:27:38Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/checkout](https://togithub.com/actions/checkout) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>actions/checkout (actions/checkout)</summary>

### [`v4`](https://togithub.com/actions/checkout/blob/HEAD/CHANGELOG.md#v400)

[Compare Source](https://togithub.com/actions/checkout/compare/v3...v4)

-   [Support fetching without the --progress option](https://togithub.com/actions/checkout/pull/1067)
-   [Update to node20](https://togithub.com/actions/checkout/pull/1436)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi43OS4xIiwidXBkYXRlZEluVmVyIjoiMzYuNzkuMSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/c522159_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/c522159_update-studio-version.yml,None,None,None,"@@ -13,7 +13,7 @@ jobs:
     name: 'Check and update Studio to ${{ github.event.inputs.version }}'
     runs-on: ubuntu-latest
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
 
       - uses: pnpm/action-setup@v2.4.0
         with:
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,fa608fbf5cc4c2921ed03b9ba22a9176f9c55694,a7d24b9cbd0a89a4af3dd090583d6fdbc046ba6a,2023-09-13 12:39:38+02:00,"chore(deps): update docker/login-action action to v3 (#21065)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",1,,test-template.yml,MODIFY,7,7,,21065,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-09-13T00:44:41Z,2023-09-13T10:39:39Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [docker/login-action](https://togithub.com/docker/login-action) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>docker/login-action (docker/login-action)</summary>

### [`v3`](https://togithub.com/docker/login-action/compare/v2...v3)

[Compare Source](https://togithub.com/docker/login-action/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNi44My4wIiwidXBkYXRlZEluVmVyIjoiMzYuODMuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/fa608fb_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/fa608fb_test-template.yml,None,None,None,"@@ -113,7 +113,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Login to Docker Hub
-        uses: docker/login-action@v2
+        uses: docker/login-action@v3
         env:
           DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
           DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
@@ -187,7 +187,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Login to Docker Hub
-        uses: docker/login-action@v2
+        uses: docker/login-action@v3
         env:
           DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
           DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
@@ -256,7 +256,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Login to Docker Hub
-        uses: docker/login-action@v2
+        uses: docker/login-action@v3
         env:
           DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
           DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
@@ -515,7 +515,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Login to Docker Hub
-        uses: docker/login-action@v2
+        uses: docker/login-action@v3
         env:
           DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
           DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
@@ -570,7 +570,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Login to Docker Hub
-        uses: docker/login-action@v2
+        uses: docker/login-action@v3
         env:
           DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
           DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
@@ -625,7 +625,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Login to Docker Hub
-        uses: docker/login-action@v2
+        uses: docker/login-action@v3
         env:
           DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
           DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
@@ -680,7 +680,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Login to Docker Hub
-        uses: docker/login-action@v2
+        uses: docker/login-action@v3
         env:
           DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
           DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
",True,False,False,False,False,True,False
prisma,Alexander Polanco,User,alxpolanc@gmail.com,GitHub,User,noreply@github.com,53b31118faf7c0c9f13d884bf6721703a36ca132,ee3b7ca77c09bcad47390a6b1d8416d14fa24c16,2023-09-14 13:42:41+02:00,ci(gh actions release workflow): Modified the description of skipEcosystemTestsChecks for wording simplicity (#21077),1,5.4.0,release-latest.yml,MODIFY,1,1,,21077,apolanc,User,MEMBER,apolanc,User,2023-09-14T09:04:04Z,2023-09-14T11:42:42Z,closed,,apolanc,User,"While performing the release yesterday, we figured that the wording of one of the workflows step was a bit ""complex"". 

This is a small PR to simplify that. ",../Mining/generated/scripts/prisma/current_code/release-latest.yml,../Mining/generated/scripts/prisma/files_src_before/53b3111_release-latest.yml,../Mining/generated/scripts/prisma/files_src_after/53b3111_release-latest.yml,None,None,None,"@@ -9,7 +9,7 @@ on:
         type: string
         required: true
       skipEcosystemTestsChecks:
-        description: 'Check to skip ecosystem tests checks'
+        description: 'Skip ecosystem tests checks'
         type: boolean
       skipPackages:
         description: 'Skip publishing some packages? (e.g. `@prisma/debug,@prisma/internals`)'
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,7b84826cd59148f9b942fb10d1d16bd932f47a9a,cde69a86ede204a1c3e64e575d6a18c3f0991b54,2023-09-15 10:25:07+02:00,ci: run test workflow for patch branches too (#21092),2,5.4.0,benchmark.yml,MODIFY,1,0,,21092,Jolg42,User,MEMBER,Jolg42,User,2023-09-15T08:23:41Z,2023-09-15T08:25:08Z,closed,,,,Spotted this while going through our patch release process.,../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/7b84826_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/7b84826_benchmark.yml,None,None,None,"@@ -3,6 +3,7 @@ on:
   push:
     branches:
       - main
+      - '*.*.x'
     paths-ignore:
       # Any update here needs to be done for
       # - `pull_request` see below
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,7b84826cd59148f9b942fb10d1d16bd932f47a9a,cde69a86ede204a1c3e64e575d6a18c3f0991b54,2023-09-15 10:25:07+02:00,ci: run test workflow for patch branches too (#21092),2,5.4.0,test.yml,MODIFY,1,0,,21092,Jolg42,User,MEMBER,Jolg42,User,2023-09-15T08:23:41Z,2023-09-15T08:25:08Z,closed,,,,Spotted this while going through our patch release process.,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/7b84826_test.yml,../Mining/generated/scripts/prisma/files_src_after/7b84826_test.yml,None,None,None,"@@ -4,6 +4,7 @@ on:
   push:
     branches:
       - main
+      - '*.*.x'
     paths-ignore:
       # Any update here needs to be done for
       # - `pull_request` see below
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,27857bc3bf6b19ef532e7f65f559a10a165594c7,16e6dfa7520cb0f3f5257af8f9f22d98377f02bd,2023-09-26 20:28:11-10:00,"test(client): driver adapters (#21168)

Co-authored-by: Alberto Schiabel <jkomyno@users.noreply.github.com>
Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>
Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>
Co-authored-by: Pierre-Antoine Mills <pierreantoine.urvoy@gmail.com>
Co-authored-by: Alexey Orlenko <alex@aqrln.net>",81,5.4.0,test-template.yml,MODIFY,65,0,,21168,millsp,User,MEMBER,millsp,User,2023-09-20T21:46:49Z,2023-09-27T06:28:11Z,closed,topic: driverAdapters,"Jolg42, millsp","User, User",needs https://github.com/prisma/prisma/pull/21200,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/27857bc_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/27857bc_test-template.yml,0.055865921787709494,0.6368715083798883,0.9888268156424581,"@@ -238,6 +238,71 @@ jobs:
           key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
+  #
+  # CLIENT (functional tests with driver adapters)
+  #
+  client-driveradapters:
+    timeout-minutes: ${{ inputs.jobTimeout }}
+    runs-on: ubuntu-latest
+
+    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
+
+    strategy:
+      fail-fast: false
+      matrix:
+        flavor: ['js_pg', 'js_neon', 'js_libsql']
+        shard: ['1/6', '2/6', '3/6', '4/6', '5/6', '6/6']
+        node: [20] #[16, 18, 20]
+
+    steps:
+      - uses: actions/checkout@v4
+
+      - name: Login to Docker Hub
+        uses: docker/login-action@v3
+        env:
+          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
+          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
+        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
+        with:
+          username: ${{ secrets.DOCKERHUB_USERNAME }}
+          password: ${{ secrets.DOCKERHUB_TOKEN }}
+
+      - run: docker compose -f docker/docker-compose.yml up --detach postgres neon_wsproxy
+
+      - name: Install & build
+        uses: ./.github/actions/setup
+        with:
+          node-version: ${{ matrix.node }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
+          skip-tsc: false
+
+      - run: pnpm run test:functional --flavor ${{ matrix.flavor }} --shard ${{ matrix.shard }} --runInBand
+        working-directory: packages/client
+        env:
+          PRISMA_DISABLE_QUAINT_EXECUTORS: true, # ensures quaint runs no queries
+          NODE_NO_WARNINGS: 1 # hides undici websocket warnings
+          NODE_OPTIONS: '--max-old-space-size=8096'
+          JEST_JUNIT_SUITE_NAME: 'client/functional'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/client/src/__tests__/coverage/clover.xml
+          flags: client,${{ matrix.os }},driveradapters
+          name: client-${{ matrix.os }}-driveradapters
+
+      - name: Upload test results to BuildPulse for flaky test detection
+        # Only run this step for branches where we have access to secrets.
+        # Run this step even when the tests fail. Skip if the workflow is cancelled.
+        if: env.HAS_BUILDPULSE_SECRETS == 'true' && !cancelled() && inputs.reason == 'buildpulse'
+        uses: buildpulse/buildpulse-action@v0.11.0
+        with:
+          account: 17219288
+          repository: 192925833
+          path: packages/*/junit*.xml
+          key: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID }}
+          secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
+
   #
   # CLIENT (memory tests)
   #
",True,False,False,False,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,5734a41acc57e90d452f72f3cc7baa339ccc2825,fa8c41344d8a2d60a55d53be0890d27602838b75,2023-09-29 10:35:58+02:00,"ci: retry docker startup failures (#21272)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",1,5.4.0,test-template.yml,MODIFY,70,10,,21272,millsp,User,MEMBER,Jolg42,User,2023-09-28T20:11:08Z,2023-09-29T08:35:58Z,closed,,,,"This PR aims to improve docker download failures by retrying up to 3 times. I've been seeing these errors for a while, let's suppress the noise a bit.",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/5734a41_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/5734a41_test-template.yml,None,None,None,"@@ -131,7 +131,13 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - run: docker compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb vitess-8
+      - name: Start Docker Compose Services
+        uses: nick-fields/retry@v2
+        with:
+          timeout_minutes: 10
+          max_attempts: 5
+          retry_wait_seconds: 120
+          command: docker compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb vitess-8
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -196,7 +202,13 @@ jobs:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
 
-      - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
+      - name: Start Docker Compose Services
+        uses: nick-fields/retry@v2
+        with:
+          timeout_minutes: 10
+          max_attempts: 5
+          retry_wait_seconds: 120
+          command: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -267,7 +279,13 @@ jobs:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
 
-      - run: docker compose -f docker/docker-compose.yml up --detach postgres neon_wsproxy
+      - name: Start Docker Compose Services
+        uses: nick-fields/retry@v2
+        with:
+          timeout_minutes: 10
+          max_attempts: 5
+          retry_wait_seconds: 120
+          command: docker compose -f docker/docker-compose.yml up --detach postgres neon_wsproxy
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -330,7 +348,13 @@ jobs:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
 
-      - run: docker compose -f docker/docker-compose.yml up --detach postgres # mysql mysql_isolated mssql mongo cockroachdb
+      - name: Start Docker Compose Services
+        uses: nick-fields/retry@v2
+        with:
+          timeout_minutes: 10
+          max_attempts: 5
+          retry_wait_seconds: 120
+          command: docker compose -f docker/docker-compose.yml up --detach postgres # mysql mysql_isolated mssql mongo cockroachdb
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -419,7 +443,13 @@ jobs:
       - uses: actions/checkout@v4
 
       # Not currently needed, but we might need it in the future
-      - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
+      - name: Start Docker Compose Services
+        uses: nick-fields/retry@v2
+        with:
+          timeout_minutes: 10
+          max_attempts: 5
+          retry_wait_seconds: 120
+          command: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -463,7 +493,13 @@ jobs:
           echo ""RELATION_MODE=${{ matrix.relationMode }}""
           if [ ! -z ""${{ matrix.relationMode }}"" ]; then echo ""RELATION_MODE=${{ matrix.relationMode }}"" >> $GITHUB_ENV; fi
 
-      - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
+      - name: Start Docker Compose Services
+        uses: nick-fields/retry@v2
+        with:
+          timeout_minutes: 10
+          max_attempts: 5
+          retry_wait_seconds: 120
+          command: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -597,7 +633,13 @@ jobs:
         run: |
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
 
-      - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mariadb mssql
+      - name: Start Docker Compose Services
+        uses: nick-fields/retry@v2
+        with:
+          timeout_minutes: 10
+          max_attempts: 5
+          retry_wait_seconds: 120
+          command: docker compose -f docker/docker-compose.yml up --detach postgres mysql mariadb mssql
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -644,7 +686,13 @@ jobs:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
 
-      - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql
+      - name: Start Docker Compose Services
+        uses: nick-fields/retry@v2
+        with:
+          timeout_minutes: 10
+          max_attempts: 5
+          retry_wait_seconds: 120
+          command: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql
 
       - name: Set CLI Engine Type
         run: |
@@ -699,7 +747,13 @@ jobs:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
 
-      - run: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongodb_migrate mongodb_migrate_seed cockroachdb
+      - name: Start Docker Compose Services
+        uses: nick-fields/retry@v2
+        with:
+          timeout_minutes: 10
+          max_attempts: 5
+          retry_wait_seconds: 120
+          command: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongodb_migrate mongodb_migrate_seed cockroachdb
 
       - name: Set CLI Engine Type
         run: |
@@ -754,7 +808,13 @@ jobs:
           username: ${{ secrets.DOCKERHUB_USERNAME }}
           password: ${{ secrets.DOCKERHUB_TOKEN }}
 
-      - run: docker compose -f docker/docker-compose.yml up --detach postgres
+      - name: Start Docker Compose Services
+        uses: nick-fields/retry@v2
+        with:
+          timeout_minutes: 10
+          max_attempts: 5
+          retry_wait_seconds: 120
+          command: docker compose -f docker/docker-compose.yml up --detach postgres
 
       - name: Set CLI Engine Type
         run: |
",True,False,False,False,False,True,False
prisma,Serhii Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,50310c8abe19fadd5687b0961f5d9df4c1718768,468c5bb1988c607b4cd78af0af1cddb8a5f1c01c,2023-09-29 15:12:02+02:00,"ci: Check for prettier formatting on GH Actions (#21188)

Co-authored-by: Alexey Orlenko <alex@aqrln.net>
Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",24,5.4.0,test-template.yml,MODIFY,10,1,,21188,SevInf,User,CONTRIBUTOR,Jolg42,User,2023-09-22T09:55:20Z,2023-09-29T13:12:03Z,closed,,,,"Fix prisma/team-orm#370
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/50310c8_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/50310c8_test-template.yml,0.0,0.0,0.0,"@@ -85,7 +85,16 @@ jobs:
           echo ""::remove-matcher owner=eslint-compact::""
           echo ""::remove-matcher owner=eslint-stylish::""
 
-      - run: pnpm run lint && pnpm run check-engines-override
+      - name: Run eslint
+        run: pnpm run lint
+        working-directory: ./
+
+      - name: Run prettier-check
+        run: pnpm run prettier-check
+        working-directory: ./
+
+      - name: Run check-engines-override
+        run: pnpm run check-engines-override
         working-directory: ./
 
   #
",True,False,False,False,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,556262f7e4267ce2ce7bc5962ec61c1701559e8b,18ec6d9b23379689b332e455136b508f9a0f9293,2023-10-02 11:45:38-10:00,"test(client): planetscale driver adapter (#21294)

Co-authored-by: Alexey Orlenko <alex@aqrln.net>",36,5.4.0,test-template.yml,MODIFY,11,11,,21294,millsp,User,MEMBER,millsp,User,2023-09-29T17:47:30Z,2023-10-02T21:45:39Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/556262f_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/556262f_test-template.yml,1.0,0.0,0.0,"@@ -146,7 +146,7 @@ jobs:
           timeout_minutes: 10
           max_attempts: 5
           retry_wait_seconds: 120
-          command: docker compose -f docker/docker-compose.yml up --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb vitess-8
+          command: docker compose -f docker/docker-compose.yml up --wait --detach postgres postgres_isolated mysql mysql_isolated mssql mongo cockroachdb vitess-8
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -217,7 +217,7 @@ jobs:
           timeout_minutes: 10
           max_attempts: 5
           retry_wait_seconds: 120
-          command: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
+          command: docker compose -f docker/docker-compose.yml up --wait --detach postgres mysql mssql mongo cockroachdb vitess-8
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -271,7 +271,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        flavor: ['js_pg', 'js_neon', 'js_libsql']
+        flavor: ['js_pg', 'js_neon', 'js_libsql', 'js_planetscale']
         shard: ['1/6', '2/6', '3/6', '4/6', '5/6', '6/6']
         node: [20] #[16, 18, 20]
 
@@ -294,7 +294,7 @@ jobs:
           timeout_minutes: 10
           max_attempts: 5
           retry_wait_seconds: 120
-          command: docker compose -f docker/docker-compose.yml up --detach postgres neon_wsproxy
+          command: docker compose -f docker/docker-compose.yml up --wait --detach postgres neon_wsproxy planetscale_proxy
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -363,7 +363,7 @@ jobs:
           timeout_minutes: 10
           max_attempts: 5
           retry_wait_seconds: 120
-          command: docker compose -f docker/docker-compose.yml up --detach postgres # mysql mysql_isolated mssql mongo cockroachdb
+          command: docker compose -f docker/docker-compose.yml up --wait --detach postgres # mysql mysql_isolated mssql mongo cockroachdb
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -458,7 +458,7 @@ jobs:
           timeout_minutes: 10
           max_attempts: 5
           retry_wait_seconds: 120
-          command: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
+          command: docker compose -f docker/docker-compose.yml up --wait --detach postgres mysql mssql mongo cockroachdb vitess-8
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -508,7 +508,7 @@ jobs:
           timeout_minutes: 10
           max_attempts: 5
           retry_wait_seconds: 120
-          command: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongo cockroachdb vitess-8
+          command: docker compose -f docker/docker-compose.yml up --wait --detach postgres mysql mssql mongo cockroachdb vitess-8
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -648,7 +648,7 @@ jobs:
           timeout_minutes: 10
           max_attempts: 5
           retry_wait_seconds: 120
-          command: docker compose -f docker/docker-compose.yml up --detach postgres mysql mariadb mssql
+          command: docker compose -f docker/docker-compose.yml up --wait --detach postgres mysql mariadb mssql
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -701,7 +701,7 @@ jobs:
           timeout_minutes: 10
           max_attempts: 5
           retry_wait_seconds: 120
-          command: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql
+          command: docker compose -f docker/docker-compose.yml up --wait --detach postgres mysql mssql
 
       - name: Set CLI Engine Type
         run: |
@@ -762,7 +762,7 @@ jobs:
           timeout_minutes: 10
           max_attempts: 5
           retry_wait_seconds: 120
-          command: docker compose -f docker/docker-compose.yml up --detach postgres mysql mssql mongodb_migrate mongodb_migrate_seed cockroachdb
+          command: docker compose -f docker/docker-compose.yml up --wait --detach postgres mysql mssql mongodb_migrate mongodb_migrate_seed cockroachdb
 
       - name: Set CLI Engine Type
         run: |
@@ -823,7 +823,7 @@ jobs:
           timeout_minutes: 10
           max_attempts: 5
           retry_wait_seconds: 120
-          command: docker compose -f docker/docker-compose.yml up --detach postgres
+          command: docker compose -f docker/docker-compose.yml up --wait --detach postgres
 
       - name: Set CLI Engine Type
         run: |
",True,False,False,False,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,1b2e4a61df79491e4c8916c8dc90bd502d9ff1a6,e0f2e5f49b72dd6c8333839915a6f3f394651be1,2023-10-03 06:41:39-10:00,"ci: names for jobs (#21289)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>
Co-authored-by: pierre <pierreantoine.urvoy@gmail.com>",2,5.4.0,test-template.yml,MODIFY,17,1,,21289,janpio,User,MEMBER,millsp,User,2023-09-29T14:46:14Z,2023-10-03T16:41:39Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/1b2e4a6_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/1b2e4a6_test-template.yml,None,None,None,"@@ -64,6 +64,7 @@ jobs:
   # Linting
   #
   lint:
+    name: Lint
     timeout-minutes: 7
     runs-on: ubuntu-latest
 
@@ -101,6 +102,7 @@ jobs:
   # CLIENT (without types test)
   #
   client:
+    name: Client (without types test)
     timeout-minutes: ${{ inputs.jobTimeout }}
     runs-on: ubuntu-latest
 
@@ -186,7 +188,8 @@ jobs:
   #
   # CLIENT (functional tests with mini-proxy)
   #
-  client-dataproxy:
+  client-miniproxy:
+    name: Client (functional tests with mini-proxy)
     timeout-minutes: ${{ inputs.jobTimeout }}
     runs-on: ubuntu-latest
 
@@ -263,6 +266,7 @@ jobs:
   # CLIENT (functional tests with driver adapters)
   #
   client-driveradapters:
+    name: Client (functional tests with driver adapters)
     timeout-minutes: ${{ inputs.jobTimeout }}
     runs-on: ubuntu-latest
 
@@ -334,6 +338,7 @@ jobs:
   # CLIENT (memory tests)
   #
   client-memory:
+    name: Client (memory tests)
     timeout-minutes: ${{ inputs.jobTimeout }}
     runs-on: ubuntu-latest
 
@@ -437,6 +442,7 @@ jobs:
   # CLIENT test:e2e
   #
   client-e2e:
+    name: Client (test:e2e)
     timeout-minutes: 35
     runs-on: ${{ matrix.os }}
 
@@ -477,6 +483,7 @@ jobs:
   # CLIENT test:functional:code --relation-mode-tests-only for `relationMode-in-separate-gh-action` tests
   #
   client-relationMode:
+    name: Client (test:functional:code --relation-mode-tests-only)
     timeout-minutes: 60
     runs-on: ${{ matrix.os }}
 
@@ -552,6 +559,7 @@ jobs:
   # CLIENT (types tests only)
   #
   client-types:
+    name: Client (types tests only)
     timeout-minutes: 15
     runs-on: ubuntu-latest
 
@@ -586,6 +594,7 @@ jobs:
   # WORKSPACE-TYPES
   #
   workspace-types:
+    name: Workspace types
     timeout-minutes: 15
     runs-on: ubuntu-latest
 
@@ -610,6 +619,7 @@ jobs:
   # INTEGRATION-TESTS
   #
   integration-tests:
+    name: Integration tests
     timeout-minutes: 20
     runs-on: ubuntu-latest
 
@@ -670,6 +680,7 @@ jobs:
   # `@prisma/internals`
   #
   internals:
+    name: '@prisma/internals'
     timeout-minutes: 15
     runs-on: ${{ matrix.os }}
 
@@ -731,6 +742,7 @@ jobs:
   # MIGRATE
   #
   migrate:
+    name: Migrate
     timeout-minutes: 15
     runs-on: ${{ matrix.os }}
 
@@ -792,6 +804,7 @@ jobs:
   # CLI-COMMANDS
   #
   cli-commands:
+    name: CLI commands
     timeout-minutes: 10
     runs-on: ${{ matrix.os }}
 
@@ -853,6 +866,7 @@ jobs:
   # All the other packages!
   #
   others:
+    name: Others
     timeout-minutes: 10
     runs-on: ${{ matrix.os }}
 
@@ -947,6 +961,7 @@ jobs:
   # minimize the time spent waiting for a free runner.
   #
   no-docker-client-functional:
+    name: Client (functional tests running on Windows/macOS, no-docker)
     timeout-minutes: 40
     runs-on: ${{ matrix.os }}
     strategy:
@@ -1017,6 +1032,7 @@ jobs:
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
   no-docker:
+    name: All packages (running on Windows/macOS, no-docker)
     timeout-minutes: 40
     runs-on: ${{ matrix.os }}
 
",True,False,False,False,False,True,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,1b2e4a61df79491e4c8916c8dc90bd502d9ff1a6,e0f2e5f49b72dd6c8333839915a6f3f394651be1,2023-10-03 06:41:39-10:00,"ci: names for jobs (#21289)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>
Co-authored-by: pierre <pierreantoine.urvoy@gmail.com>",2,5.4.0,test.yml,MODIFY,1,0,,21289,janpio,User,MEMBER,millsp,User,2023-09-29T14:46:14Z,2023-10-03T16:41:39Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/1b2e4a6_test.yml,../Mining/generated/scripts/prisma/files_src_after/1b2e4a6_test.yml,None,None,None,"@@ -100,6 +100,7 @@ jobs:
           ref: ${{ github.event.pull_request.head.ref }}
 
   run_tests:
+    name: Tests
     needs: detect_jobs_to_run
     uses: ./.github/workflows/test-template.yml
     with:
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,1e9ea7e2ec89c4eb92f11843ab3030a314338b1e,e0b98ba94a749fa240e955b92e467265c22ad950,2023-10-04 13:10:24-10:00,ci: rename client job (#21325),1,5.5.0,test-template.yml,MODIFY,2,2,,21325,millsp,User,MEMBER,millsp,User,2023-10-03T20:34:30Z,2023-10-04T23:10:25Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/1e9ea7e_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/1e9ea7e_test-template.yml,None,None,None,"@@ -99,10 +99,10 @@ jobs:
         working-directory: ./
 
   #
-  # CLIENT (without types test)
+  # CLIENT (functional and legacy tests without types test)
   #
   client:
-    name: Client (without types test)
+    name: Client (functional and legacy tests without types test)
     timeout-minutes: ${{ inputs.jobTimeout }}
     runs-on: ubuntu-latest
 
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,fb8002a0dcdeaf9689eefa6ba059aa8d96e7a756,f9e93b72c7318bccd6d8bb0d9aa14628cb16d696,2023-10-06 10:07:07+02:00,"ci: shorter names for GitHub Actions jobs (#21365)

Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>
Co-authored-by: pierre <pierreantoine.urvoy@gmail.com>",1,5.5.0,test-template.yml,MODIFY,11,11,,21365,Jolg42,User,MEMBER,Jolg42,User,2023-10-05T08:27:14Z,2023-10-06T08:07:07Z,closed,,,,"Before names were unusable from the UI, see screenshots
<img width=""238"" alt=""Screenshot 2023-10-05 at 10 49 16"" src=""https://github.com/prisma/prisma/assets/1328733/8916ccd3-ef40-4712-a241-b6c52d39e756"">
<img width=""233"" alt=""Screenshot 2023-10-05 at 10 49 31"" src=""https://github.com/prisma/prisma/assets/1328733/139d18f8-0437-4a21-b29b-97f2c05624b0"">
<img width=""207"" alt=""Screenshot 2023-10-05 at 10 49 43"" src=""https://github.com/prisma/prisma/assets/1328733/37ca5be2-379e-49dc-9050-083d8de70b3f"">


After this PR, it's easy to read what is what again ✨ 
https://github.com/prisma/prisma/actions/runs/6416889943/job/17421563592?pr=21365
<img width=""233"" alt=""Screenshot 2023-10-05 at 11 01 39"" src=""https://github.com/prisma/prisma/assets/1328733/eb701614-8dd0-46e8-9b9a-891331121a34"">
<img width=""223"" alt=""Screenshot 2023-10-05 at 11 01 53"" src=""https://github.com/prisma/prisma/assets/1328733/5c3cc2c2-3762-47f7-a617-9acfd5cc2bab"">
<img width=""224"" alt=""Screenshot 2023-10-05 at 11 02 06"" src=""https://github.com/prisma/prisma/assets/1328733/546809ba-0581-4ffb-9dd7-02c797d8e1c1"">

",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/fb8002a_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/fb8002a_test-template.yml,None,None,None,"@@ -102,7 +102,7 @@ jobs:
   # CLIENT (functional and legacy tests without types test)
   #
   client:
-    name: Client (functional and legacy tests without types test)
+    name: Client func/legacy-notypes
     timeout-minutes: ${{ inputs.jobTimeout }}
     runs-on: ubuntu-latest
 
@@ -189,7 +189,7 @@ jobs:
   # CLIENT (functional tests with mini-proxy)
   #
   client-miniproxy:
-    name: Client (functional tests with mini-proxy)
+    name: Client (func/mini-proxy)
     timeout-minutes: ${{ inputs.jobTimeout }}
     runs-on: ubuntu-latest
 
@@ -266,7 +266,7 @@ jobs:
   # CLIENT (functional tests with driver adapters)
   #
   client-driveradapters:
-    name: Client (functional tests with driver adapters)
+    name: Client (func/adapters)
     timeout-minutes: ${{ inputs.jobTimeout }}
     runs-on: ubuntu-latest
 
@@ -483,7 +483,7 @@ jobs:
   # CLIENT test:functional:code --relation-mode-tests-only for `relationMode-in-separate-gh-action` tests
   #
   client-relationMode:
-    name: Client (test:functional:code --relation-mode-tests-only)
+    name: Client (func/relationMode)
     timeout-minutes: 60
     runs-on: ${{ matrix.os }}
 
@@ -556,10 +556,10 @@ jobs:
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
   #
-  # CLIENT (types tests only)
+  # CLIENT (legacy types tests only)
   #
-  client-types:
-    name: Client (types tests only)
+  client-legacy-types:
+    name: Client (legacy types)
     timeout-minutes: 15
     runs-on: ubuntu-latest
 
@@ -587,8 +587,8 @@ jobs:
       - uses: codecov/codecov-action@v3
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
-          flags: client-types,${{ matrix.os }},library,binary
-          name: client-types-${{ matrix.os }}
+          flags: client-legacy-types,${{ matrix.os }},library,binary
+          name: client-legacy-types-${{ matrix.os }}
 
   #
   # WORKSPACE-TYPES
@@ -961,7 +961,7 @@ jobs:
   # minimize the time spent waiting for a free runner.
   #
   no-docker-client-functional:
-    name: Client (functional tests running on Windows/macOS, no-docker)
+    name: Client (func/win+mac)
     timeout-minutes: 40
     runs-on: ${{ matrix.os }}
     strategy:
@@ -1032,7 +1032,7 @@ jobs:
           secret: ${{ secrets.BUILDPULSE_SECRET_ACCESS_KEY }}
 
   no-docker:
-    name: All packages (running on Windows/macOS, no-docker)
+    name: All pkgs (win+mac)
     timeout-minutes: 40
     runs-on: ${{ matrix.os }}
 
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,3b20b4f7ae773a313ba69e5b7159536120d07700,1b1fdb48e2a4c1fcfe33091a797c91efbfab6c48,2023-10-24 16:15:04+02:00,"chore(deps): update actions/setup-node action to v4 (#21595)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",3,,update-engines-version.yml,MODIFY,1,1,,21595,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-10-24T01:54:30Z,2023-10-24T14:15:04Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/setup-node](https://togithub.com/actions/setup-node) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>actions/setup-node (actions/setup-node)</summary>

### [`v4`](https://togithub.com/actions/setup-node/compare/v3...v4)

[Compare Source](https://togithub.com/actions/setup-node/compare/v3...v4)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zMS4yIiwidXBkYXRlZEluVmVyIjoiMzcuMzEuMiIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/3b20b4f_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/3b20b4f_update-engines-version.yml,None,None,None,"@@ -33,7 +33,7 @@ jobs:
         with:
           version: 8
 
-      - uses: actions/setup-node@v3
+      - uses: actions/setup-node@v4
         with:
           cache: 'pnpm'
           node-version: '16'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,3b20b4f7ae773a313ba69e5b7159536120d07700,1b1fdb48e2a4c1fcfe33091a797c91efbfab6c48,2023-10-24 16:15:04+02:00,"chore(deps): update actions/setup-node action to v4 (#21595)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",3,,update-studio-version.yml,MODIFY,1,1,,21595,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-10-24T01:54:30Z,2023-10-24T14:15:04Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/setup-node](https://togithub.com/actions/setup-node) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>actions/setup-node (actions/setup-node)</summary>

### [`v4`](https://togithub.com/actions/setup-node/compare/v3...v4)

[Compare Source](https://togithub.com/actions/setup-node/compare/v3...v4)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zMS4yIiwidXBkYXRlZEluVmVyIjoiMzcuMzEuMiIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/3b20b4f_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/3b20b4f_update-studio-version.yml,None,None,None,"@@ -19,7 +19,7 @@ jobs:
         with:
           version: 8
 
-      - uses: actions/setup-node@v3
+      - uses: actions/setup-node@v4
         with:
           cache: 'pnpm'
           node-version: '16'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,fdbedf325f614868aedf164f79c2ca78b89db09e,ebd64143ea5e9d83636bd10e82917c236b764663,2023-10-30 10:02:20+01:00,"chore(deps): update dependency @slack/webhook to v7 (#21362)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>
Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",4,,release-ci.yml,MODIFY,1,1,,21362,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-10-05T01:16:02Z,2023-10-30T09:02:20Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Change | Age | Adoption | Passing | Confidence |
|---|---|---|---|---|---|
| [@slack/webhook](https://slack.dev/node-slack-sdk/webhook) ([source](https://togithub.com/slackapi/node-slack-sdk)) | [`6.1.0` -> `7.0.0`](https://renovatebot.com/diffs/npm/@slack%2fwebhook/6.1.0/7.0.0) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@slack%2fwebhook/7.0.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@slack%2fwebhook/7.0.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@slack%2fwebhook/6.1.0/7.0.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@slack%2fwebhook/6.1.0/7.0.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |

---

### Release Notes

<details>
<summary>slackapi/node-slack-sdk (@&#8203;slack/webhook)</summary>

### [`v7.0.0`](https://togithub.com/slackapi/node-slack-sdk/releases/tag/%40slack/webhook%407.0.0)

[Compare Source](https://togithub.com/slackapi/node-slack-sdk/compare/@slack/webhook@6.1.0...@slack/webhook@7.0.0)

### What's Changed

[`85c07d9`](https://togithub.com/slackapi/node-slack-sdk/commit/85c07d9) Set minimum node version to 18 ([#&#8203;1666](https://togithub.com/slackapi/node-slack-sdk/issues/1666))
[`0ba6dc2`](https://togithub.com/slackapi/node-slack-sdk/commit/0ba6dc2) Add metadata to incoming webhooks parameters ([#&#8203;1617](https://togithub.com/slackapi/node-slack-sdk/issues/1617))

### Breaking Changes

While this release is a new major version, the only ""breaking change"" is that we dropped support for node versions below v18 (at the time of this release, v16 and lower have reached their end of life). No APIs from this package were changed.

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4wLjMiLCJ1cGRhdGVkSW5WZXIiOiIzNy4zMS41IiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/release-ci.yml,../Mining/generated/scripts/prisma/files_src_before/fdbedf3_release-ci.yml,../Mining/generated/scripts/prisma/files_src_after/fdbedf3_release-ci.yml,None,None,None,"@@ -51,7 +51,7 @@ jobs:
       - name: Install & build
         uses: ./.github/actions/setup
         with:
-          node-version: 16
+          node-version: 18
           pnpm-version: 8
           skip-tsc: false
 
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,fdbedf325f614868aedf164f79c2ca78b89db09e,ebd64143ea5e9d83636bd10e82917c236b764663,2023-10-30 10:02:20+01:00,"chore(deps): update dependency @slack/webhook to v7 (#21362)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>
Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",4,,release-latest.yml,MODIFY,1,1,,21362,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-10-05T01:16:02Z,2023-10-30T09:02:20Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Change | Age | Adoption | Passing | Confidence |
|---|---|---|---|---|---|
| [@slack/webhook](https://slack.dev/node-slack-sdk/webhook) ([source](https://togithub.com/slackapi/node-slack-sdk)) | [`6.1.0` -> `7.0.0`](https://renovatebot.com/diffs/npm/@slack%2fwebhook/6.1.0/7.0.0) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@slack%2fwebhook/7.0.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@slack%2fwebhook/7.0.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@slack%2fwebhook/6.1.0/7.0.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@slack%2fwebhook/6.1.0/7.0.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |

---

### Release Notes

<details>
<summary>slackapi/node-slack-sdk (@&#8203;slack/webhook)</summary>

### [`v7.0.0`](https://togithub.com/slackapi/node-slack-sdk/releases/tag/%40slack/webhook%407.0.0)

[Compare Source](https://togithub.com/slackapi/node-slack-sdk/compare/@slack/webhook@6.1.0...@slack/webhook@7.0.0)

### What's Changed

[`85c07d9`](https://togithub.com/slackapi/node-slack-sdk/commit/85c07d9) Set minimum node version to 18 ([#&#8203;1666](https://togithub.com/slackapi/node-slack-sdk/issues/1666))
[`0ba6dc2`](https://togithub.com/slackapi/node-slack-sdk/commit/0ba6dc2) Add metadata to incoming webhooks parameters ([#&#8203;1617](https://togithub.com/slackapi/node-slack-sdk/issues/1617))

### Breaking Changes

While this release is a new major version, the only ""breaking change"" is that we dropped support for node versions below v18 (at the time of this release, v16 and lower have reached their end of life). No APIs from this package were changed.

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4wLjMiLCJ1cGRhdGVkSW5WZXIiOiIzNy4zMS41IiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/release-latest.yml,../Mining/generated/scripts/prisma/files_src_before/fdbedf3_release-latest.yml,../Mining/generated/scripts/prisma/files_src_after/fdbedf3_release-latest.yml,None,None,None,"@@ -47,7 +47,7 @@ jobs:
 
       - uses: ./.github/actions/setup
         with:
-          node-version: 16
+          node-version: 18
           pnpm-version: 8
           skip-tsc: false
 
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,157d63cb7174fbd11b2e300628d4b10ffb87c38b,811415bbed175e94ea3f81b980218265b40f481c,2023-11-01 10:56:02+01:00,"ci: Update release-ci.yml timeout (#21727)

[skip ci]",1,5.6.0,release-ci.yml,MODIFY,1,1,,21727,Jolg42,User,MEMBER,Jolg42,User,2023-11-01T09:49:14Z,2023-11-01T09:56:02Z,closed,,,,"bump timeout-minutes to 75 minutes, to avoid 
```
The job running on runner GitHub Actions 93 has exceeded the maximum execution time of 45 minutes.
```

When merging many PRs at once.

Example
https://prisma-company.slack.com/archives/C0158230YBC/p1698827661558489",../Mining/generated/scripts/prisma/current_code/release-ci.yml,../Mining/generated/scripts/prisma/files_src_before/157d63c_release-ci.yml,../Mining/generated/scripts/prisma/files_src_after/157d63c_release-ci.yml,None,None,None,"@@ -32,7 +32,7 @@ env:
 
 jobs:
   release:
-    timeout-minutes: 45
+    timeout-minutes: 75
     # environment: 'npm-ci'
     runs-on: ubuntu-latest
     permissions:
",True,False,False,False,False,True,True
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,236a5b091c1c311e21ff976b5fb938c6dd164f38,3eb8e39ad55987a6caa74f7b4f8d1083f867d98c,2023-11-06 13:22:02+01:00,"ci(GitHub Actions): Do not trigger GitHub Actions CI on changes to `.github/renovate.json` (#21795)

[skip ci]",3,5.6.0,benchmark.yml,MODIFY,2,0,,21795,janpio,User,MEMBER,Jolg42,User,2023-11-06T12:20:15Z,2023-11-06T12:22:02Z,closed,,,,No need to run CI on these config changes.,../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/236a5b0_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/236a5b0_benchmark.yml,None,None,None,"@@ -19,6 +19,7 @@ on:
       - '.dockerignore'
       - 'scripts/ci/publish.ts'
       - 'graphs/**'
+      - '.github/renovate.json'
   pull_request:
     paths-ignore:
       - '*.md'
@@ -33,6 +34,7 @@ on:
       - '.dockerignore'
       - 'scripts/ci/publish.ts'
       - 'graphs/**'
+      - '.github/renovate.json'
   workflow_dispatch:
 
 env:
",True,False,False,False,False,True,True
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,236a5b091c1c311e21ff976b5fb938c6dd164f38,3eb8e39ad55987a6caa74f7b4f8d1083f867d98c,2023-11-06 13:22:02+01:00,"ci(GitHub Actions): Do not trigger GitHub Actions CI on changes to `.github/renovate.json` (#21795)

[skip ci]",3,5.6.0,release-ci.yml,MODIFY,1,0,,21795,janpio,User,MEMBER,Jolg42,User,2023-11-06T12:20:15Z,2023-11-06T12:22:02Z,closed,,,,No need to run CI on these config changes.,../Mining/generated/scripts/prisma/current_code/release-ci.yml,../Mining/generated/scripts/prisma/files_src_before/236a5b0_release-ci.yml,../Mining/generated/scripts/prisma/files_src_after/236a5b0_release-ci.yml,None,None,None,"@@ -18,6 +18,7 @@ on:
       - '.dockerignore'
       - '*.bench.ts'
       - 'graphs/**'
+      - '.github/renovate.json'
   workflow_dispatch:
     inputs:
       dryRun:
",True,False,False,False,False,True,True
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,236a5b091c1c311e21ff976b5fb938c6dd164f38,3eb8e39ad55987a6caa74f7b4f8d1083f867d98c,2023-11-06 13:22:02+01:00,"ci(GitHub Actions): Do not trigger GitHub Actions CI on changes to `.github/renovate.json` (#21795)

[skip ci]",3,5.6.0,test.yml,MODIFY,2,0,,21795,janpio,User,MEMBER,Jolg42,User,2023-11-06T12:20:15Z,2023-11-06T12:22:02Z,closed,,,,No need to run CI on these config changes.,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/236a5b0_test.yml,../Mining/generated/scripts/prisma/files_src_after/236a5b0_test.yml,None,None,None,"@@ -19,6 +19,7 @@ on:
       - '*.bench.ts'
       - 'scripts/ci/publish.ts'
       - 'graphs/**'
+      - '.github/renovate.json'
   pull_request:
     paths-ignore:
       # Any update here needs to be done for
@@ -34,6 +35,7 @@ on:
       - '*.bench.ts'
       - 'scripts/ci/publish.ts'
       - 'graphs/**'
+      - '.github/renovate.json'
   workflow_dispatch:
 
 jobs:
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,d5cd5c54e56d4cadc755aa4880d230d15bee4cca,58c009db6cd1eaa0717a7892eac513760067b0af,2023-11-06 13:30:46+01:00,ci(bundle-size.yml): add paths-ignore (#21798),1,5.6.0,bundle-size.yml,MODIFY,14,0,,21798,Jolg42,User,MEMBER,Jolg42,User,2023-11-06T12:30:27Z,2023-11-06T12:30:47Z,closed,,,,Like https://github.com/prisma/prisma/pull/21795,../Mining/generated/scripts/prisma/current_code/bundle-size.yml,../Mining/generated/scripts/prisma/files_src_before/d5cd5c5_bundle-size.yml,../Mining/generated/scripts/prisma/files_src_after/d5cd5c5_bundle-size.yml,None,None,None,"@@ -2,6 +2,20 @@ name: Bundle size
 
 on:
   pull_request:
+    paths-ignore:
+      - '*.md'
+      - '.devcontainer/**'
+      - '.vscode/**'
+      - 'docs/**'
+      - 'examples/**'
+      - 'LICENSE'
+      - '.github/CODEOWNERS'
+      - '.github/DISCUSSION_TEMPLATE/**'
+      - '.github/ISSUE_TEMPLATE/**'
+      - '.github/renovate.json'
+      - '.dockerignore'
+      - 'scripts/ci/publish.ts'
+      - 'graphs/**'
 
 concurrency:
   group: ${{ github.workflow }}-${{ github.ref }}
",False,False,False,False,False,False,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,c27aa03b3dc3fcef610940b7d8ce024e0879ad86,b47302c3b8c86ca15b8c46f67eb4ac7c3f4f4600,2023-11-06 17:51:11+01:00,"ci(GitHub Actions): Clean up `paths-ignore` (#21800)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",4,5.6.0,benchmark.yml,MODIFY,19,18,,21800,janpio,User,MEMBER,Jolg42,User,2023-11-06T13:11:21Z,2023-11-06T16:51:12Z,closed,,,,"- Update comments to be correct and mention all files
- Sort files names a bit
- ~Make sure all instances are the same~",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/c27aa03_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/c27aa03_benchmark.yml,None,None,None,"@@ -1,40 +1,41 @@
 name: Benchmark
+# Run on `push` only for main, if not it will trigger `push` & `pull_request` on PRs at the same time
 on:
   push:
     branches:
       - main
       - '*.*.x'
     paths-ignore:
-      # Any update here needs to be done for
-      # - `pull_request` see below
+      # Any update here needs to be done for `pull_request`, see below
+      # and all files (test.yml, benchmark.yml, release-ci.yml, bundle-size.yml)
       - '*.md'
-      - '.devcontainer/**'
-      - '.vscode/**'
-      - 'docs/**'
-      - 'examples/**'
+      # - '*.bench.ts' -> should not be ignored in this workflow
       - 'LICENSE'
-      - '.github/CODEOWNERS'
-      - '.github/DISCUSSION_TEMPLATE/**'
-      - '.github/ISSUE_TEMPLATE/**'
       - '.dockerignore'
       - 'scripts/ci/publish.ts'
-      - 'graphs/**'
+      - '.github/CODEOWNERS'
       - '.github/renovate.json'
+      - '.github/ISSUE_TEMPLATE/**'
+      - '.github/DISCUSSION_TEMPLATE/**'
+      - '.devcontainer/**'
+      - '.vscode/**'
+      - 'graphs/**'
   pull_request:
     paths-ignore:
+      # Any update here needs to be done for `push`, see above
+      # and all files (test.yml, benchmark.yml, release-ci.yml)
       - '*.md'
-      - '.devcontainer/**'
-      - '.vscode/**'
-      - 'docs/**'
-      - 'examples/**'
+      # - '*.bench.ts' -> should not be ignored in this workflow
       - 'LICENSE'
-      - '.github/CODEOWNERS'
-      - '.github/DISCUSSION_TEMPLATE/**'
-      - '.github/ISSUE_TEMPLATE/**'
       - '.dockerignore'
       - 'scripts/ci/publish.ts'
-      - 'graphs/**'
+      - '.github/CODEOWNERS'
       - '.github/renovate.json'
+      - '.github/ISSUE_TEMPLATE/**'
+      - '.github/DISCUSSION_TEMPLATE/**'
+      - '.devcontainer/**'
+      - '.vscode/**'
+      - 'graphs/**'
   workflow_dispatch:
 
 env:
",True,False,False,False,False,True,True
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,c27aa03b3dc3fcef610940b7d8ce024e0879ad86,b47302c3b8c86ca15b8c46f67eb4ac7c3f4f4600,2023-11-06 17:51:11+01:00,"ci(GitHub Actions): Clean up `paths-ignore` (#21800)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",4,5.6.0,bundle-size.yml,MODIFY,9,8,,21800,janpio,User,MEMBER,Jolg42,User,2023-11-06T13:11:21Z,2023-11-06T16:51:12Z,closed,,,,"- Update comments to be correct and mention all files
- Sort files names a bit
- ~Make sure all instances are the same~",../Mining/generated/scripts/prisma/current_code/bundle-size.yml,../Mining/generated/scripts/prisma/files_src_before/c27aa03_bundle-size.yml,../Mining/generated/scripts/prisma/files_src_after/c27aa03_bundle-size.yml,None,None,None,"@@ -3,18 +3,19 @@ name: Bundle size
 on:
   pull_request:
     paths-ignore:
+      # Any update here needs to be done for
+      # all files (test.yml, benchmark.yml, release-ci.yml, bundle-size.yml)
       - '*.md'
-      - '.devcontainer/**'
-      - '.vscode/**'
-      - 'docs/**'
-      - 'examples/**'
+      - '*.bench.ts'
       - 'LICENSE'
-      - '.github/CODEOWNERS'
-      - '.github/DISCUSSION_TEMPLATE/**'
-      - '.github/ISSUE_TEMPLATE/**'
-      - '.github/renovate.json'
       - '.dockerignore'
       - 'scripts/ci/publish.ts'
+      - '.github/CODEOWNERS'
+      - '.github/renovate.json'
+      - '.github/ISSUE_TEMPLATE/**'
+      - '.github/DISCUSSION_TEMPLATE/**'
+      - '.devcontainer/**'
+      - '.vscode/**'
       - 'graphs/**'
 
 concurrency:
",False,False,False,False,False,False,False
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,c27aa03b3dc3fcef610940b7d8ce024e0879ad86,b47302c3b8c86ca15b8c46f67eb4ac7c3f4f4600,2023-11-06 17:51:11+01:00,"ci(GitHub Actions): Clean up `paths-ignore` (#21800)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",4,5.6.0,release-ci.yml,MODIFY,10,7,,21800,janpio,User,MEMBER,Jolg42,User,2023-11-06T13:11:21Z,2023-11-06T16:51:12Z,closed,,,,"- Update comments to be correct and mention all files
- Sort files names a bit
- ~Make sure all instances are the same~",../Mining/generated/scripts/prisma/current_code/release-ci.yml,../Mining/generated/scripts/prisma/files_src_before/c27aa03_release-ci.yml,../Mining/generated/scripts/prisma/files_src_after/c27aa03_release-ci.yml,None,None,None,"@@ -8,17 +8,20 @@ on:
       - 'integration/*'
       - '*.*.x'
     paths-ignore:
+      # Any update here needs to be done for
+      # all files (test.yml, benchmark.yml, release-ci.yml, bundle-size.yml)
       - '*.md'
+      - '*.bench.ts'
+      - 'LICENSE'
+      - '.dockerignore'
+      # - 'scripts/ci/publish.ts' -> should not be ignored in this workflow
+      - '.github/CODEOWNERS'
+      - '.github/renovate.json'
+      - '.github/ISSUE_TEMPLATE/**'
+      - '.github/DISCUSSION_TEMPLATE/**'
       - '.devcontainer/**'
       - '.vscode/**'
-      - '.github/ISSUE_TEMPLATE/**'
-      - 'LICENSE'
-      - '.github/CODEOWNERS'
-      - '.github/DISCUSSION_TEMPLATE/**'
-      - '.dockerignore'
-      - '*.bench.ts'
       - 'graphs/**'
-      - '.github/renovate.json'
   workflow_dispatch:
     inputs:
       dryRun:
",True,False,False,False,False,True,True
prisma,Jan Piotrowski,User,piotrowski+github@gmail.com,GitHub,User,noreply@github.com,c27aa03b3dc3fcef610940b7d8ce024e0879ad86,b47302c3b8c86ca15b8c46f67eb4ac7c3f4f4600,2023-11-06 17:51:11+01:00,"ci(GitHub Actions): Clean up `paths-ignore` (#21800)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",4,5.6.0,test.yml,MODIFY,21,21,,21800,janpio,User,MEMBER,Jolg42,User,2023-11-06T13:11:21Z,2023-11-06T16:51:12Z,closed,,,,"- Update comments to be correct and mention all files
- Sort files names a bit
- ~Make sure all instances are the same~",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/c27aa03_test.yml,../Mining/generated/scripts/prisma/files_src_after/c27aa03_test.yml,None,None,None,"@@ -1,41 +1,41 @@
 name: CI
-# Run on push only for main, if not it will trigger push & pull_request on PRs at the same time
+# Run on `push` only for main, if not it will trigger `push` & `pull_request` on PRs at the same time
 on:
   push:
     branches:
       - main
       - '*.*.x'
     paths-ignore:
-      # Any update here needs to be done for
-      # - `pull_request` see below
+      # Any update here needs to be done for `pull_request`, see below
+      # and all files (test.yml, benchmark.yml, release-ci.yml, bundle-size.yml)
       - '*.md'
+      - '*.bench.ts'
+      - 'LICENSE'
+      - '.dockerignore'
+      - 'scripts/ci/publish.ts'
+      - '.github/CODEOWNERS'
+      - '.github/renovate.json'
+      - '.github/ISSUE_TEMPLATE/**'
+      - '.github/DISCUSSION_TEMPLATE/**'
       - '.devcontainer/**'
       - '.vscode/**'
-      - '.github/ISSUE_TEMPLATE/**'
-      - 'LICENSE'
-      - '.github/CODEOWNERS'
-      - '.github/DISCUSSION_TEMPLATE/**'
-      - '.dockerignore'
-      - '*.bench.ts'
-      - 'scripts/ci/publish.ts'
       - 'graphs/**'
-      - '.github/renovate.json'
   pull_request:
     paths-ignore:
-      # Any update here needs to be done for
-      # - `push`see before
+      # Any update here needs to be done for `push`, see above
+      # and all files (test.yml, benchmark.yml, release-ci.yml)
       - '*.md'
+      - '*.bench.ts'
+      - 'LICENSE'
+      - '.dockerignore'
+      - 'scripts/ci/publish.ts'
+      - '.github/CODEOWNERS'
+      - '.github/renovate.json'
+      - '.github/ISSUE_TEMPLATE/**'
+      - '.github/DISCUSSION_TEMPLATE/**'
       - '.devcontainer/**'
       - '.vscode/**'
-      - '.github/ISSUE_TEMPLATE/**'
-      - 'LICENSE'
-      - '.github/CODEOWNERS'
-      - '.github/DISCUSSION_TEMPLATE/**'
-      - '.dockerignore'
-      - '*.bench.ts'
-      - 'scripts/ci/publish.ts'
       - 'graphs/**'
-      - '.github/renovate.json'
   workflow_dispatch:
 
 jobs:
",True,False,False,False,False,True,True
prisma,Serhii Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,f9db477a8680fc1f3bc2c93dd5f5e3eee34fe5b8,673782117619b9565a576fcd3c519b354d47519a,2023-11-10 14:56:46+01:00,"fix(adapter-planetscale): Initialize adapter with a `Client`, rather than `Connection` (#21883)

* fix(adapter-planetscale): Initialize adapter with a `Client`, rather than `Connection`

`Connection` is an abstraction over single DB connection and can not be
used in parallel. `Client` is an abstraction over remote connection
pool.
This change prevents parallel request done on a single connection and
is a proper fix for `invalid sequence` errors.

Fix prisma/team-orm#540
Fix prisma/team-orm#494

* Restore occ test

* Runtime validation for client

* Update packages/adapter-planetscale/src/planetscale.ts

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>

* Remove console.log

* Add test

---------

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",8,5.6.0,test-template.yml,MODIFY,10,0,,21883,SevInf,User,CONTRIBUTOR,SevInf,User,2023-11-10T09:29:05Z,2023-11-10T13:56:47Z,closed,,,,"`Connection` is an abstraction over single DB connection and can not be
used in parallel. `Client` is an abstraction over remote connection
pool.
This change prevents parallel request done on a single connection and
is a proper fix for `invalid sequence` errors.

This is a breaking change for planetscale adapter, so it will need a mention in release notes.

Fix prisma/team-orm#540
Fix prisma/team-orm#494

/integration
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/f9db477_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/f9db477_test-template.yml,1.0,1.0,1.0,"@@ -938,6 +938,16 @@ jobs:
           flags: engines,${{ matrix.os }},library,binary
           name: engines-${{ matrix.os }}
 
+      - run: pnpm run test
+        name: 'adapter-planetscale'
+        working-directory: packages/adapter-planetscale
+
+      - uses: codecov/codecov-action@v3
+        with:
+          files: ./packages/adapter-planetscale/src/__tests__/coverage/clover.xml
+          flags: adapter-planetscale,${{ matrix.os }},library,binary
+          name: adapter-planetscale-${{ matrix.os }}
+
       - run: pnpm run test
         name: 'instrumentation'
         working-directory: packages/instrumentation
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,e0034a9ad8251e9012e008791d234bf5015397b0,fe740da704f35674976c639b2e7f1f9885aed9a3,2023-11-16 11:35:38+01:00,"chore(deps): update actions/github-script action to v7 (#21936)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",4,,release-ci.yml,MODIFY,1,1,,21936,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-11-14T02:10:44Z,2023-11-16T10:35:39Z,closed,,,,"[![Mend Renovate logo banner](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/github-script](https://togithub.com/actions/github-script) | action | major | `v6` -> `v7` |

---

### Release Notes

<details>
<summary>actions/github-script (actions/github-script)</summary>

### [`v7`](https://togithub.com/actions/github-script/compare/v6...v7)

[Compare Source](https://togithub.com/actions/github-script/compare/v6...v7)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy40Ni4wIiwidXBkYXRlZEluVmVyIjoiMzcuNDYuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/release-ci.yml,../Mining/generated/scripts/prisma/files_src_before/e0034a9_release-ci.yml,../Mining/generated/scripts/prisma/files_src_after/e0034a9_release-ci.yml,None,None,None,"@@ -88,7 +88,7 @@ jobs:
       # TODO de-duplicate (currently duplicated in release-*.yml)
       # Docs https://octokit.github.io/rest.js/v20#git-create-tag
       - name: Create a tag on prisma-engines repository
-        uses: actions/github-script@v6
+        uses: actions/github-script@v7
         id: tag-prisma-engines
         env:
           REPO_NAME: 'prisma-engines'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,e0034a9ad8251e9012e008791d234bf5015397b0,fe740da704f35674976c639b2e7f1f9885aed9a3,2023-11-16 11:35:38+01:00,"chore(deps): update actions/github-script action to v7 (#21936)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",4,,release-latest.yml,MODIFY,1,1,,21936,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-11-14T02:10:44Z,2023-11-16T10:35:39Z,closed,,,,"[![Mend Renovate logo banner](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/github-script](https://togithub.com/actions/github-script) | action | major | `v6` -> `v7` |

---

### Release Notes

<details>
<summary>actions/github-script (actions/github-script)</summary>

### [`v7`](https://togithub.com/actions/github-script/compare/v6...v7)

[Compare Source](https://togithub.com/actions/github-script/compare/v6...v7)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy40Ni4wIiwidXBkYXRlZEluVmVyIjoiMzcuNDYuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/release-latest.yml,../Mining/generated/scripts/prisma/files_src_before/e0034a9_release-latest.yml,../Mining/generated/scripts/prisma/files_src_after/e0034a9_release-latest.yml,None,None,None,"@@ -86,7 +86,7 @@ jobs:
       # TODO de-duplicate (currently duplicated in release-*.yml)
       # Docs https://octokit.github.io/rest.js/v20#git-create-tag
       - name: Create a tag on prisma-engines repository
-        uses: actions/github-script@v6
+        uses: actions/github-script@v7
         id: tag-prisma-engines
         env:
           REPO_NAME: 'prisma-engines'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,e0034a9ad8251e9012e008791d234bf5015397b0,fe740da704f35674976c639b2e7f1f9885aed9a3,2023-11-16 11:35:38+01:00,"chore(deps): update actions/github-script action to v7 (#21936)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",4,,test-template.yml,MODIFY,1,1,,21936,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-11-14T02:10:44Z,2023-11-16T10:35:39Z,closed,,,,"[![Mend Renovate logo banner](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/github-script](https://togithub.com/actions/github-script) | action | major | `v6` -> `v7` |

---

### Release Notes

<details>
<summary>actions/github-script (actions/github-script)</summary>

### [`v7`](https://togithub.com/actions/github-script/compare/v6...v7)

[Compare Source](https://togithub.com/actions/github-script/compare/v6...v7)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy40Ni4wIiwidXBkYXRlZEluVmVyIjoiMzcuNDYuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/e0034a9_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/e0034a9_test-template.yml,None,None,None,"@@ -380,7 +380,7 @@ jobs:
       - run: pnpm run test:memory
         working-directory: packages/client
 
-      - uses: actions/github-script@v6
+      - uses: actions/github-script@v7
         if: ${{ failure() && github.event_name == 'pull_request' }}
         id: upload-report
         env:
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,e0034a9ad8251e9012e008791d234bf5015397b0,fe740da704f35674976c639b2e7f1f9885aed9a3,2023-11-16 11:35:38+01:00,"chore(deps): update actions/github-script action to v7 (#21936)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",4,,update-engines-version.yml,MODIFY,2,2,,21936,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-11-14T02:10:44Z,2023-11-16T10:35:39Z,closed,,,,"[![Mend Renovate logo banner](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/github-script](https://togithub.com/actions/github-script) | action | major | `v6` -> `v7` |

---

### Release Notes

<details>
<summary>actions/github-script (actions/github-script)</summary>

### [`v7`](https://togithub.com/actions/github-script/compare/v6...v7)

[Compare Source](https://togithub.com/actions/github-script/compare/v6...v7)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy40Ni4wIiwidXBkYXRlZEluVmVyIjoiMzcuNDYuMCIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/e0034a9_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/e0034a9_update-engines-version.yml,None,None,None,"@@ -71,7 +71,7 @@ jobs:
 
       - name: Extract Engine Commit hash from version
         id: extract-engine-commit-hash
-        uses: actions/github-script@v6
+        uses: actions/github-script@v7
         with:
           script: |
             const hash = context.payload.inputs.version.split('.').pop()
@@ -162,7 +162,7 @@ jobs:
       #
       - name: Extract patch branch name from version
         id: extract-patch-branch-name
-        uses: actions/github-script@v6
+        uses: actions/github-script@v7
         with:
           script: |
             const parts = context.payload.inputs.version.split('.')
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,787a0ecf031136d910110923d9f9aac07ab77baf,72d4d2c3661d236a7fbd143d52cd83bc81c7fb5e,2023-11-16 14:24:11+01:00,"chore(reproductions): rename dir to sandbox & ignore for CI / Renovate (#21914)

Co-authored-by: pierre <pierreantoine.urvoy@gmail.com>",44,5.7.0,benchmark.yml,MODIFY,2,0,,21914,Jolg42,User,MEMBER,Jolg42,User,2023-11-13T10:06:41Z,2023-11-16T13:24:11Z,closed,,Jolg42,User,"Rename directory to ""sandbox"" as to not confuse it with bug reproductions

+ avoids Renovate PRs like https://github.com/prisma/prisma/pull/21899

This directory is only meant for local development and not tested.",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/787a0ec_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/787a0ec_benchmark.yml,None,None,None,"@@ -20,6 +20,7 @@ on:
       - '.devcontainer/**'
       - '.vscode/**'
       - 'graphs/**'
+      - 'sandbox/**'
   pull_request:
     paths-ignore:
       # Any update here needs to be done for `push`, see above
@@ -36,6 +37,7 @@ on:
       - '.devcontainer/**'
       - '.vscode/**'
       - 'graphs/**'
+      - 'sandbox/**'
   workflow_dispatch:
 
 env:
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,787a0ecf031136d910110923d9f9aac07ab77baf,72d4d2c3661d236a7fbd143d52cd83bc81c7fb5e,2023-11-16 14:24:11+01:00,"chore(reproductions): rename dir to sandbox & ignore for CI / Renovate (#21914)

Co-authored-by: pierre <pierreantoine.urvoy@gmail.com>",44,5.7.0,bundle-size.yml,MODIFY,1,0,,21914,Jolg42,User,MEMBER,Jolg42,User,2023-11-13T10:06:41Z,2023-11-16T13:24:11Z,closed,,Jolg42,User,"Rename directory to ""sandbox"" as to not confuse it with bug reproductions

+ avoids Renovate PRs like https://github.com/prisma/prisma/pull/21899

This directory is only meant for local development and not tested.",../Mining/generated/scripts/prisma/current_code/bundle-size.yml,../Mining/generated/scripts/prisma/files_src_before/787a0ec_bundle-size.yml,../Mining/generated/scripts/prisma/files_src_after/787a0ec_bundle-size.yml,None,None,None,"@@ -17,6 +17,7 @@ on:
       - '.devcontainer/**'
       - '.vscode/**'
       - 'graphs/**'
+      - 'sandbox/**'
 
 concurrency:
   group: ${{ github.workflow }}-${{ github.ref }}
",False,False,False,False,False,False,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,787a0ecf031136d910110923d9f9aac07ab77baf,72d4d2c3661d236a7fbd143d52cd83bc81c7fb5e,2023-11-16 14:24:11+01:00,"chore(reproductions): rename dir to sandbox & ignore for CI / Renovate (#21914)

Co-authored-by: pierre <pierreantoine.urvoy@gmail.com>",44,5.7.0,release-ci.yml,MODIFY,1,0,,21914,Jolg42,User,MEMBER,Jolg42,User,2023-11-13T10:06:41Z,2023-11-16T13:24:11Z,closed,,Jolg42,User,"Rename directory to ""sandbox"" as to not confuse it with bug reproductions

+ avoids Renovate PRs like https://github.com/prisma/prisma/pull/21899

This directory is only meant for local development and not tested.",../Mining/generated/scripts/prisma/current_code/release-ci.yml,../Mining/generated/scripts/prisma/files_src_before/787a0ec_release-ci.yml,../Mining/generated/scripts/prisma/files_src_after/787a0ec_release-ci.yml,None,None,None,"@@ -22,6 +22,7 @@ on:
       - '.devcontainer/**'
       - '.vscode/**'
       - 'graphs/**'
+      - 'sandbox/**'
   workflow_dispatch:
     inputs:
       dryRun:
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,787a0ecf031136d910110923d9f9aac07ab77baf,72d4d2c3661d236a7fbd143d52cd83bc81c7fb5e,2023-11-16 14:24:11+01:00,"chore(reproductions): rename dir to sandbox & ignore for CI / Renovate (#21914)

Co-authored-by: pierre <pierreantoine.urvoy@gmail.com>",44,5.7.0,test.yml,MODIFY,2,0,,21914,Jolg42,User,MEMBER,Jolg42,User,2023-11-13T10:06:41Z,2023-11-16T13:24:11Z,closed,,Jolg42,User,"Rename directory to ""sandbox"" as to not confuse it with bug reproductions

+ avoids Renovate PRs like https://github.com/prisma/prisma/pull/21899

This directory is only meant for local development and not tested.",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/787a0ec_test.yml,../Mining/generated/scripts/prisma/files_src_after/787a0ec_test.yml,None,None,None,"@@ -20,6 +20,7 @@ on:
       - '.devcontainer/**'
       - '.vscode/**'
       - 'graphs/**'
+      - 'sandbox/**'
   pull_request:
     paths-ignore:
       # Any update here needs to be done for `push`, see above
@@ -36,6 +37,7 @@ on:
       - '.devcontainer/**'
       - '.vscode/**'
       - 'graphs/**'
+      - 'sandbox/**'
   workflow_dispatch:
 
 jobs:
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,f620aebc5d4022865b1c264cba98dfa8022fc07a,930ffbab483a0b0c94f8a02d00b9e99e01b44905,2023-11-17 05:10:15-10:00,test(client): add --engine-type flag in test cli (#21977),16,5.7.0,test-template.yml,MODIFY,2,2,,21977,millsp,User,MEMBER,millsp,User,2023-11-15T21:24:43Z,2023-11-17T15:10:15Z,closed,,millsp,User,closes https://github.com/prisma/team-orm/issues/550,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/f620aeb_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/f620aeb_test-template.yml,0.0,0.0,0.4166666666666667,"@@ -159,7 +159,7 @@ jobs:
           skip-tsc: false
 
       # Run the functional test suite
-      - run: pnpm run test:functional --silent --shard ${{ matrix.shard }}
+      - run: pnpm run test:functional --silent --shard ${{ matrix.shard }} --engine-type ${{ matrix.queryEngine }}
         if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
         working-directory: packages/client
       # And run  all the other tests (except the types tests)
@@ -1014,7 +1014,7 @@ jobs:
           skip-tsc: true
 
       - name: Test packages/client
-        run: pnpm run test:functional:code --silent --shard ${{matrix.shard}}
+        run: pnpm run test:functional:code --silent --shard ${{ matrix.shard }} --engine-type ${{ matrix.queryEngine }}
         working-directory: packages/client
         env:
           # allow Node.js to allocate at most 14GB of heap on macOS and 7GB on Windows
",True,False,False,False,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,27b834080cca147135a7bab71f2a0ab6196bbeff,7cd6b02c830b794635c2ca6675a09719f0a64d7d,2023-11-17 19:09:48+01:00,test(bench): fix types (#22015),1,5.7.0,benchmark.yml,MODIFY,1,1,,22015,millsp,User,MEMBER,Jolg42,User,2023-11-17T17:39:12Z,2023-11-17T18:09:49Z,closed,,millsp,User,Related to https://github.com/prisma/team-orm/issues/456,../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/27b8340_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/27b8340_benchmark.yml,None,None,None,"@@ -62,7 +62,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: 8
-          skip-tsc: true
+          skip-tsc: false
 
       - name: Run benchmarks
         run: pnpm run bench
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,64a70e6ace95c3c4637f407146ec9b261678ec55,70ced584fb63f1f30e47fd6d7c4e806ad671a725,2023-11-29 15:25:47-10:00,"test(client): wasm engine (#22139)

Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>
Co-authored-by: jkomyno <skiabo97@gmail.com>",36,5.7.0,test-template.yml,MODIFY,2,1,,22139,millsp,User,MEMBER,millsp,User,2023-11-27T19:58:50Z,2023-11-30T01:25:48Z,closed,topic: vertical slice 🍰,millsp,User,"This PR enables testing with the Wasm engine on CI and skips the tests that are not passing. Along the way, it also introduced a small fix for `unwrap_throw` errors, and upgrades to the latest Wasm engine package which also includes fixes.

/integration",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/64a70e6_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/64a70e6_test-template.yml,0.0,0.4861111111111111,1.0,"@@ -275,6 +275,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
+        engine-type: ['library', 'wasm']
         flavor: ['js_pg', 'js_neon', 'js_libsql', 'js_planetscale']
         shard: ['1/6', '2/6', '3/6', '4/6', '5/6', '6/6']
         node: [20] #[16, 18, 20]
@@ -307,7 +308,7 @@ jobs:
           pnpm-version: ${{ inputs.pnpmVersion }}
           skip-tsc: false
 
-      - run: pnpm run test:functional --flavor ${{ matrix.flavor }} --shard ${{ matrix.shard }} --runInBand
+      - run: pnpm run test:functional --flavor ${{ matrix.flavor }} --shard ${{ matrix.shard }} --engine-type ${{ matrix.engine-type }} --runInBand
         working-directory: packages/client
         env:
           PRISMA_DISABLE_QUAINT_EXECUTORS: true, # ensures quaint runs no queries
",True,False,False,False,False,True,False
prisma,Serhii Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,75d19fc01f1b1659e9cb28f5329709748e3d8aa0,f0d48d0135993c93a5fc2c38476b9821489f5bf4,2023-12-01 11:42:23+01:00,"ci: Allow to use custom engine branch in client tests (#21891)

* ci: Allow to test client with a custom engine branch

* Skip client tests that fail with custom engine

* Skip failing tests in internals

* Skip failing cli tests

* Skip fetch-engines tests

* Fix exhaustive schema test

* Actually fix things

* Fix custom-binary test

* Fix binary

* Ignore studio test

* Add some decorations

* Wording

* Cosmetics

* Skip get-generators test

* Add lock

* Use gh for body

* Define body outside of bash

* Debug and safety

* Update snapshots

* Debug

* Fix Win

* Undebug at set docs

* Sigh

* Sigh v2

* Sigh v3

* test

* More snapshot update",23,5.7.0,build-engine-branch.yml,ADD,98,0,,21891,SevInf,User,CONTRIBUTOR,jkomyno,User,2023-11-10T14:31:02Z,2023-12-01T10:42:24Z,closed,topic: tech debt,SevInf,User,"Allows to use engine from a branch in engines repo without.

How does it work: if body of the PR contains `[slash]engine-branch [branch]` command, before running TS tests we'll pull in specified branch, build the engine for linux, mac and windows and set up environment variables to point to those versions instead of the ones installed from `npm`.

Build is cached, so unless engine branch receives new commits, engines won't be rebuilt on subsequent runs. Cargo dependencies are cached separately, so even if there is new commit, but `Cargo.lock` did not change, future build will be faster.  In worst possible case, engine build takes around 20min, but because of caches it is usually faster.

Number of tests are skipped if custom engine is used: for the most part, they expect to find engine at a certain path or expect certain version output. However, there is at least one actual bug (#21926).

If custom engine is used, separate failed status check and a comment on PR with reminder to remove the command before merging will be added. For people with admin permissions: it might be a good idea to add this check to required checcks in branch protection rules.

Some caveats: custom branch does not work for benchmark workflow at the moment. For it to work, we'll need to merge it with `test` or `test-template` workflows and I am not sure we want to do this now.

Close prisma/team-orm#538
/engine-branch test-client-ci",../Mining/generated/scripts/prisma/current_code/build-engine-branch.yml,../Mining/generated/scripts/prisma/files_src_before/75d19fc_build-engine-branch.yml,../Mining/generated/scripts/prisma/files_src_after/75d19fc_build-engine-branch.yml,0.41379310344827586,1.0,1.0,"@@ -0,0 +1,98 @@
+name: Build custom engine branch if needed
+on:
+  workflow_call:
+    outputs:
+      branchName:
+        description: The name of the branch of checked out engine
+        value: ${{ jobs.parseCommand.outputs.branchName }}
+      engineHash:
+        description: Commit hash of the checked out engine
+        value: ${{ jobs.build.outputs.engineHash }}
+
+jobs:
+  parseCommand:
+    name: Parse ""/engine-branch"" command in PR body
+    runs-on: ubuntu-latest
+    outputs:
+      branchName: ${{ steps.detectCustomEngineBranch.outputs.branchName }}
+    steps:
+      - name: Extract custom engine branch name from PR body
+        id: detectCustomEngineBranch
+        if: |
+          github.event_name == 'pull_request' &&
+          contains(github.event.pull_request.body, '/engine-branch') &&
+          (
+            github.event.pull_request.author_association == 'OWNER' ||
+            github.event.pull_request.author_association == 'MEMBER' ||
+            github.event.pull_request.author_association == 'COLLABORATOR' ||
+            github.event.pull_request.author_association == 'CONTRIBUTOR'
+          )
+        env:
+          PR_BODY: ${{ github.event.pull_request.body }}
+        run: |
+          BRANCH_NAME=$(echo ""$PR_BODY"" | grep -o '/engine-branch \S*' | awk '{print $2}')
+          if [ -z ""$BRANCH_NAME"" ]; then
+            echo ""Branch name not specified in /engine-branch command.""
+            exit 1
+          fi
+
+          echo ""Requested custom engine from branch: $BRANCH_NAME""
+          echo ""branchName=$BRANCH_NAME"" >> $GITHUB_OUTPUT
+
+  build:
+    name: Build
+    strategy:
+      matrix:
+        os: [ubuntu-latest, macos-13, windows-latest]
+    runs-on: ${{ matrix.os }}
+    needs: parseCommand
+    if: ${{ needs.parseCommand.outputs.branchName != '' }}
+    outputs:
+      engineHash: ${{ steps.engine-hash.outputs.engineHash }}
+    steps:
+      - uses: actions/checkout@v4
+        with:
+          repository: prisma/prisma-engines
+          ref: ${{ needs.parseCommand.outputs.branchName }}
+      - name: Get current engine hash
+        id: engine-hash
+        shell: bash
+        run: echo ""engineHash=$(git rev-parse HEAD)"" >> $GITHUB_OUTPUT
+
+      - uses: actions/cache@v3
+        name: Artifacts cache
+        id: artifacts-cache
+        with:
+          path: |
+            target/release/schema-engine
+            target/release/schema-engine.exe
+            target/release/query-engine
+            target/release/query-engine.exe
+            target/release/libquery_engine.so
+            target/release/libquery_engine.dylib
+            target/release/query_engine.dll
+          key: ${{ runner.os }}-engine-${{ steps.engine-hash.outputs.engineHash }}-${{ github.event.number }}
+
+      - uses: dtolnay/rust-toolchain@stable
+        if: steps.artifacts-cache.outputs.cache-hit != 'true'
+
+      - uses: actions/cache@v3
+        name: Dependencies cache
+        if: steps.artifacts-cache.outputs.cache-hit != 'true'
+        with:
+          path: |
+            ~/.cargo/bin/
+            ~/.cargo/registry/index/
+            ~/.cargo/registry/cache/
+            ~/.cargo/git/db/
+            target/
+          key: ${{ runner.os }}-cargo-${{ hashFiles('**/Cargo.lock') }}
+
+      - name: Build custom engines with cargo
+        if: steps.artifacts-cache.outputs.cache-hit != 'true'
+        shell: bash
+        run: |
+          cargo build --release \
+            -p query-engine \
+            -p query-engine-node-api \
+            -p schema-engine-cli
",True,False,False,False,False,True,False
prisma,Serhii Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,75d19fc01f1b1659e9cb28f5329709748e3d8aa0,f0d48d0135993c93a5fc2c38476b9821489f5bf4,2023-12-01 11:42:23+01:00,"ci: Allow to use custom engine branch in client tests (#21891)

* ci: Allow to test client with a custom engine branch

* Skip client tests that fail with custom engine

* Skip failing tests in internals

* Skip failing cli tests

* Skip fetch-engines tests

* Fix exhaustive schema test

* Actually fix things

* Fix custom-binary test

* Fix binary

* Ignore studio test

* Add some decorations

* Wording

* Cosmetics

* Skip get-generators test

* Add lock

* Use gh for body

* Define body outside of bash

* Debug and safety

* Update snapshots

* Debug

* Fix Win

* Undebug at set docs

* Sigh

* Sigh v2

* Sigh v3

* test

* More snapshot update",23,5.7.0,test-template.yml,MODIFY,20,0,,21891,SevInf,User,CONTRIBUTOR,jkomyno,User,2023-11-10T14:31:02Z,2023-12-01T10:42:24Z,closed,topic: tech debt,SevInf,User,"Allows to use engine from a branch in engines repo without.

How does it work: if body of the PR contains `[slash]engine-branch [branch]` command, before running TS tests we'll pull in specified branch, build the engine for linux, mac and windows and set up environment variables to point to those versions instead of the ones installed from `npm`.

Build is cached, so unless engine branch receives new commits, engines won't be rebuilt on subsequent runs. Cargo dependencies are cached separately, so even if there is new commit, but `Cargo.lock` did not change, future build will be faster.  In worst possible case, engine build takes around 20min, but because of caches it is usually faster.

Number of tests are skipped if custom engine is used: for the most part, they expect to find engine at a certain path or expect certain version output. However, there is at least one actual bug (#21926).

If custom engine is used, separate failed status check and a comment on PR with reminder to remove the command before merging will be added. For people with admin permissions: it might be a good idea to add this check to required checcks in branch protection rules.

Some caveats: custom branch does not work for benchmark workflow at the moment. For it to work, we'll need to merge it with `test` or `test-template` workflows and I am not sure we want to do this now.

Close prisma/team-orm#538
/engine-branch test-client-ci",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/75d19fc_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/75d19fc_test-template.yml,0.41379310344827586,1.0,1.0,"@@ -34,6 +34,10 @@ on:
         description: pnpm package manager version
         type: string
         default: '8'
+      engineHash:
+        description: Customly-built engine hash to use
+        type: string
+        required: false
     secrets:
       BUILDPULSE_ACCESS_KEY_ID:
         required: false
@@ -76,6 +80,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          engine-hash: ${{ inputs.engineHash }}
           skip-tsc: false
 
       # https://github.com/actions/toolkit/blob/master/docs/commands.md#problem-matchers
@@ -155,6 +160,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          engine-hash: ${{ inputs.engineHash }}
           # Fails if set to true
           skip-tsc: false
 
@@ -227,6 +233,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          engine-hash: ${{ inputs.engineHash }}
           # Fails if set to true
           skip-tsc: false
 
@@ -306,6 +313,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          engine-hash: ${{ inputs.engineHash }}
           skip-tsc: false
 
       - run: pnpm run test:functional --flavor ${{ matrix.flavor }} --shard ${{ matrix.shard }} --engine-type ${{ matrix.engine-type }} --runInBand
@@ -376,6 +384,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          engine-hash: ${{ inputs.engineHash }}
           skip-tsc: true
 
       - run: pnpm run test:memory
@@ -472,6 +481,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          engine-hash: ${{ inputs.engineHash }}
           # Fails if set to true
           skip-tsc: false
 
@@ -523,6 +533,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          engine-hash: ${{ inputs.engineHash }}
           skip-tsc: true
 
       # shouldn't take more than 15 minutes
@@ -579,6 +590,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          engine-hash: ${{ inputs.engineHash }}
           # Fails if set to true
           skip-tsc: false
 
@@ -613,6 +625,7 @@ jobs:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
           skip-tsc: true
+          engine-hash: ${{ inputs.engineHash }}
 
       - run: pnpm tsc -p tsconfig.utils.typecheck.json
 
@@ -666,6 +679,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          engine-hash: ${{ inputs.engineHash }}
           skip-tsc: true
 
       - run: pnpm run test
@@ -728,6 +742,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          engine-hash: ${{ inputs.engineHash }}
           skip-tsc: true
 
       - run: pnpm run test
@@ -790,6 +805,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          engine-hash: ${{ inputs.engineHash }}
           skip-tsc: true
 
       - run: pnpm run test
@@ -852,6 +868,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          engine-hash: ${{ inputs.engineHash }}
           skip-tsc: true
 
       - run: pnpm run test
@@ -887,6 +904,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          engine-hash: ${{ inputs.engineHash }}
           skip-tsc: true
 
       - run: pnpm run test
@@ -1011,6 +1029,7 @@ jobs:
         uses: ./.github/actions/setup
         with:
           node-version: ${{ matrix.node }}
+          engine-hash: ${{ inputs.engineHash }}
           pnpm-version: ${{ inputs.pnpmVersion }}
           skip-tsc: true
 
@@ -1086,6 +1105,7 @@ jobs:
         with:
           node-version: ${{ matrix.node }}
           pnpm-version: ${{ inputs.pnpmVersion }}
+          engine-hash: ${{ inputs.engineHash }}
           # Fails if set to true
           skip-tsc: false
 
",True,False,False,False,False,True,False
prisma,Serhii Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,75d19fc01f1b1659e9cb28f5329709748e3d8aa0,f0d48d0135993c93a5fc2c38476b9821489f5bf4,2023-12-01 11:42:23+01:00,"ci: Allow to use custom engine branch in client tests (#21891)

* ci: Allow to test client with a custom engine branch

* Skip client tests that fail with custom engine

* Skip failing tests in internals

* Skip failing cli tests

* Skip fetch-engines tests

* Fix exhaustive schema test

* Actually fix things

* Fix custom-binary test

* Fix binary

* Ignore studio test

* Add some decorations

* Wording

* Cosmetics

* Skip get-generators test

* Add lock

* Use gh for body

* Define body outside of bash

* Debug and safety

* Update snapshots

* Debug

* Fix Win

* Undebug at set docs

* Sigh

* Sigh v2

* Sigh v3

* test

* More snapshot update",23,5.7.0,test.yml,MODIFY,54,1,,21891,SevInf,User,CONTRIBUTOR,jkomyno,User,2023-11-10T14:31:02Z,2023-12-01T10:42:24Z,closed,topic: tech debt,SevInf,User,"Allows to use engine from a branch in engines repo without.

How does it work: if body of the PR contains `[slash]engine-branch [branch]` command, before running TS tests we'll pull in specified branch, build the engine for linux, mac and windows and set up environment variables to point to those versions instead of the ones installed from `npm`.

Build is cached, so unless engine branch receives new commits, engines won't be rebuilt on subsequent runs. Cargo dependencies are cached separately, so even if there is new commit, but `Cargo.lock` did not change, future build will be faster.  In worst possible case, engine build takes around 20min, but because of caches it is usually faster.

Number of tests are skipped if custom engine is used: for the most part, they expect to find engine at a certain path or expect certain version output. However, there is at least one actual bug (#21926).

If custom engine is used, separate failed status check and a comment on PR with reminder to remove the command before merging will be added. For people with admin permissions: it might be a good idea to add this check to required checcks in branch protection rules.

Some caveats: custom branch does not work for benchmark workflow at the moment. For it to work, we'll need to merge it with `test` or `test-template` workflows and I am not sure we want to do this now.

Close prisma/team-orm#538
/engine-branch test-client-ci",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/75d19fc_test.yml,../Mining/generated/scripts/prisma/files_src_after/75d19fc_test.yml,0.41379310344827586,1.0,1.0,"@@ -103,11 +103,64 @@ jobs:
           inputs: '{ ""forceIntegrationRelease"": ""true"" }'
           ref: ${{ github.event.pull_request.head.ref }}
 
+  build_custom_engine:
+    name: Build custom engine
+    needs: detect_jobs_to_run
+    uses: ./.github/workflows/build-engine-branch.yml
+
+  check_custom_engine:
+    name: Block merge if custom engine is used
+    needs: build_custom_engine
+    runs-on: ubuntu-latest
+    steps:
+      - name: Find past custom engine comment
+        uses: peter-evans/find-comment@v2
+        id: findEngineComment
+        with:
+          issue-number: ${{ github.event.pull_request.number }}
+          body-includes: '<!-- custom-engine -->'
+      - name: Create or update comment (block)
+        uses: peter-evans/create-or-update-comment@v3
+        if: ${{ needs.build_custom_engine.outputs.engineHash != '' }}
+        with:
+          comment-id: ${{ steps.findEngineComment.outputs.comment-id }}
+          issue-number: ${{ github.event.pull_request.number }}
+          body: |
+            <!-- custom-engine -->
+            🔴 **CUSTOM ENGINE IS USED**
+            This PR is using custom engine: 
+              
+            Branch: [`${{ needs.build_custom_engine.outputs.branchName }}`](https://github.com/prisma/prisma-engines/tree/${{ needs.build_custom_engine.outputs.branchName }})
+            Commit: [`${{ needs.build_custom_engine.outputs.engineHash }}`](https://github.com/prisma/prisma-engines/commit/${{ needs.build_custom_engine.outputs.engineHash }}).
+
+            Don't forget to remove `/engine-branch` command from PR body and re-run the tests with default engine before merging.
+          edit-mode: replace
+
+      - name: Create or update comment (clear)
+        uses: peter-evans/create-or-update-comment@v3
+        if: ${{ steps.findEngineComment.outputs.comment-id != '' && needs.build_custom_engine.outputs.engineHash == '' }}
+        with:
+          comment-id: ${{ steps.findEngineComment.outputs.comment-id }}
+          issue-number: ${{ github.event.pull_request.number }}
+          body: |
+            <!-- custom-engine -->
+            🟢 All good, this PR is no longer uses custom engine.
+          edit-mode: replace
+      - name: Block merge
+        if: ${{ needs.build_custom_engine.outputs.engineHash != '' }}
+        run: |
+          echo ""Custom engine is used, failing the job""
+          echo ""Don't forget to remove /engine-branch command from PR body before merge""
+          exit 1
+
   run_tests:
     name: Tests
-    needs: detect_jobs_to_run
+    needs:
+      - detect_jobs_to_run
+      - build_custom_engine
     uses: ./.github/workflows/test-template.yml
     with:
       jobsToRun: ${{ needs.detect_jobs_to_run.outputs.jobs }}
       queryEngine: ${{ needs.detect_jobs_to_run.outputs.queryEngine }}
+      engineHash: ${{ needs.build_custom_engine.outputs.engineHash }}
     secrets: inherit
",True,False,False,False,False,True,True
prisma,Serhii Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,1365a928d6c4422e94949b97acf40e50eadc09f9,75d19fc01f1b1659e9cb28f5329709748e3d8aa0,2023-12-01 12:32:44+01:00,"ci: Change func/legacy job name to func & legacy (#22189)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",1,5.7.0,test-template.yml,MODIFY,1,1,,22189,SevInf,User,CONTRIBUTOR,Jolg42,User,2023-12-01T11:20:18Z,2023-12-01T11:32:44Z,closed,,,,"Slash confuses me every time, my brain just reads it as ""legacy
functional tests"" and then I spend next couple of minute trying to find
modern ones.
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/1365a92_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/1365a92_test-template.yml,None,None,None,"@@ -107,7 +107,7 @@ jobs:
   # CLIENT (functional and legacy tests without types test)
   #
   client:
-    name: Client func/legacy-notypes
+    name: Client func&legacy-notypes
     timeout-minutes: ${{ inputs.jobTimeout }}
     runs-on: ubuntu-latest
 
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,abf30976c8c27161b4e9267cfb96c25f69b957d3,f97d4190f7c3ee22b85e82aeff871181e502f3a0,2023-12-04 10:12:32+01:00,"chore(deps): update codspeedhq/action action to v2 (#22208)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",1,,benchmark.yml,MODIFY,1,1,,22208,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-12-02T00:15:50Z,2023-12-04T09:12:32Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [CodSpeedHQ/action](https://togithub.com/CodSpeedHQ/action) | action | major | `v1` -> `v2` |

---

### Release Notes

<details>
<summary>CodSpeedHQ/action (CodSpeedHQ/action)</summary>

### [`v2`](https://togithub.com/CodSpeedHQ/action/compare/v1...v2)

[Compare Source](https://togithub.com/CodSpeedHQ/action/compare/v1...v2)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy41OS44IiwidXBkYXRlZEluVmVyIjoiMzcuODEuMyIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/abf3097_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/abf3097_benchmark.yml,None,None,None,"@@ -84,7 +84,7 @@ jobs:
           alert-comment-cc-users: '@Jolg42,@millsp,@aqrln,@SevInf,@jkomyno'
 
       - name: Run benchmarks for Codspeed
-        uses: CodSpeedHQ/action@v1
+        uses: CodSpeedHQ/action@v2
         with:
           run: pnpm run bench-stdout-only
           token: ${{ secrets.CODSPEED_TOKEN }}
",True,False,False,False,False,True,True
prisma,Alexey Orlenko,User,alex@aqrln.net,GitHub,User,noreply@github.com,1e512a055edbe55dbc9c13347f710ccda1cdea4d,708a333586eaa4d5e73d55f8e2e7b5dd0b5873f0,2023-12-04 10:22:52+01:00,ci: automatically update `@prisma/query-engine-wasm` (#22200),1,5.7.0,update-engines-version.yml,MODIFY,18,0,,22200,aqrln,User,MEMBER,Jolg42,User,2023-12-01T18:22:37Z,2023-12-04T09:22:53Z,closed,,aqrln,User,"The previous PR changed only the `bump-engines` script but it's not
actually used by @prisma-bot. This PR updates the workflow as well.
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/1e512a0_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/1e512a0_update-engines-version.yml,None,None,None,"@@ -51,6 +51,12 @@ jobs:
           echo 'Checking that @prisma/prisma-schema-wasm have the published version @${{ github.event.inputs.version }}'
           pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/prisma-schema-wasm -u ${{ github.event.inputs.version }}
 
+      # Note: @prisma/query-engine-wasm might take a few minutes before it's available too
+      - name: Check if version of @prisma/query-engine-wasm is available on npm
+        run: |
+          echo 'Checking that @prisma/query-engine-wasm have the published version @${{ github.event.inputs.version }}'
+          pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/query-engine-wasm -u ${{ github.event.inputs.version }}
+
       - name: Update the dependencies (@prisma/engines-version)
         uses: nick-fields/retry@v2
         with:
@@ -69,6 +75,15 @@ jobs:
             echo 'Updating @prisma/prisma-schema-wasm to ${{ github.event.inputs.version }} using pnpm'
             pnpm update -r @prisma/prisma-schema-wasm@${{ github.event.inputs.version }}
 
+      - name: Update the dependencies (@prisma/query-engine-wasm)
+        uses: nick-fields/retry@v2
+        with:
+          timeout_minutes: 7
+          max_attempts: 3
+          command: |
+            echo 'Updating @prisma/query-engine-wasm to ${{ github.event.inputs.version }} using pnpm'
+            pnpm update -r @prisma/query-engine-wasm@${{ github.event.inputs.version }}
+
       - name: Extract Engine Commit hash from version
         id: extract-engine-commit-hash
         uses: actions/github-script@v7
@@ -104,6 +119,7 @@ jobs:
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
             |`@prisma/prisma-schema-wasm`| https://npmjs.com/package/@prisma/prisma-schema-wasm/v/${{ github.event.inputs.version }}|
+            |`@prisma/query-engine-wasm`| https://npmjs.com/package/@prisma/query-engine-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
       - name: PR url
@@ -149,6 +165,7 @@ jobs:
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
             |`@prisma/prisma-schema-wasm`| https://npmjs.com/package/@prisma/prisma-schema-wasm/v/${{ github.event.inputs.version }}|
+            |`@prisma/query-engine-wasm`| https://npmjs.com/package/@prisma/query-engine-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
       - name: PR url
@@ -190,6 +207,7 @@ jobs:
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
             |`@prisma/prisma-schema-wasm`| https://npmjs.com/package/@prisma/prisma-schema-wasm/v/${{ github.event.inputs.version }}|
+            |`@prisma/query-engine-wasm`| https://npmjs.com/package/@prisma/query-engine-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
       - name: PR url
",True,False,False,False,False,True,True
prisma,Alexey Orlenko,User,alex@aqrln.net,GitHub,User,noreply@github.com,dceda0b33df211d9df04d01caf396c2b93f4a0f2,e664c1a3cc4e0abdcb0083b9432214177de712a1,2023-12-04 14:39:07+01:00,"Revert ""ci: automatically update `@prisma/query-engine-wasm` (#22200)"" (#22235)

This reverts commit 1e512a055edbe55dbc9c13347f710ccda1cdea4d.",1,5.7.0,update-engines-version.yml,MODIFY,0,18,,"22200,22235",aqrln,User,MEMBER,Jolg42,User,2023-12-01T18:22:37Z,2023-12-04T09:22:53Z,closed,,aqrln,User,"The previous PR changed only the `bump-engines` script but it's not
actually used by @prisma-bot. This PR updates the workflow as well.
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/dceda0b_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/dceda0b_update-engines-version.yml,None,None,None,"@@ -51,12 +51,6 @@ jobs:
           echo 'Checking that @prisma/prisma-schema-wasm have the published version @${{ github.event.inputs.version }}'
           pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/prisma-schema-wasm -u ${{ github.event.inputs.version }}
 
-      # Note: @prisma/query-engine-wasm might take a few minutes before it's available too
-      - name: Check if version of @prisma/query-engine-wasm is available on npm
-        run: |
-          echo 'Checking that @prisma/query-engine-wasm have the published version @${{ github.event.inputs.version }}'
-          pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/query-engine-wasm -u ${{ github.event.inputs.version }}
-
       - name: Update the dependencies (@prisma/engines-version)
         uses: nick-fields/retry@v2
         with:
@@ -75,15 +69,6 @@ jobs:
             echo 'Updating @prisma/prisma-schema-wasm to ${{ github.event.inputs.version }} using pnpm'
             pnpm update -r @prisma/prisma-schema-wasm@${{ github.event.inputs.version }}
 
-      - name: Update the dependencies (@prisma/query-engine-wasm)
-        uses: nick-fields/retry@v2
-        with:
-          timeout_minutes: 7
-          max_attempts: 3
-          command: |
-            echo 'Updating @prisma/query-engine-wasm to ${{ github.event.inputs.version }} using pnpm'
-            pnpm update -r @prisma/query-engine-wasm@${{ github.event.inputs.version }}
-
       - name: Extract Engine Commit hash from version
         id: extract-engine-commit-hash
         uses: actions/github-script@v7
@@ -119,7 +104,6 @@ jobs:
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
             |`@prisma/prisma-schema-wasm`| https://npmjs.com/package/@prisma/prisma-schema-wasm/v/${{ github.event.inputs.version }}|
-            |`@prisma/query-engine-wasm`| https://npmjs.com/package/@prisma/query-engine-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
       - name: PR url
@@ -165,7 +149,6 @@ jobs:
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
             |`@prisma/prisma-schema-wasm`| https://npmjs.com/package/@prisma/prisma-schema-wasm/v/${{ github.event.inputs.version }}|
-            |`@prisma/query-engine-wasm`| https://npmjs.com/package/@prisma/query-engine-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
       - name: PR url
@@ -207,7 +190,6 @@ jobs:
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
             |`@prisma/prisma-schema-wasm`| https://npmjs.com/package/@prisma/prisma-schema-wasm/v/${{ github.event.inputs.version }}|
-            |`@prisma/query-engine-wasm`| https://npmjs.com/package/@prisma/query-engine-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
       - name: PR url
",True,False,False,False,False,True,True
prisma,Alexey Orlenko,User,alex@aqrln.net,GitHub,User,noreply@github.com,dceda0b33df211d9df04d01caf396c2b93f4a0f2,e664c1a3cc4e0abdcb0083b9432214177de712a1,2023-12-04 14:39:07+01:00,"Revert ""ci: automatically update `@prisma/query-engine-wasm` (#22200)"" (#22235)

This reverts commit 1e512a055edbe55dbc9c13347f710ccda1cdea4d.",1,5.7.0,update-engines-version.yml,MODIFY,0,18,,"22200,22235",aqrln,User,MEMBER,jkomyno,User,2023-12-04T13:23:26Z,2023-12-04T13:39:07Z,closed,,aqrln,User,"Revert prisma/prisma#22200 for now, we’ll decide if we even need this before the vertical slice branch is merged after the release.",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/dceda0b_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/dceda0b_update-engines-version.yml,None,None,None,"@@ -51,12 +51,6 @@ jobs:
           echo 'Checking that @prisma/prisma-schema-wasm have the published version @${{ github.event.inputs.version }}'
           pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/prisma-schema-wasm -u ${{ github.event.inputs.version }}
 
-      # Note: @prisma/query-engine-wasm might take a few minutes before it's available too
-      - name: Check if version of @prisma/query-engine-wasm is available on npm
-        run: |
-          echo 'Checking that @prisma/query-engine-wasm have the published version @${{ github.event.inputs.version }}'
-          pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/query-engine-wasm -u ${{ github.event.inputs.version }}
-
       - name: Update the dependencies (@prisma/engines-version)
         uses: nick-fields/retry@v2
         with:
@@ -75,15 +69,6 @@ jobs:
             echo 'Updating @prisma/prisma-schema-wasm to ${{ github.event.inputs.version }} using pnpm'
             pnpm update -r @prisma/prisma-schema-wasm@${{ github.event.inputs.version }}
 
-      - name: Update the dependencies (@prisma/query-engine-wasm)
-        uses: nick-fields/retry@v2
-        with:
-          timeout_minutes: 7
-          max_attempts: 3
-          command: |
-            echo 'Updating @prisma/query-engine-wasm to ${{ github.event.inputs.version }} using pnpm'
-            pnpm update -r @prisma/query-engine-wasm@${{ github.event.inputs.version }}
-
       - name: Extract Engine Commit hash from version
         id: extract-engine-commit-hash
         uses: actions/github-script@v7
@@ -119,7 +104,6 @@ jobs:
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
             |`@prisma/prisma-schema-wasm`| https://npmjs.com/package/@prisma/prisma-schema-wasm/v/${{ github.event.inputs.version }}|
-            |`@prisma/query-engine-wasm`| https://npmjs.com/package/@prisma/query-engine-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
       - name: PR url
@@ -165,7 +149,6 @@ jobs:
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
             |`@prisma/prisma-schema-wasm`| https://npmjs.com/package/@prisma/prisma-schema-wasm/v/${{ github.event.inputs.version }}|
-            |`@prisma/query-engine-wasm`| https://npmjs.com/package/@prisma/query-engine-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
       - name: PR url
@@ -207,7 +190,6 @@ jobs:
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
             |`@prisma/prisma-schema-wasm`| https://npmjs.com/package/@prisma/prisma-schema-wasm/v/${{ github.event.inputs.version }}|
-            |`@prisma/query-engine-wasm`| https://npmjs.com/package/@prisma/query-engine-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
       - name: PR url
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,60943294f0eef1295f3a3e2bf43b72e3e53448ce,4c493a17d3852ad9cdc30f237577cf881c661181,2023-12-04 15:30:06+01:00,"ci: disable ""find past custom engine comment"" outside of PRs (#22210)",1,5.7.0,test.yml,MODIFY,1,0,,22210,millsp,User,MEMBER,Jolg42,User,2023-12-02T01:40:58Z,2023-12-04T14:30:06Z,closed,,millsp,User,Fixes this kind of failures on main https://github.com/prisma/prisma/actions/runs/7064508297/job/19232697044,../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/6094329_test.yml,../Mining/generated/scripts/prisma/files_src_after/6094329_test.yml,None,None,None,"@@ -116,6 +116,7 @@ jobs:
       - name: Find past custom engine comment
         uses: peter-evans/find-comment@v2
         id: findEngineComment
+        if: ${{ github.event_name == 'pull_request' }}
         with:
           issue-number: ${{ github.event.pull_request.number }}
           body-includes: '<!-- custom-engine -->'
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,363e02834c92282365472cec386343e4fef4090f,02289a5b5d3247d9295fe31200006b543b7aa7d4,2023-12-04 09:33:09-10:00,test(client): add --preview-features to test setup CLI (#22246),9,5.7.0,test-template.yml,MODIFY,1,1,,22246,millsp,User,MEMBER,millsp,User,2023-12-04T17:37:20Z,2023-12-04T19:33:10Z,closed,,millsp,User,"Makes it possible to automatically inject any test schema with a specific list of preview features.

For example, you could run it like this:

```pnpm run test:functional --provider postgresql --preview-features distinctOn```

The preview features are passed in one go and are comma separated:

```pnpm run test:functional --preview-features superFeature,amazingFeature,coolFeature```
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/363e028_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/363e028_test-template.yml,None,1.0,None,"@@ -316,7 +316,7 @@ jobs:
           engine-hash: ${{ inputs.engineHash }}
           skip-tsc: false
 
-      - run: pnpm run test:functional --flavor ${{ matrix.flavor }} --shard ${{ matrix.shard }} --engine-type ${{ matrix.engine-type }} --runInBand
+      - run: pnpm run test:functional --flavor ${{ matrix.flavor }} --shard ${{ matrix.shard }} --engine-type ${{ matrix.engine-type }} --preview-features driverAdapters --runInBand
         working-directory: packages/client
         env:
           PRISMA_DISABLE_QUAINT_EXECUTORS: true, # ensures quaint runs no queries
",True,False,False,False,False,True,False
prisma,Alexey Orlenko,User,alex@aqrln.net,GitHub,User,noreply@github.com,7eb980012f32d53ab7963dbb6d7c7564694da846,ae47208b9852b3b50e6d399a076f61922fd64ff5,2023-12-05 10:33:38-10:00,"feat(client): integrate relation joins (#22243)

Co-authored-by: Flavian Desverne <flavian.dsv@gmail.com>
Co-authored-by: Pierre-Antoine Mills <pierreantoine.urvoy@gmail.com>",12,5.7.0,test-template.yml,MODIFY,8,2,,22243,aqrln,User,MEMBER,millsp,User,2023-12-04T15:54:42Z,2023-12-05T20:33:39Z,closed,,aqrln,User,Integration PR for https://github.com/prisma/prisma-engines/pull/4509,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/7eb9800_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/7eb9800_test-template.yml,0.19230769230769232,0.0,1.0,"@@ -119,6 +119,7 @@ jobs:
         shard: ['1/5', '2/5', '3/5', '4/5', '5/5']
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
         node: [16, 18, 20]
+        previewFeatures: ['', 'relationJoins']
 
     env:
       NODE_OPTIONS: '--max-old-space-size=8096'
@@ -165,7 +166,7 @@ jobs:
           skip-tsc: false
 
       # Run the functional test suite
-      - run: pnpm run test:functional --silent --shard ${{ matrix.shard }} --engine-type ${{ matrix.queryEngine }}
+      - run: pnpm run test:functional --silent --shard ${{ matrix.shard }} --engine-type ${{ matrix.queryEngine }} --preview-features ""${{ matrix.previewFeatures }}""
         if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
         working-directory: packages/client
       # And run  all the other tests (except the types tests)
@@ -286,6 +287,11 @@ jobs:
         flavor: ['js_pg', 'js_neon', 'js_libsql', 'js_planetscale']
         shard: ['1/6', '2/6', '3/6', '4/6', '5/6', '6/6']
         node: [20] #[16, 18, 20]
+        previewFeatures: ['driverAdapters', 'driverAdapters,relationJoins']
+        exclude:
+          # Exclude relationJoins tests with WASM because the WASM engine does not include the necessary changes yet.
+          - engine-type: 'wasm'
+            previewFeatures: 'driverAdapters,relationJoins'
 
     steps:
       - uses: actions/checkout@v4
@@ -316,7 +322,7 @@ jobs:
           engine-hash: ${{ inputs.engineHash }}
           skip-tsc: false
 
-      - run: pnpm run test:functional --flavor ${{ matrix.flavor }} --shard ${{ matrix.shard }} --engine-type ${{ matrix.engine-type }} --preview-features driverAdapters --runInBand
+      - run: pnpm run test:functional --flavor ${{ matrix.flavor }} --shard ${{ matrix.shard }} --engine-type ${{ matrix.engine-type }} --preview-features ${{ matrix.previewFeatures }} --runInBand
         working-directory: packages/client
         env:
           PRISMA_DISABLE_QUAINT_EXECUTORS: true, # ensures quaint runs no queries
",True,False,False,False,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,9df13022aaeac7d3125ad9ead94050517f07a147,c0a4ed2ebd51fa46cb32a882da1dc69e988f3496,2023-12-07 04:30:51-10:00,"ci: always run e2e tests (#22289)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",2,5.8.0,test-template.yml,MODIFY,5,2,,22289,millsp,User,MEMBER,millsp,User,2023-12-06T17:11:19Z,2023-12-07T14:30:52Z,closed,,millsp,User,"As @aqrln mentioned, pointed out to me in a DM, `client-e2e` depend on all the workspace packages, and we had some false positives because of our test skipping logic on CI. This then enables `e2e-tests` to always be run.",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/9df1302_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/9df1302_test-template.yml,0.0,0.0,1.0,"@@ -462,13 +462,16 @@ jobs:
     timeout-minutes: 35
     runs-on: ${{ matrix.os }}
 
-    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
+    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-e2e-') }}
 
     strategy:
       fail-fast: false
       matrix:
         os: [ubuntu-latest]
-        node: [16]
+        # The Node.js version here is only used for the GitHub Actions job
+        # The version used by the tests is actually defined in
+        # ./packages/client/tests/e2e/_utils/standard.dockerfile
+        node: [20]
 
     steps:
       - uses: actions/checkout@v4
",True,False,False,False,False,True,False
prisma,Alexey Orlenko,User,alex@aqrln.net,GitHub,User,noreply@github.com,c11cdb89754e6bd7dc72f5d52240e355b0a3f73d,2e768b5d064afc5343f93d2bd41600ad22bc840b,2023-12-08 20:30:00+01:00,ci: automatically update `@prisma/query-engine-wasm` (#22237),1,5.8.0,update-engines-version.yml,MODIFY,18,0,,22237,aqrln,User,MEMBER,janpio,User,2023-12-04T13:50:55Z,2023-12-08T19:30:01Z,closed,topic: early access ⏱,aqrln,User,"Reverts prisma/prisma#22235, re-applies https://github.com/prisma/prisma/pull/22200.

Merge after the vertical slice branch is merged on the engine side.",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/c11cdb8_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/c11cdb8_update-engines-version.yml,None,None,None,"@@ -51,6 +51,12 @@ jobs:
           echo 'Checking that @prisma/prisma-schema-wasm have the published version @${{ github.event.inputs.version }}'
           pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/prisma-schema-wasm -u ${{ github.event.inputs.version }}
 
+      # Note: @prisma/query-engine-wasm might take a few minutes before it's available too
+      - name: Check if version of @prisma/query-engine-wasm is available on npm
+        run: |
+          echo 'Checking that @prisma/query-engine-wasm have the published version @${{ github.event.inputs.version }}'
+          pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/query-engine-wasm -u ${{ github.event.inputs.version }}
+
       - name: Update the dependencies (@prisma/engines-version)
         uses: nick-fields/retry@v2
         with:
@@ -69,6 +75,15 @@ jobs:
             echo 'Updating @prisma/prisma-schema-wasm to ${{ github.event.inputs.version }} using pnpm'
             pnpm update -r @prisma/prisma-schema-wasm@${{ github.event.inputs.version }}
 
+      - name: Update the dependencies (@prisma/query-engine-wasm)
+        uses: nick-fields/retry@v2
+        with:
+          timeout_minutes: 7
+          max_attempts: 3
+          command: |
+            echo 'Updating @prisma/query-engine-wasm to ${{ github.event.inputs.version }} using pnpm'
+            pnpm update -r @prisma/query-engine-wasm@${{ github.event.inputs.version }}
+
       - name: Extract Engine Commit hash from version
         id: extract-engine-commit-hash
         uses: actions/github-script@v7
@@ -104,6 +119,7 @@ jobs:
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
             |`@prisma/prisma-schema-wasm`| https://npmjs.com/package/@prisma/prisma-schema-wasm/v/${{ github.event.inputs.version }}|
+            |`@prisma/query-engine-wasm`| https://npmjs.com/package/@prisma/query-engine-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
       - name: PR url
@@ -149,6 +165,7 @@ jobs:
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
             |`@prisma/prisma-schema-wasm`| https://npmjs.com/package/@prisma/prisma-schema-wasm/v/${{ github.event.inputs.version }}|
+            |`@prisma/query-engine-wasm`| https://npmjs.com/package/@prisma/query-engine-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
       - name: PR url
@@ -190,6 +207,7 @@ jobs:
             |---------|---------|
             |`@prisma/engines-version`| https://npmjs.com/package/@prisma/engines-version/v/${{ github.event.inputs.version }}|
             |`@prisma/prisma-schema-wasm`| https://npmjs.com/package/@prisma/prisma-schema-wasm/v/${{ github.event.inputs.version }}|
+            |`@prisma/query-engine-wasm`| https://npmjs.com/package/@prisma/query-engine-wasm/v/${{ github.event.inputs.version }}|
             ## Engines commit
             [`prisma/prisma-engines@${{ steps.extract-engine-commit-hash.outputs.hash }}`](https://github.com/prisma/prisma-engines/commit/${{ steps.extract-engine-commit-hash.outputs.hash }})
       - name: PR url
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,073805f95dbefd182aaced69689eeac42245ac29,2e9cffc2de4891424793d2c48183bbf294c1e758,2023-12-16 00:11:51+01:00,ci: add linting of GitHub Actions workflows (#22427),14,5.8.0,benchmark.yml,MODIFY,2,2,,22427,Jolg42,User,MEMBER,Jolg42,User,2023-12-15T12:50:13Z,2023-12-15T23:11:52Z,closed,,Jolg42,User,"See https://github.com/rhysd/actionlint

- I made it to only run for Pull Requests
- I fixed all the issues
- Some changes are simplifications and were not strictly required (e.g. some removed `${{ }}` for conditions)

Example run
https://github.com/prisma/prisma/actions/runs/7222256375/job/19678892228?pr=22427
",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/073805f_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/073805f_benchmark.yml,None,None,None,"@@ -60,7 +60,7 @@ jobs:
       - name: Install & build
         uses: ./.github/actions/setup
         with:
-          node-version: ${{ matrix.node }}
+          node-version: 20
           pnpm-version: 8
           skip-tsc: false
 
@@ -93,7 +93,7 @@ jobs:
 
       - name: 'Set current job url in SLACK_FOOTER env var'
         if: ${{ failure() && github.ref == 'refs/heads/main' }}
-        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> ""$GITHUB_ENV""
 
       - name: Slack Notification on Failure
         if: ${{ failure() && github.ref == 'refs/heads/main' }}
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,073805f95dbefd182aaced69689eeac42245ac29,2e9cffc2de4891424793d2c48183bbf294c1e758,2023-12-16 00:11:51+01:00,ci: add linting of GitHub Actions workflows (#22427),14,5.8.0,build-engine-branch.yml,MODIFY,5,5,,22427,Jolg42,User,MEMBER,Jolg42,User,2023-12-15T12:50:13Z,2023-12-15T23:11:52Z,closed,,Jolg42,User,"See https://github.com/rhysd/actionlint

- I made it to only run for Pull Requests
- I fixed all the issues
- Some changes are simplifications and were not strictly required (e.g. some removed `${{ }}` for conditions)

Example run
https://github.com/prisma/prisma/actions/runs/7222256375/job/19678892228?pr=22427
",../Mining/generated/scripts/prisma/current_code/build-engine-branch.yml,../Mining/generated/scripts/prisma/files_src_before/073805f_build-engine-branch.yml,../Mining/generated/scripts/prisma/files_src_after/073805f_build-engine-branch.yml,None,None,None,"@@ -18,17 +18,17 @@ jobs:
     steps:
       - name: Extract custom engine branch name from PR body
         id: detectCustomEngineBranch
+        env:
+          PR_BODY: ${{ github.event.pull_request.body }}
         if: |
           github.event_name == 'pull_request' &&
-          contains(github.event.pull_request.body, '/engine-branch') &&
+          contains(env.PR_BODY, '/engine-branch') &&
           (
             github.event.pull_request.author_association == 'OWNER' ||
             github.event.pull_request.author_association == 'MEMBER' ||
             github.event.pull_request.author_association == 'COLLABORATOR' ||
             github.event.pull_request.author_association == 'CONTRIBUTOR'
           )
-        env:
-          PR_BODY: ${{ github.event.pull_request.body }}
         run: |
           BRANCH_NAME=$(echo ""$PR_BODY"" | grep -o '/engine-branch \S*' | awk '{print $2}')
           if [ -z ""$BRANCH_NAME"" ]; then
@@ -37,7 +37,7 @@ jobs:
           fi
 
           echo ""Requested custom engine from branch: $BRANCH_NAME""
-          echo ""branchName=$BRANCH_NAME"" >> $GITHUB_OUTPUT
+          echo ""branchName=$BRANCH_NAME"" >> ""$GITHUB_OUTPUT""
 
   build:
     name: Build
@@ -57,7 +57,7 @@ jobs:
       - name: Get current engine hash
         id: engine-hash
         shell: bash
-        run: echo ""engineHash=$(git rev-parse HEAD)"" >> $GITHUB_OUTPUT
+        run: echo ""engineHash=$(git rev-parse HEAD)"" >> ""$GITHUB_OUTPUT""
 
       - uses: actions/cache@v3
         name: Artifacts cache
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,073805f95dbefd182aaced69689eeac42245ac29,2e9cffc2de4891424793d2c48183bbf294c1e758,2023-12-16 00:11:51+01:00,ci: add linting of GitHub Actions workflows (#22427),14,5.8.0,codeql-analysis.yml,MODIFY,1,1,,22427,Jolg42,User,MEMBER,Jolg42,User,2023-12-15T12:50:13Z,2023-12-15T23:11:52Z,closed,,Jolg42,User,"See https://github.com/rhysd/actionlint

- I made it to only run for Pull Requests
- I fixed all the issues
- Some changes are simplifications and were not strictly required (e.g. some removed `${{ }}` for conditions)

Example run
https://github.com/prisma/prisma/actions/runs/7222256375/job/19678892228?pr=22427
",../Mining/generated/scripts/prisma/current_code/codeql-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/073805f_codeql-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/073805f_codeql-analysis.yml,None,None,None,"@@ -48,7 +48,7 @@ jobs:
 
       - name: 'Set current job url in SLACK_FOOTER env var'
         if: ${{ failure() }}
-        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> ""$GITHUB_ENV""
 
       - name: Slack Notification on Failure
         if: ${{ failure() }}
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,073805f95dbefd182aaced69689eeac42245ac29,2e9cffc2de4891424793d2c48183bbf294c1e758,2023-12-16 00:11:51+01:00,ci: add linting of GitHub Actions workflows (#22427),14,5.8.0,daily-test.yml,MODIFY,1,1,,22427,Jolg42,User,MEMBER,Jolg42,User,2023-12-15T12:50:13Z,2023-12-15T23:11:52Z,closed,,Jolg42,User,"See https://github.com/rhysd/actionlint

- I made it to only run for Pull Requests
- I fixed all the issues
- Some changes are simplifications and were not strictly required (e.g. some removed `${{ }}` for conditions)

Example run
https://github.com/prisma/prisma/actions/runs/7222256375/job/19678892228?pr=22427
",../Mining/generated/scripts/prisma/current_code/daily-test.yml,../Mining/generated/scripts/prisma/files_src_before/073805f_daily-test.yml,../Mining/generated/scripts/prisma/files_src_after/073805f_daily-test.yml,None,None,None,"@@ -22,7 +22,7 @@ jobs:
     runs-on: ubuntu-latest
     steps:
       - name: Set current job url in SLACK_FOOTER env var
-        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> ""$GITHUB_ENV""
 
       - name: Slack Notification on Failure
         uses: rtCamp/action-slack-notify@v2.2.1
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,073805f95dbefd182aaced69689eeac42245ac29,2e9cffc2de4891424793d2c48183bbf294c1e758,2023-12-16 00:11:51+01:00,ci: add linting of GitHub Actions workflows (#22427),14,5.8.0,label-stale-issues.yml,MODIFY,1,1,,22427,Jolg42,User,MEMBER,Jolg42,User,2023-12-15T12:50:13Z,2023-12-15T23:11:52Z,closed,,Jolg42,User,"See https://github.com/rhysd/actionlint

- I made it to only run for Pull Requests
- I fixed all the issues
- Some changes are simplifications and were not strictly required (e.g. some removed `${{ }}` for conditions)

Example run
https://github.com/prisma/prisma/actions/runs/7222256375/job/19678892228?pr=22427
",../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/073805f_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/073805f_label-stale-issues.yml,None,None,None,"@@ -23,7 +23,7 @@ jobs:
 
       - name: 'Set current job url in SLACK_FOOTER env var'
         if: ${{ failure() }}
-        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> ""$GITHUB_ENV""
 
       - name: Slack Notification on Failure
         if: ${{ failure() }}
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,073805f95dbefd182aaced69689eeac42245ac29,2e9cffc2de4891424793d2c48183bbf294c1e758,2023-12-16 00:11:51+01:00,ci: add linting of GitHub Actions workflows (#22427),14,5.8.0,lint-workflow-files.yml,ADD,16,0,,22427,Jolg42,User,MEMBER,Jolg42,User,2023-12-15T12:50:13Z,2023-12-15T23:11:52Z,closed,,Jolg42,User,"See https://github.com/rhysd/actionlint

- I made it to only run for Pull Requests
- I fixed all the issues
- Some changes are simplifications and were not strictly required (e.g. some removed `${{ }}` for conditions)

Example run
https://github.com/prisma/prisma/actions/runs/7222256375/job/19678892228?pr=22427
",../Mining/generated/scripts/prisma/current_code/lint-workflow-files.yml,../Mining/generated/scripts/prisma/files_src_before/073805f_lint-workflow-files.yml,../Mining/generated/scripts/prisma/files_src_after/073805f_lint-workflow-files.yml,None,None,None,"@@ -0,0 +1,16 @@
+name: Lint GitHub Actions workflows
+on:
+  pull_request:
+    paths:
+      - '.github/**'
+
+jobs:
+  actionlint:
+    runs-on: ubuntu-latest
+    steps:
+      - uses: actions/checkout@v4
+
+      # see https://github.com/rhysd/actionlint/blob/main/docs/usage.md
+      - name: Check workflow files
+        # https://hub.docker.com/r/rhysd/actionlint/tags
+        uses: docker://rhysd/actionlint:1.6.26
",False,False,False,False,False,False,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,073805f95dbefd182aaced69689eeac42245ac29,2e9cffc2de4891424793d2c48183bbf294c1e758,2023-12-16 00:11:51+01:00,ci: add linting of GitHub Actions workflows (#22427),14,5.8.0,release-ci.yml,MODIFY,7,5,,22427,Jolg42,User,MEMBER,Jolg42,User,2023-12-15T12:50:13Z,2023-12-15T23:11:52Z,closed,,Jolg42,User,"See https://github.com/rhysd/actionlint

- I made it to only run for Pull Requests
- I fixed all the issues
- Some changes are simplifications and were not strictly required (e.g. some removed `${{ }}` for conditions)

Example run
https://github.com/prisma/prisma/actions/runs/7222256375/job/19678892228?pr=22427
",../Mining/generated/scripts/prisma/current_code/release-ci.yml,../Mining/generated/scripts/prisma/files_src_before/073805f_release-ci.yml,../Mining/generated/scripts/prisma/files_src_after/073805f_release-ci.yml,None,None,None,"@@ -44,12 +44,14 @@ jobs:
       # required for publishing to npm with --provenance
       # see https://docs.npmjs.com/generating-provenance-statements
       id-token: write
+    outputs:
+      prismaVersion: ${{ steps.publish.outputs.prismaVersion }}
     steps:
       - name: Print input
         env:
           THE_INPUT: '${{ toJson(github.event.inputs) }}'
         run: |
-          echo $THE_INPUT
+          echo ""$THE_INPUT""
 
       - uses: actions/checkout@v4
 
@@ -84,7 +86,7 @@ jobs:
         env:
           THE_OUTPUT: '${{ toJson(steps.publish.outputs) }}'
         run: |
-          echo $THE_OUTPUT
+          echo ""$THE_OUTPUT""
 
       # TODO de-duplicate (currently duplicated in release-*.yml)
       # Docs https://octokit.github.io/rest.js/v20#git-create-tag
@@ -126,12 +128,12 @@ jobs:
     runs-on: ubuntu-latest
     steps:
       - name: Set current job url in SLACK_FOOTER env var
-        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> ""$GITHUB_ENV""
 
       - name: Slack Notification on Success
         uses: rtCamp/action-slack-notify@v2.2.1
         env:
-          SLACK_TITLE: 'prisma/prisma Release ${{ steps.publish.outputs.prismaVersion }} succeeded :white_check_mark:'
+          SLACK_TITLE: 'prisma/prisma Release ${{ needs.release.outputs.prismaVersion }} succeeded :white_check_mark:'
           SLACK_COLOR: '#55ff55'
           SLACK_WEBHOOK: ${{ secrets.SLACK_RELEASE_FEED_WEBHOOK }}
           SLACK_CHANNEL: feed-prisma-publish
@@ -144,7 +146,7 @@ jobs:
     runs-on: ubuntu-latest
     steps:
       - name: Set current job url in SLACK_FOOTER env var
-        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> ""$GITHUB_ENV""
 
       - name: Slack Notification on Failure
         uses: rtCamp/action-slack-notify@v2.2.1
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,073805f95dbefd182aaced69689eeac42245ac29,2e9cffc2de4891424793d2c48183bbf294c1e758,2023-12-16 00:11:51+01:00,ci: add linting of GitHub Actions workflows (#22427),14,5.8.0,release-latest.yml,MODIFY,7,5,,22427,Jolg42,User,MEMBER,Jolg42,User,2023-12-15T12:50:13Z,2023-12-15T23:11:52Z,closed,,Jolg42,User,"See https://github.com/rhysd/actionlint

- I made it to only run for Pull Requests
- I fixed all the issues
- Some changes are simplifications and were not strictly required (e.g. some removed `${{ }}` for conditions)

Example run
https://github.com/prisma/prisma/actions/runs/7222256375/job/19678892228?pr=22427
",../Mining/generated/scripts/prisma/current_code/release-latest.yml,../Mining/generated/scripts/prisma/files_src_before/073805f_release-latest.yml,../Mining/generated/scripts/prisma/files_src_after/073805f_release-latest.yml,None,None,None,"@@ -36,12 +36,14 @@ jobs:
       # required for publishing to npm with --provenance
       # see https://docs.npmjs.com/generating-provenance-statements
       id-token: write
+    outputs:
+      prismaVersion: ${{ steps.publish.outputs.prismaVersion }}
     steps:
       - name: Print input
         env:
           THE_INPUT: '${{ toJson(github.event.inputs) }}'
         run: |
-          echo $THE_INPUT
+          echo ""$THE_INPUT""
 
       - uses: actions/checkout@v4
 
@@ -81,7 +83,7 @@ jobs:
         env:
           THE_OUTPUT: '${{ toJson(steps.publish.outputs) }}'
         run: |
-          echo $THE_OUTPUT
+          echo ""$THE_OUTPUT""
 
       # TODO de-duplicate (currently duplicated in release-*.yml)
       # Docs https://octokit.github.io/rest.js/v20#git-create-tag
@@ -123,12 +125,12 @@ jobs:
     runs-on: ubuntu-latest
     steps:
       - name: Set current job url in SLACK_FOOTER env var
-        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> ""$GITHUB_ENV""
 
       - name: Slack Notification on Success
         uses: rtCamp/action-slack-notify@v2.2.1
         env:
-          SLACK_TITLE: 'prisma/prisma Release ${{ steps.publish.outputs.prismaVersion }} succeeded :white_check_mark:'
+          SLACK_TITLE: 'prisma/prisma Release ${{ needs.release.outputs.prismaVersion }} succeeded :white_check_mark:'
           SLACK_COLOR: '#55ff55'
           SLACK_WEBHOOK: ${{ secrets.SLACK_RELEASE_FEED_WEBHOOK }}
           SLACK_CHANNEL: feed-prisma-publish
@@ -141,7 +143,7 @@ jobs:
     runs-on: ubuntu-latest
     steps:
       - name: Set current job url in SLACK_FOOTER env var
-        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> ""$GITHUB_ENV""
 
       - name: Slack Notification on Failure
         uses: rtCamp/action-slack-notify@v2.2.1
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,073805f95dbefd182aaced69689eeac42245ac29,2e9cffc2de4891424793d2c48183bbf294c1e758,2023-12-16 00:11:51+01:00,ci: add linting of GitHub Actions workflows (#22427),14,5.8.0,test-template.yml,MODIFY,102,126,,22427,Jolg42,User,MEMBER,Jolg42,User,2023-12-15T12:50:13Z,2023-12-15T23:11:52Z,closed,,Jolg42,User,"See https://github.com/rhysd/actionlint

- I made it to only run for Pull Requests
- I fixed all the issues
- Some changes are simplifications and were not strictly required (e.g. some removed `${{ }}` for conditions)

Example run
https://github.com/prisma/prisma/actions/runs/7222256375/job/19678892228?pr=22427
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/073805f_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/073805f_test-template.yml,None,None,None,"@@ -78,7 +78,7 @@ jobs:
       - name: Install & build
         uses: ./.github/actions/setup
         with:
-          node-version: ${{ matrix.node }}
+          node-version: 20
           pnpm-version: ${{ inputs.pnpmVersion }}
           engine-hash: ${{ inputs.engineHash }}
           skip-tsc: false
@@ -110,9 +110,9 @@ jobs:
     name: Client func&legacy-notypes
     timeout-minutes: ${{ inputs.jobTimeout }}
     runs-on: ubuntu-latest
-
-    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
-
+    if: |
+      contains(inputs.jobsToRun, '-all-') || 
+      contains(inputs.jobsToRun, '-client-')
     strategy:
       fail-fast: false
       matrix:
@@ -120,12 +120,10 @@ jobs:
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
         node: [16, 18, 20]
         previewFeatures: ['', 'relationJoins']
-
     env:
       NODE_OPTIONS: '--max-old-space-size=8096'
       JEST_JUNIT_SUITE_NAME: 'client/functional'
       JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
     steps:
       - uses: actions/checkout@v4
 
@@ -142,11 +140,11 @@ jobs:
 
       - name: Set CLI Engine Type
         run: |
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> ""$GITHUB_ENV""
 
       - name: Set Client Engine Type
         run: |
-          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> ""$GITHUB_ENV""
 
       - name: Start Docker Compose Services
         uses: nick-fields/retry@v2
@@ -167,18 +165,22 @@ jobs:
 
       # Run the functional test suite
       - run: pnpm run test:functional --silent --shard ${{ matrix.shard }} --engine-type ${{ matrix.queryEngine }} --preview-features ""${{ matrix.previewFeatures }}""
-        if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
+        if: |
+          contains(inputs.jobsToRun, '-all-') || 
+          contains(inputs.jobsToRun, '-client-')
         working-directory: packages/client
       # And run  all the other tests (except the types tests)
       - run: pnpm run test-notypes --silent --shard ${{ matrix.shard }}
-        if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
+        if: |
+          contains(inputs.jobsToRun, '-all-') || 
+          contains(inputs.jobsToRun, '-client-')
         working-directory: packages/client
 
       - uses: codecov/codecov-action@v3
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
-          flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
-          name: client-${{ matrix.os }}-${{ matrix.queryEngine }}
+          flags: client,ubuntu,${{ matrix.queryEngine }}
+          name: client-ubuntu-${{ matrix.queryEngine }}
 
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where we have access to secrets.
@@ -199,15 +201,14 @@ jobs:
     name: Client (func/mini-proxy)
     timeout-minutes: ${{ inputs.jobTimeout }}
     runs-on: ubuntu-latest
-
-    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
-
+    if: |
+      contains(inputs.jobsToRun, '-all-') ||
+      contains(inputs.jobsToRun, '-client-')
     strategy:
       fail-fast: false
       matrix:
         shard: ['1/6', '2/6', '3/6', '4/6', '5/6', '6/6']
         node: [16, 18, 20]
-
     steps:
       - uses: actions/checkout@v4
 
@@ -255,8 +256,8 @@ jobs:
       - uses: codecov/codecov-action@v3
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
-          flags: client,${{ matrix.os }},dataproxy
-          name: client-${{ matrix.os }}-dataproxy
+          flags: client,ubuntu,dataproxy
+          name: client-ubuntu-dataproxy
 
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where we have access to secrets.
@@ -277,9 +278,9 @@ jobs:
     name: Client (func/adapters)
     timeout-minutes: ${{ inputs.jobTimeout }}
     runs-on: ubuntu-latest
-
-    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
-
+    if: |
+      contains(inputs.jobsToRun, '-all-') ||
+      contains(inputs.jobsToRun, '-client-')
     strategy:
       fail-fast: false
       matrix:
@@ -292,7 +293,6 @@ jobs:
           # Exclude relationJoins tests with WASM because the WASM engine does not include the necessary changes yet.
           - engine-type: 'wasm'
             previewFeatures: 'driverAdapters,relationJoins'
-
     steps:
       - uses: actions/checkout@v4
 
@@ -334,8 +334,8 @@ jobs:
       - uses: codecov/codecov-action@v3
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
-          flags: client,${{ matrix.os }},driveradapters
-          name: client-${{ matrix.os }}-driveradapters
+          flags: client,ubuntu,driveradapters
+          name: client-ubuntu-driveradapters
 
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where we have access to secrets.
@@ -356,9 +356,9 @@ jobs:
     name: Client (memory tests)
     timeout-minutes: ${{ inputs.jobTimeout }}
     runs-on: ubuntu-latest
-
-    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
-
+    if: |
+      contains(inputs.jobsToRun, '-all-') ||
+      contains(inputs.jobsToRun, '-client-')
     strategy:
       fail-fast: false
       matrix:
@@ -461,9 +461,9 @@ jobs:
     name: Client (test:e2e)
     timeout-minutes: 35
     runs-on: ${{ matrix.os }}
-
-    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-e2e-') }}
-
+    if: |
+      contains(inputs.jobsToRun, '-all-') ||
+      contains(inputs.jobsToRun, '-client-e2e-')
     strategy:
       fail-fast: false
       matrix:
@@ -472,7 +472,6 @@ jobs:
         # The version used by the tests is actually defined in
         # ./packages/client/tests/e2e/_utils/standard.dockerfile
         node: [20]
-
     steps:
       - uses: actions/checkout@v4
 
@@ -506,28 +505,28 @@ jobs:
     name: Client (func/relationMode)
     timeout-minutes: 60
     runs-on: ${{ matrix.os }}
-
-    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
-
+    if: |
+      contains(inputs.jobsToRun, '-all-') ||
+      contains(inputs.jobsToRun, '-client-')
     strategy:
       fail-fast: false
       matrix:
         relationMode: ['', 'foreignKeys', 'prisma']
         os: [ubuntu-latest]
         node: [16]
-
     env:
       NODE_OPTIONS: '--max-old-space-size=8096'
       JEST_JUNIT_SUITE_NAME: 'client/functional'
       JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
     steps:
       - uses: actions/checkout@v4
 
       - name: Set RELATION_MODE custom test env var
         run: |
           echo ""RELATION_MODE=${{ matrix.relationMode }}""
-          if [ ! -z ""${{ matrix.relationMode }}"" ]; then echo ""RELATION_MODE=${{ matrix.relationMode }}"" >> $GITHUB_ENV; fi
+          if [ -n ""${{ matrix.relationMode }}"" ]; 
+            then echo ""RELATION_MODE=${{ matrix.relationMode }}"" >> ""$GITHUB_ENV"";
+          fi
 
       - name: Start Docker Compose Services
         uses: nick-fields/retry@v2
@@ -583,14 +582,13 @@ jobs:
     name: Client (legacy types)
     timeout-minutes: 15
     runs-on: ubuntu-latest
-
-    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
-
+    if: |
+      contains(inputs.jobsToRun, '-all-') ||
+      contains(inputs.jobsToRun, '-client-')
     strategy:
       fail-fast: false
       matrix:
         node: [16]
-
     steps:
       - uses: actions/checkout@v4
 
@@ -609,8 +607,8 @@ jobs:
       - uses: codecov/codecov-action@v3
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
-          flags: client-legacy-types,${{ matrix.os }},library,binary
-          name: client-legacy-types-${{ matrix.os }}
+          flags: client-legacy-types,ubuntu,library,binary
+          name: client-legacy-types-ubuntu
 
   #
   # WORKSPACE-TYPES
@@ -619,12 +617,10 @@ jobs:
     name: Workspace types
     timeout-minutes: 15
     runs-on: ubuntu-latest
-
     strategy:
       fail-fast: false
       matrix:
         node: [16]
-
     steps:
       - uses: actions/checkout@v4
 
@@ -645,15 +641,14 @@ jobs:
     name: Integration tests
     timeout-minutes: 20
     runs-on: ubuntu-latest
-
-    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-integration-tests-') }}
-
+    if: |
+      contains(inputs.jobsToRun, '-all-') ||
+      contains(inputs.jobsToRun, '-integration-tests-')
     strategy:
       fail-fast: false
       matrix:
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
         node: [16]
-
     steps:
       - uses: actions/checkout@v4
 
@@ -669,11 +664,11 @@ jobs:
 
       - name: Set CLI Engine Type
         run: |
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> ""$GITHUB_ENV""
 
       - name: Set Client Engine Type
         run: |
-          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> ""$GITHUB_ENV""
 
       - name: Start Docker Compose Services
         uses: nick-fields/retry@v2
@@ -707,16 +702,15 @@ jobs:
     name: '@prisma/internals'
     timeout-minutes: 15
     runs-on: ${{ matrix.os }}
-
-    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-internals-') }}
-
+    if: |
+      contains(inputs.jobsToRun, '-all-') ||
+      contains(inputs.jobsToRun, '-internals-')
     strategy:
       fail-fast: false
       matrix:
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
         os: [ubuntu-latest]
         node: [16, 18, 20]
-
     steps:
       - uses: actions/checkout@v4
 
@@ -740,11 +734,11 @@ jobs:
 
       - name: Set CLI Engine Type
         run: |
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> ""$GITHUB_ENV""
 
       - name: Set Client Engine Type
         run: |
-          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> ""$GITHUB_ENV""
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -770,16 +764,15 @@ jobs:
     name: Migrate
     timeout-minutes: 15
     runs-on: ${{ matrix.os }}
-
-    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-migrate-') }}
-
+    if: |
+      contains(inputs.jobsToRun, '-all-') ||
+      contains(inputs.jobsToRun, '-migrate-')
     strategy:
       fail-fast: false
       matrix:
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
         os: [ubuntu-latest]
         node: [16, 18, 20]
-
     steps:
       - uses: actions/checkout@v4
 
@@ -803,11 +796,11 @@ jobs:
 
       - name: Set CLI Engine Type
         run: |
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> ""$GITHUB_ENV""
 
       - name: Set Client Engine Type
         run: |
-          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> ""$GITHUB_ENV""
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -833,16 +826,15 @@ jobs:
     name: CLI commands
     timeout-minutes: 10
     runs-on: ${{ matrix.os }}
-
-    if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-cli-') }}
-
+    if: |
+      contains(inputs.jobsToRun, '-all-') ||
+      contains(inputs.jobsToRun, '-cli-')
     strategy:
       fail-fast: false
       matrix:
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
         os: [ubuntu-latest]
         node: [16, 18, 20]
-
     steps:
       - uses: actions/checkout@v4
 
@@ -866,11 +858,11 @@ jobs:
 
       - name: Set CLI Engine Type
         run: |
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> ""$GITHUB_ENV""
 
       - name: Set Client Engine Type
         run: |
-          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> ""$GITHUB_ENV""
 
       - name: Install & build
         uses: ./.github/actions/setup
@@ -896,15 +888,12 @@ jobs:
     name: Others
     timeout-minutes: 10
     runs-on: ${{ matrix.os }}
-
-    if: ${{ contains(inputs.jobsToRun, '-all-') }}
-
+    if: contains(inputs.jobsToRun, '-all-')
     strategy:
       fail-fast: false
       matrix:
         os: [ubuntu-latest]
         node: [16, 18, 20]
-
     steps:
       - uses: actions/checkout@v4
 
@@ -1009,24 +998,23 @@ jobs:
         node: [16]
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
         shard: ['1/2', '2/2']
-
     if: |
-      ${{
-        contains(inputs.jobsToRun, '-all-') ||
-        contains(inputs.jobsToRun, '-client-')
-      }}
+      contains(inputs.jobsToRun, '-all-') ||
+      contains(inputs.jobsToRun, '-client-')
     steps:
       - uses: actions/checkout@v4
 
       - name: Prerequisites
         shell: bash
         run: |
-          echo ""TEST_SKIP_MSSQL=true"" >> $GITHUB_ENV
-          echo ""TEST_SKIP_MONGODB=true"" >> $GITHUB_ENV
-          echo ""TEST_SKIP_COCKROACHDB=true"" >> $GITHUB_ENV
-          echo ""TEST_SKIP_VITESS=true"" >> $GITHUB_ENV
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          {
+            echo ""TEST_SKIP_MSSQL=true"" 
+            echo ""TEST_SKIP_MONGODB=true"" 
+            echo ""TEST_SKIP_COCKROACHDB=true""
+            echo ""TEST_SKIP_VITESS=true""
+            echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" 
+            echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" 
+          } >> ""$GITHUB_ENV""
 
       - name: Set up PostgreSQL
         run: bash .github/workflows/scripts/setup-postgres.sh
@@ -1074,34 +1062,31 @@ jobs:
     name: All pkgs (win+mac)
     timeout-minutes: 40
     runs-on: ${{ matrix.os }}
-
     if: |
-      ${{
-        contains(inputs.jobsToRun, '-all-') ||
-        contains(inputs.jobsToRun, '-internals-') ||
-        contains(inputs.jobsToRun, '-migrate-') ||
-        contains(inputs.jobsToRun, '-cli-') ||
-        contains(inputs.jobsToRun, '-client-')
-      }}
-
+      contains(inputs.jobsToRun, '-all-') ||
+      contains(inputs.jobsToRun, '-internals-') ||
+      contains(inputs.jobsToRun, '-migrate-') ||
+      contains(inputs.jobsToRun, '-cli-') ||
+      contains(inputs.jobsToRun, '-client-')
     strategy:
       fail-fast: false
       matrix:
         os: [macos-13, windows-latest]
         node: [16]
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
-
     steps:
       - uses: actions/checkout@v4
 
       - name: Prerequisites
         shell: bash
         run: |
-          echo ""TEST_SKIP_MSSQL=true"" >> $GITHUB_ENV
-          echo ""TEST_SKIP_MONGODB=true"" >> $GITHUB_ENV
-          echo ""TEST_SKIP_COCKROACHDB=true"" >> $GITHUB_ENV
-          echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
-          echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> $GITHUB_ENV
+          {
+            echo ""TEST_SKIP_MSSQL=true"" 
+            echo ""TEST_SKIP_MONGODB=true"" 
+            echo ""TEST_SKIP_COCKROACHDB=true""
+            echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" 
+            echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" 
+          } >> ""$GITHUB_ENV""
 
       - name: Set up PostgreSQL
         run: bash .github/workflows/scripts/setup-postgres.sh
@@ -1119,22 +1104,21 @@ jobs:
           skip-tsc: false
 
       - name: Test packages/internals
-        if: ${{ contains(inputs.jobsToRun, '-all-') }} || contains(inputs.jobsToRun, '-internals-') }}
+        if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-internals-')
         run: pnpm run test --testTimeout=40000
         working-directory: packages/internals
         env:
           JEST_JUNIT_SUITE_NAME: 'internals'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
       - uses: codecov/codecov-action@v3
-        if: ${{ contains(inputs.jobsToRun, '-all-') }} || contains(inputs.jobsToRun, '-internals-') }}
+        if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-internals-')
         with:
           files: ./packages/internals/src/__tests__/coverage/clover.xml
           flags: internals,${{ matrix.os }},${{ matrix.queryEngine }}
           name: internals-${{ matrix.os }}-${{ matrix.queryEngine }}
 
       - name: Test packages/client (old suite)
-        if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
+        if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-')
         run: pnpm run test-notypes --silent --testTimeout=40000
         working-directory: packages/client
         env:
@@ -1144,114 +1128,106 @@ jobs:
           NODE_OPTIONS: ""${{ matrix.os == 'macos-13' && '--max-old-space-size=14336' || '--max-old-space-size=3072' }}""
           JEST_JUNIT_SUITE_NAME: 'client/old'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
       - uses: codecov/codecov-action@v3
-        if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-') }}
+        if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-')
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
           name: client-${{ matrix.os }}-${{ matrix.queryEngine }}
 
       - name: Test packages/migrate
-        if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-migrate-') }}
+        if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-migrate-')
         run: pnpm run test --testTimeout=40000
         working-directory: packages/migrate
         env:
           JEST_JUNIT_SUITE_NAME: 'migrate'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
       - uses: codecov/codecov-action@v3
-        if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-migrate-') }}
+        if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-migrate-')
         with:
           files: ./packages/migrate/src/__tests__/coverage/clover.xml
           flags: migrate,${{ matrix.os }},${{ matrix.queryEngine }}
           name: migrate-${{ matrix.os }}-${{ matrix.queryEngine }}
 
       - name: Test packages/cli
-        if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-cli-') }}
+        if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-cli-')
         run: pnpm run test --testTimeout=40000
         working-directory: packages/cli
         env:
           JEST_JUNIT_SUITE_NAME: 'cli'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
       - uses: codecov/codecov-action@v3
-        if: ${{ contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-cli-') }}
+        if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-cli-')
         with:
           files: ./packages/cli/src/__tests__/coverage/clover.xml
           flags: cli,${{ matrix.os }},${{ matrix.queryEngine }}
           name: cli-${{ matrix.os }}-${{ matrix.queryEngine }}
 
       - name: Test packages/debug
-        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        if: contains(inputs.jobsToRun, '-all-')
         run: pnpm run test
         working-directory: packages/debug
         env:
           JEST_JUNIT_SUITE_NAME: 'debug'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
       - uses: codecov/codecov-action@v3
-        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        if: contains(inputs.jobsToRun, '-all-')
         with:
           files: ./packages/debug/src/__tests__/coverage/clover.xml
           flags: debug,${{ matrix.os }},library,binary
           name: debug-${{ matrix.os }}
 
       - name: Test packages/generator-helper
-        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        if: contains(inputs.jobsToRun, '-all-')
         run: pnpm run test
         working-directory: packages/generator-helper
         env:
           JEST_JUNIT_SUITE_NAME: 'generator-helper'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
       - uses: codecov/codecov-action@v3
-        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        if: contains(inputs.jobsToRun, '-all-')
         with:
           files: ./packages/generator-helper/src/__tests__/coverage/clover.xml
           flags: generator-helper,${{ matrix.os }},library,binary
           name: generator-helper-${{ matrix.os }}
 
       - name: Test packages/get-platform
-        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        if: contains(inputs.jobsToRun, '-all-')
         run: pnpm run test
         working-directory: packages/get-platform
         env:
           JEST_JUNIT_SUITE_NAME: 'get-platform'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
       - uses: codecov/codecov-action@v3
-        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        if: contains(inputs.jobsToRun, '-all-')
         with:
           files: ./packages/get-platform/src/__tests__/coverage/clover.xml
           flags: get-platform,${{ matrix.os }},library,binary
           name: get-platform-${{ matrix.os }}
 
       - name: Test packages/fetch-engine
-        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        if: contains(inputs.jobsToRun, '-all-')
         run: pnpm run test
         working-directory: packages/fetch-engine
         env:
           JEST_JUNIT_SUITE_NAME: 'fetch-engine'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
       - uses: codecov/codecov-action@v3
-        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        if: contains(inputs.jobsToRun, '-all-')
         with:
           files: ./packages/fetch-engine/src/__tests__/coverage/clover.xml
           flags: fetch-engine,${{ matrix.os }},library,binary
           name: fetch-engine-${{ matrix.os }}
 
       - name: Test packages/engines
-        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        if: contains(inputs.jobsToRun, '-all-')
         run: pnpm run test
         working-directory: packages/engines
         env:
           JEST_JUNIT_SUITE_NAME: 'engines'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-
       - uses: codecov/codecov-action@v3
-        if: ${{ contains(inputs.jobsToRun, '-all-') }}
+        if: contains(inputs.jobsToRun, '-all-')
         with:
           files: ./packages/engines/src/__tests__/coverage/clover.xml
           flags: engines,${{ matrix.os }},library,binary
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,073805f95dbefd182aaced69689eeac42245ac29,2e9cffc2de4891424793d2c48183bbf294c1e758,2023-12-16 00:11:51+01:00,ci: add linting of GitHub Actions workflows (#22427),14,5.8.0,test.yml,MODIFY,8,4,,22427,Jolg42,User,MEMBER,Jolg42,User,2023-12-15T12:50:13Z,2023-12-15T23:11:52Z,closed,,Jolg42,User,"See https://github.com/rhysd/actionlint

- I made it to only run for Pull Requests
- I fixed all the issues
- Some changes are simplifications and were not strictly required (e.g. some removed `${{ }}` for conditions)

Example run
https://github.com/prisma/prisma/actions/runs/7222256375/job/19678892228?pr=22427
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/073805f_test.yml,../Mining/generated/scripts/prisma/files_src_after/073805f_test.yml,None,None,None,"@@ -59,11 +59,13 @@ jobs:
 
       - name: Debug Pull Request Event
         if: ${{ github.event_name == 'pull_request' }}
+        env:
+          PR_BODY: ${{ github.event.pull_request.body }}
         run: |
           echo ""Pull Request: ${{ github.event.pull_request.number }}""
           echo ""Pull Request Author: ${{ github.event.pull_request.user.login }}""
           echo ""Pull Request Author Association: ${{ github.event.pull_request.author_association }}""
-          echo ""Pull Request Body contains /integration: ${{ contains(github.event.pull_request.body, '/integration') }}""
+          echo ""Pull Request Body contains /integration: ${{ contains(env.PR_BODY, '/integration') }}""
 
       - name: Find ""ci test all"" comment
         uses: peter-evans/find-comment@v2
@@ -76,12 +78,14 @@ jobs:
         name: Decide on which engine types to run the next workflow
         run: |
           if [ -z ""${{ steps.findTestAllComment.outputs.comment-id }}"" ]; then
-            echo 'queryEngine=[""library""]' >> $GITHUB_OUTPUT
+            echo 'queryEngine=[""library""]' >> ""$GITHUB_OUTPUT""
           else
-            echo 'queryEngine=[""library"",""binary""]' >> $GITHUB_OUTPUT
+            echo 'queryEngine=[""library"",""binary""]' >> ""$GITHUB_OUTPUT""
           fi
 
       - name: Trigger npm release workflow for integration release
+        env:
+          PR_BODY: ${{ github.event.pull_request.body }}
         # See https://docs.github.com/en/graphql/reference/enums
         # https://michaelheap.com/github-actions-check-permission/
         # Check if
@@ -89,7 +93,7 @@ jobs:
         # - the PR author has permissions to trigger the workflow (must be part of the org or a collaborator)
         if: |
           github.event_name == 'pull_request' &&
-          contains(github.event.pull_request.body, '/integration') && 
+          contains(env.PR_BODY, '/integration') && 
           (
             github.event.pull_request.author_association == 'OWNER' ||
             github.event.pull_request.author_association == 'MEMBER' ||
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,073805f95dbefd182aaced69689eeac42245ac29,2e9cffc2de4891424793d2c48183bbf294c1e758,2023-12-16 00:11:51+01:00,ci: add linting of GitHub Actions workflows (#22427),14,5.8.0,update-engines-version.yml,MODIFY,2,2,,22427,Jolg42,User,MEMBER,Jolg42,User,2023-12-15T12:50:13Z,2023-12-15T23:11:52Z,closed,,Jolg42,User,"See https://github.com/rhysd/actionlint

- I made it to only run for Pull Requests
- I fixed all the issues
- Some changes are simplifications and were not strictly required (e.g. some removed `${{ }}` for conditions)

Example run
https://github.com/prisma/prisma/actions/runs/7222256375/job/19678892228?pr=22427
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/073805f_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/073805f_update-engines-version.yml,None,None,None,"@@ -25,7 +25,7 @@ jobs:
         env:
           THE_INPUT: '${{ toJson(github.event.inputs) }}'
         run: |
-          echo $THE_INPUT
+          echo ""$THE_INPUT""
 
       - uses: actions/checkout@v4
 
@@ -217,7 +217,7 @@ jobs:
 
       - name: 'Set current job url in SLACK_FOOTER env var'
         if: ${{ failure() }}
-        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> ""$GITHUB_ENV""
 
       - name: Slack Notification on Failure
         if: ${{ failure() }}
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,073805f95dbefd182aaced69689eeac42245ac29,2e9cffc2de4891424793d2c48183bbf294c1e758,2023-12-16 00:11:51+01:00,ci: add linting of GitHub Actions workflows (#22427),14,5.8.0,update-studio-version.yml,MODIFY,1,1,,22427,Jolg42,User,MEMBER,Jolg42,User,2023-12-15T12:50:13Z,2023-12-15T23:11:52Z,closed,,Jolg42,User,"See https://github.com/rhysd/actionlint

- I made it to only run for Pull Requests
- I fixed all the issues
- Some changes are simplifications and were not strictly required (e.g. some removed `${{ }}` for conditions)

Example run
https://github.com/prisma/prisma/actions/runs/7222256375/job/19678892228?pr=22427
",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/073805f_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/073805f_update-studio-version.yml,None,None,None,"@@ -78,7 +78,7 @@ jobs:
 
       - name: 'Set current job url in SLACK_FOOTER env var'
         if: ${{ failure() }}
-        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> $GITHUB_ENV
+        run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> ""$GITHUB_ENV""
 
       - name: Slack Notification on Failure
         if: ${{ failure() }}
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,c32197088a2b798abf712b662da4c2d958e3d881,073805f95dbefd182aaced69689eeac42245ac29,2023-12-15 14:53:34-10:00,"ci: add ""manage dist tag"" workflow (#22432)

Co-authored-by: Jan Piotrowski <piotrowski+github@gmail.com>",1,5.8.0,manage-dist-tag.yml,ADD,61,0,,22432,millsp,User,MEMBER,millsp,User,2023-12-15T23:23:48Z,2023-12-16T00:53:35Z,closed,,millsp,User,closes https://github.com/prisma/team-orm/issues/754,../Mining/generated/scripts/prisma/current_code/manage-dist-tag.yml,../Mining/generated/scripts/prisma/files_src_before/c321970_manage-dist-tag.yml,../Mining/generated/scripts/prisma/files_src_after/c321970_manage-dist-tag.yml,None,None,None,"@@ -0,0 +1,61 @@
+name: npm - manage dist tag
+run-name: npm - manage dist tag / ${{ github.event.inputs.tagAction}} ${{ github.event.inputs.tagName}} (on ${{ github.event.inputs.targetVersion}})
+
+on:
+  workflow_dispatch:
+    inputs:
+      tagAction:
+        description: 'What action do you want to do with the tag?'
+        type: choice
+        options:
+          - 'add'
+          - 'rm'
+        required: true
+      tagName:
+        description: 'What is the name of the dist tag to be managed (created/updated or deleted)?'
+        type: string
+        required: true
+      targetVersion:
+        description: 'Version to act on (Only needed with `add` in format of semver version to tag, otherwise empty).'
+        type: string
+        required: false
+
+jobs:
+  manage_tag:
+    timeout-minutes: 10
+    runs-on: ubuntu-latest
+    steps:
+      - name: Print input
+        env:
+          THE_INPUT: '${{ toJson(github.event.inputs) }}'
+        run: |
+          echo ""$THE_INPUT""
+
+      - uses: actions/checkout@v4
+
+      - name: Check if version is valid
+        if: ${{ github.event.inputs.tagAction == 'add' }}
+        run: |
+          npm show ""prisma${{ env.VERSION }}"" version
+        env:
+          VERSION: ${{ github.event.inputs.targetVersion && format('@{0}', github.event.inputs.targetVersion) || '' }}
+
+      - name: Create or delete npm tag
+        run: |
+          echo ""The following commands will be executed, for example:""
+          echo ""npm dist-tag '${{ env.ACTION }}' '@prisma/client${{ env.VERSION }}' '${{ env.TAG_NAME }}'""
+          sleep 10
+          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/client${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-planetscale${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-libsql${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-neon${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-pg${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          npm dist-tag ""${{ env.ACTION }}"" ""prisma${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+        env:
+          # Secrets
+          # Note: must use personal access token
+          NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}
+          # Used by the script
+          VERSION: ${{ github.event.inputs.targetVersion && format('@{0}', github.event.inputs.targetVersion) || '' }}
+          ACTION: ${{ github.event.inputs.tagAction }}
+          TAG_NAME: ${{ github.event.inputs.tagName }}
",False,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,f30d9fd25a2c0ad2c66e5c5a635d4db3704d7457,c32197088a2b798abf712b662da4c2d958e3d881,2023-12-15 15:24:13-10:00,ci(dist-tag): attempt to fix auth token (#22435),1,,manage-dist-tag.yml,MODIFY,10,6,,22435,millsp,User,MEMBER,millsp,User,2023-12-16T01:22:34Z,2023-12-16T01:24:13Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/manage-dist-tag.yml,../Mining/generated/scripts/prisma/files_src_before/f30d9fd_manage-dist-tag.yml,../Mining/generated/scripts/prisma/files_src_after/f30d9fd_manage-dist-tag.yml,None,None,None,"@@ -42,15 +42,19 @@ jobs:
 
       - name: Create or delete npm tag
         run: |
+          pnpm config set '//registry.npmjs.org/:_authToken' ""${NODE_AUTH_TOKEN}""
+
           echo ""The following commands will be executed, for example:""
           echo ""npm dist-tag '${{ env.ACTION }}' '@prisma/client${{ env.VERSION }}' '${{ env.TAG_NAME }}'""
+
           sleep 10
-          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/client${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
-          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-planetscale${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
-          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-libsql${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
-          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-neon${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
-          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-pg${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
-          npm dist-tag ""${{ env.ACTION }}"" ""prisma${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+
+          pnpm dist-tag ""${{ env.ACTION }}"" ""@prisma/client${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          pnpm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-planetscale${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          pnpm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-libsql${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          pnpm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-neon${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          pnpm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-pg${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          pnpm dist-tag ""${{ env.ACTION }}"" ""prisma${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
         env:
           # Secrets
           # Note: must use personal access token
",False,False,False,False,True,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,934907a1e2659e81e031ef67d1af00ca30e478e7,f30d9fd25a2c0ad2c66e5c5a635d4db3704d7457,2023-12-15 15:30:19-10:00,ci(dist-tag): use npm override (#22436),1,,manage-dist-tag.yml,MODIFY,7,7,,22436,millsp,User,MEMBER,millsp,User,2023-12-16T01:28:00Z,2023-12-16T01:30:19Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/manage-dist-tag.yml,../Mining/generated/scripts/prisma/files_src_before/934907a_manage-dist-tag.yml,../Mining/generated/scripts/prisma/files_src_after/934907a_manage-dist-tag.yml,None,None,None,"@@ -42,19 +42,19 @@ jobs:
 
       - name: Create or delete npm tag
         run: |
-          pnpm config set '//registry.npmjs.org/:_authToken' ""${NODE_AUTH_TOKEN}""
+          echo ""//registry.npmjs.org/:_authToken=${NODE_AUTH_TOKEN}"" > ~/.npmrc
 
           echo ""The following commands will be executed, for example:""
           echo ""npm dist-tag '${{ env.ACTION }}' '@prisma/client${{ env.VERSION }}' '${{ env.TAG_NAME }}'""
 
           sleep 10
 
-          pnpm dist-tag ""${{ env.ACTION }}"" ""@prisma/client${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
-          pnpm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-planetscale${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
-          pnpm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-libsql${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
-          pnpm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-neon${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
-          pnpm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-pg${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
-          pnpm dist-tag ""${{ env.ACTION }}"" ""prisma${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/client${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-planetscale${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-libsql${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-neon${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-pg${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          npm dist-tag ""${{ env.ACTION }}"" ""prisma${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
         env:
           # Secrets
           # Note: must use personal access token
",False,False,False,False,True,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,761da9925a9802733292c69e87ab3db0e7befe18,0eac3671456a838caaa323ac835bb48e4b1c2c3d,2024-01-03 10:10:40+01:00,"chore(deps): update github/codeql-action action to v3 (#22385)

[skip ci]",1,,codeql-analysis.yml,MODIFY,2,2,,22385,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2023-12-14T06:10:30Z,2024-01-03T09:10:40Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [github/codeql-action](https://togithub.com/github/codeql-action) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>github/codeql-action (github/codeql-action)</summary>

### [`v3`](https://togithub.com/github/codeql-action/compare/v2...v3)

[Compare Source](https://togithub.com/github/codeql-action/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy44Ny4yIiwidXBkYXRlZEluVmVyIjoiMzcuODcuMiIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->
",../Mining/generated/scripts/prisma/current_code/codeql-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/761da99_codeql-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/761da99_codeql-analysis.yml,None,None,None,"@@ -35,7 +35,7 @@ jobs:
 
       # Initializes the CodeQL tools for scanning.
       - name: Initialize CodeQL
-        uses: github/codeql-action/init@v2
+        uses: github/codeql-action/init@v3
         with:
           languages: ${{ matrix.language }}
           # If you wish to specify custom queries, you can do so here or in a config file.
@@ -44,7 +44,7 @@ jobs:
           # queries: ./path/to/local/query, your-org/your-repo/queries@main
 
       - name: Perform CodeQL Analysis
-        uses: github/codeql-action/analyze@v2
+        uses: github/codeql-action/analyze@v3
 
       - name: 'Set current job url in SLACK_FOOTER env var'
         if: ${{ failure() }}
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,bd76763e8e8cb3a94b7a6d65e4020ee8165e2e5e,feec06f7f55df725b48a303905f9e39dc79625a5,2024-01-05 16:16:02+01:00,chore: cleanup actions following buildjet removal (#22576),3,5.8.0,daily-buildpulse.yml,MODIFY,0,1,,22576,Jolg42,User,MEMBER,Jolg42,User,2024-01-05T13:25:57Z,2024-01-05T15:16:03Z,closed,,Jolg42,User,"This is a cleanup of unused/unecessary things / leftovers.

Note that Docker login was only necessary when the runner was hosted by buildjet",../Mining/generated/scripts/prisma/current_code/daily-buildpulse.yml,../Mining/generated/scripts/prisma/files_src_before/bd76763_daily-buildpulse.yml,../Mining/generated/scripts/prisma/files_src_after/bd76763_daily-buildpulse.yml,None,None,None,"@@ -12,5 +12,4 @@ jobs:
     with:
       reason: buildpulse
       jobTimeout: 70
-      ubuntuRunner: ubuntu-latest
     secrets: inherit
",True,False,False,False,False,False,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,bd76763e8e8cb3a94b7a6d65e4020ee8165e2e5e,feec06f7f55df725b48a303905f9e39dc79625a5,2024-01-05 16:16:02+01:00,chore: cleanup actions following buildjet removal (#22576),3,5.8.0,daily-test.yml,MODIFY,0,1,,22576,Jolg42,User,MEMBER,Jolg42,User,2024-01-05T13:25:57Z,2024-01-05T15:16:03Z,closed,,Jolg42,User,"This is a cleanup of unused/unecessary things / leftovers.

Note that Docker login was only necessary when the runner was hosted by buildjet",../Mining/generated/scripts/prisma/current_code/daily-test.yml,../Mining/generated/scripts/prisma/files_src_before/bd76763_daily-test.yml,../Mining/generated/scripts/prisma/files_src_after/bd76763_daily-test.yml,None,None,None,"@@ -12,7 +12,6 @@ jobs:
     with:
       reason: daily-test
       jobTimeout: 70
-      ubuntuRunner: ubuntu-latest
     secrets: inherit
   failure:
     needs:
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,bd76763e8e8cb3a94b7a6d65e4020ee8165e2e5e,feec06f7f55df725b48a303905f9e39dc79625a5,2024-01-05 16:16:02+01:00,chore: cleanup actions following buildjet removal (#22576),3,5.8.0,test-template.yml,MODIFY,0,92,,22576,Jolg42,User,MEMBER,Jolg42,User,2024-01-05T13:25:57Z,2024-01-05T15:16:03Z,closed,,Jolg42,User,"This is a cleanup of unused/unecessary things / leftovers.

Note that Docker login was only necessary when the runner was hosted by buildjet",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/bd76763_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/bd76763_test-template.yml,None,None,None,"@@ -11,11 +11,6 @@ on:
         type: string
         required: false
         default: CI
-      ubuntuRunner:
-        description: Override default runner used for linux tests. Can be used to opt-out of buildjet
-        type: string
-        default: buildjet-4vcpu-ubuntu-2004
-        required: false
       jobTimeout:
         description: Timeout for the jobs. Default is 35 minutes
         type: number
@@ -43,12 +38,6 @@ on:
         required: false
       BUILDPULSE_SECRET_ACCESS_KEY:
         required: false
-      # Docker Hub credentials must be passed to avoid rate limiting when using Buildjet runners
-      # But they are not required, so forks can run the workflow without defining them
-      DOCKERHUB_USERNAME:
-        required: false
-      DOCKERHUB_TOKEN:
-        required: false
       BOT_TOKEN:
         required: false
 
@@ -127,17 +116,6 @@ jobs:
     steps:
       - uses: actions/checkout@v4
 
-      - name: Login to Docker Hub
-        uses: docker/login-action@v3
-        env:
-          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
-          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
-        # Login to Docker Hub is only needed for buildjet runners
-        if: ""${{ startsWith(inputs.ubuntuRunner, 'buildjet') && env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
-        with:
-          username: ${{ secrets.DOCKERHUB_USERNAME }}
-          password: ${{ secrets.DOCKERHUB_TOKEN }}
-
       - name: Set CLI Engine Type
         run: |
           echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> ""$GITHUB_ENV""
@@ -212,16 +190,6 @@ jobs:
     steps:
       - uses: actions/checkout@v4
 
-      - name: Login to Docker Hub
-        uses: docker/login-action@v3
-        env:
-          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
-          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
-        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
-        with:
-          username: ${{ secrets.DOCKERHUB_USERNAME }}
-          password: ${{ secrets.DOCKERHUB_TOKEN }}
-
       - name: Start Docker Compose Services
         uses: nick-fields/retry@v2
         with:
@@ -296,16 +264,6 @@ jobs:
     steps:
       - uses: actions/checkout@v4
 
-      - name: Login to Docker Hub
-        uses: docker/login-action@v3
-        env:
-          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
-          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
-        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
-        with:
-          username: ${{ secrets.DOCKERHUB_USERNAME }}
-          password: ${{ secrets.DOCKERHUB_TOKEN }}
-
       - name: Start Docker Compose Services
         uses: nick-fields/retry@v2
         with:
@@ -367,16 +325,6 @@ jobs:
     steps:
       - uses: actions/checkout@v4
 
-      - name: Login to Docker Hub
-        uses: docker/login-action@v3
-        env:
-          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
-          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
-        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
-        with:
-          username: ${{ secrets.DOCKERHUB_USERNAME }}
-          password: ${{ secrets.DOCKERHUB_TOKEN }}
-
       - name: Start Docker Compose Services
         uses: nick-fields/retry@v2
         with:
@@ -652,16 +600,6 @@ jobs:
     steps:
       - uses: actions/checkout@v4
 
-      - name: Login to Docker Hub
-        uses: docker/login-action@v3
-        env:
-          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
-          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
-        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
-        with:
-          username: ${{ secrets.DOCKERHUB_USERNAME }}
-          password: ${{ secrets.DOCKERHUB_TOKEN }}
-
       - name: Set CLI Engine Type
         run: |
           echo ""PRISMA_CLI_QUERY_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> ""$GITHUB_ENV""
@@ -714,16 +652,6 @@ jobs:
     steps:
       - uses: actions/checkout@v4
 
-      - name: Login to Docker Hub
-        uses: docker/login-action@v3
-        env:
-          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
-          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
-        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
-        with:
-          username: ${{ secrets.DOCKERHUB_USERNAME }}
-          password: ${{ secrets.DOCKERHUB_TOKEN }}
-
       - name: Start Docker Compose Services
         uses: nick-fields/retry@v2
         with:
@@ -776,16 +704,6 @@ jobs:
     steps:
       - uses: actions/checkout@v4
 
-      - name: Login to Docker Hub
-        uses: docker/login-action@v3
-        env:
-          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
-          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
-        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
-        with:
-          username: ${{ secrets.DOCKERHUB_USERNAME }}
-          password: ${{ secrets.DOCKERHUB_TOKEN }}
-
       - name: Start Docker Compose Services
         uses: nick-fields/retry@v2
         with:
@@ -838,16 +756,6 @@ jobs:
     steps:
       - uses: actions/checkout@v4
 
-      - name: Login to Docker Hub
-        uses: docker/login-action@v3
-        env:
-          DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
-          DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
-        if: ""${{ env.DOCKERHUB_USERNAME != '' && env.DOCKERHUB_TOKEN != '' }}""
-        with:
-          username: ${{ secrets.DOCKERHUB_USERNAME }}
-          password: ${{ secrets.DOCKERHUB_TOKEN }}
-
       - name: Start Docker Compose Services
         uses: nick-fields/retry@v2
         with:
",True,False,False,False,False,True,False
prisma,Alberto Schiabel,User,jkomyno@users.noreply.github.com,GitHub,User,noreply@github.com,026cbfe7edb09a7f1e99577cc20d500cb7963ea3,3391cac806ce0f95b367ef310a69182d52bd6880,2024-01-12 13:36:09+01:00,"chore(tech-debt): use ""provider"" and ""adapter"" instead of ""flavour""/""flavor"" (#22426)

* chore: use ""provider"" and ""adapter"" instead of ""flavour""/""flavor""

* chore: update variable names in snapshots

* chore: address review comments",42,5.9.0,test-template.yml,MODIFY,2,2,,22426,jkomyno,User,CONTRIBUTOR,jkomyno,User,2023-12-15T11:04:34Z,2024-01-12T12:36:09Z,closed,topic: tech debt,jkomyno,User,"This PR contributes to https://github.com/prisma/team-orm/issues/560.

closes: https://github.com/prisma/team-orm/issues/560.",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/026cbfe_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/026cbfe_test-template.yml,1.0,1.0,1.0,"@@ -253,7 +253,7 @@ jobs:
       fail-fast: false
       matrix:
         engine-type: ['library', 'wasm']
-        flavor: ['js_pg', 'js_neon', 'js_libsql', 'js_planetscale']
+        adapter: ['js_pg', 'js_neon', 'js_libsql', 'js_planetscale']
         shard: ['1/6', '2/6', '3/6', '4/6', '5/6', '6/6']
         node: [20] #[16, 18, 20]
         previewFeatures: ['driverAdapters', 'driverAdapters,relationJoins']
@@ -280,7 +280,7 @@ jobs:
           engine-hash: ${{ inputs.engineHash }}
           skip-tsc: false
 
-      - run: pnpm run test:functional --flavor ${{ matrix.flavor }} --shard ${{ matrix.shard }} --engine-type ${{ matrix.engine-type }} --preview-features ${{ matrix.previewFeatures }} --runInBand
+      - run: pnpm run test:functional --adapter ${{ matrix.adapter }} --shard ${{ matrix.shard }} --engine-type ${{ matrix.engine-type }} --preview-features ${{ matrix.previewFeatures }} --runInBand
         working-directory: packages/client
         env:
           PRISMA_DISABLE_QUAINT_EXECUTORS: true, # ensures quaint runs no queries
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,f99914ea7ea669083b116970b476b2c33503e946,709ece2b3755b199ef0bee76d5b6f32a8dede3cc,2024-01-18 09:19:46+01:00,"chore(deps): update actions/cache action to v4 (#22697)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",2,,build-engine-branch.yml,MODIFY,2,2,,22697,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-01-18T01:20:47Z,2024-01-18T08:19:47Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [actions/cache](https://togithub.com/actions/cache) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>actions/cache (actions/cache)</summary>

### [`v4`](https://togithub.com/actions/cache/compare/v3...v4)

[Compare Source](https://togithub.com/actions/cache/compare/v3...v4)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xMzUuMCIsInVwZGF0ZWRJblZlciI6IjM3LjEzNS4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/build-engine-branch.yml,../Mining/generated/scripts/prisma/files_src_before/f99914e_build-engine-branch.yml,../Mining/generated/scripts/prisma/files_src_after/f99914e_build-engine-branch.yml,None,None,None,"@@ -59,7 +59,7 @@ jobs:
         shell: bash
         run: echo ""engineHash=$(git rev-parse HEAD)"" >> ""$GITHUB_OUTPUT""
 
-      - uses: actions/cache@v3
+      - uses: actions/cache@v4
         name: Artifacts cache
         id: artifacts-cache
         with:
@@ -76,7 +76,7 @@ jobs:
       - uses: dtolnay/rust-toolchain@stable
         if: steps.artifacts-cache.outputs.cache-hit != 'true'
 
-      - uses: actions/cache@v3
+      - uses: actions/cache@v4
         name: Dependencies cache
         if: steps.artifacts-cache.outputs.cache-hit != 'true'
         with:
",True,False,False,False,False,True,False
prisma,Serhii Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,e58b7506656272fa2c21f3682ac16197cc2046a2,f99914ea7ea669083b116970b476b2c33503e946,2024-01-18 10:03:20+01:00,"feat(adapter-pg,adapter-neon): Enforce usage of connection pool (#22687)

* feat(adapter-pg,adapter-neon): Enforce usage of connection pool

Adapters don't work with non-pooled `Client` instances. For `pg` and
`neon` we enforce it only on type level, so check won't work for JS
projects. In this PR, we are checking the passed instance and ensuring
it is a `Pool`, similarly to what we already do for `planetscale`.

Fix prisma/team-orm#616

* Add test script

* Attempt to unify jest configs #2

* Fix couple of problems",24,5.9.0,test-template.yml,MODIFY,8,0,,22687,SevInf,User,CONTRIBUTOR,SevInf,User,2024-01-17T11:27:01Z,2024-01-18T09:03:20Z,closed,,,,"Adapters don't work with non-pooled `Client` instances. For `pg` and
`neon` we enforce it only on type level, so check won't work for JS
projects. In this PR, we are checking the passed instance and ensuring
it is a `Pool`, similarly to what we already do for `planetscale`.

Fix prisma/team-orm#616
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/e58b750_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/e58b750_test-template.yml,1.0,1.0,1.0,"@@ -867,6 +867,14 @@ jobs:
         name: 'adapter-planetscale'
         working-directory: packages/adapter-planetscale
 
+      - run: pnpm run test
+        name: 'adapter-neon'
+        working-directory: packages/adapter-neon
+
+      - run: pnpm run test
+        name: 'adapter-pg'
+        working-directory: packages/adapter-pg
+
       - uses: codecov/codecov-action@v3
         with:
           files: ./packages/adapter-planetscale/src/__tests__/coverage/clover.xml
",True,False,False,False,False,True,False
prisma,Serhii Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,4578e3d245c1a346f010eea4788425897de7b543,e58b7506656272fa2c21f3682ac16197cc2046a2,2024-01-18 14:13:58+01:00,"revert(client): Revert ""feat(adapter-pg,adapter-neon): Enforce usage of connection pool (#22687)"" (#22699)

The change broke engines, we'll fix it and reintroduce PR later.

This reverts commit e58b7506656272fa2c21f3682ac16197cc2046a2.",24,5.9.0,test-template.yml,MODIFY,0,8,,"22687,22699",SevInf,User,CONTRIBUTOR,SevInf,User,2024-01-17T11:27:01Z,2024-01-18T09:03:20Z,closed,,,,"Adapters don't work with non-pooled `Client` instances. For `pg` and
`neon` we enforce it only on type level, so check won't work for JS
projects. In this PR, we are checking the passed instance and ensuring
it is a `Pool`, similarly to what we already do for `planetscale`.

Fix prisma/team-orm#616
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/4578e3d_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/4578e3d_test-template.yml,0.0,0.0,0.0,"@@ -867,14 +867,6 @@ jobs:
         name: 'adapter-planetscale'
         working-directory: packages/adapter-planetscale
 
-      - run: pnpm run test
-        name: 'adapter-neon'
-        working-directory: packages/adapter-neon
-
-      - run: pnpm run test
-        name: 'adapter-pg'
-        working-directory: packages/adapter-pg
-
       - uses: codecov/codecov-action@v3
         with:
           files: ./packages/adapter-planetscale/src/__tests__/coverage/clover.xml
",True,False,False,False,False,True,False
prisma,Serhii Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,4578e3d245c1a346f010eea4788425897de7b543,e58b7506656272fa2c21f3682ac16197cc2046a2,2024-01-18 14:13:58+01:00,"revert(client): Revert ""feat(adapter-pg,adapter-neon): Enforce usage of connection pool (#22687)"" (#22699)

The change broke engines, we'll fix it and reintroduce PR later.

This reverts commit e58b7506656272fa2c21f3682ac16197cc2046a2.",24,5.9.0,test-template.yml,MODIFY,0,8,,"22687,22699",SevInf,User,CONTRIBUTOR,SevInf,User,2024-01-18T13:11:14Z,2024-01-18T13:13:58Z,closed,,,,"The change broke engines, we'll fix it and reintroduce PR later.

This reverts commit e58b7506656272fa2c21f3682ac16197cc2046a2.
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/4578e3d_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/4578e3d_test-template.yml,0.0,0.0,0.0,"@@ -867,14 +867,6 @@ jobs:
         name: 'adapter-planetscale'
         working-directory: packages/adapter-planetscale
 
-      - run: pnpm run test
-        name: 'adapter-neon'
-        working-directory: packages/adapter-neon
-
-      - run: pnpm run test
-        name: 'adapter-pg'
-        working-directory: packages/adapter-pg
-
       - uses: codecov/codecov-action@v3
         with:
           files: ./packages/adapter-planetscale/src/__tests__/coverage/clover.xml
",True,False,False,False,False,True,False
prisma,Serhii Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,dd9f93357757f1fe7e9edd34d8b397b904522ac2,4578e3d245c1a346f010eea4788425897de7b543,2024-01-18 17:11:23+01:00,"feat(adapter-pg,adapter-neon): Enforce usage of connection pool (#22687) (#22700)

* feat(adapter-pg,adapter-neon): Enforce usage of connection pool

Adapters don't work with non-pooled `Client` instances. For `pg` and
`neon` we enforce it only on type level, so check won't work for JS
projects. In this PR, we are checking the passed instance and ensuring
it is a `Pool`, similarly to what we already do for `planetscale`.

Fix prisma/team-orm#616

* Add test script

* Attempt to unify jest configs #2

* Fix couple of problems",24,5.9.0,test-template.yml,MODIFY,8,0,,"22687,22700",SevInf,User,CONTRIBUTOR,SevInf,User,2024-01-17T11:27:01Z,2024-01-18T09:03:20Z,closed,,,,"Adapters don't work with non-pooled `Client` instances. For `pg` and
`neon` we enforce it only on type level, so check won't work for JS
projects. In this PR, we are checking the passed instance and ensuring
it is a `Pool`, similarly to what we already do for `planetscale`.

Fix prisma/team-orm#616
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/dd9f933_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/dd9f933_test-template.yml,1.0,1.0,1.0,"@@ -867,6 +867,14 @@ jobs:
         name: 'adapter-planetscale'
         working-directory: packages/adapter-planetscale
 
+      - run: pnpm run test
+        name: 'adapter-neon'
+        working-directory: packages/adapter-neon
+
+      - run: pnpm run test
+        name: 'adapter-pg'
+        working-directory: packages/adapter-pg
+
       - uses: codecov/codecov-action@v3
         with:
           files: ./packages/adapter-planetscale/src/__tests__/coverage/clover.xml
",True,False,False,False,False,True,False
prisma,Serhii Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,dd9f93357757f1fe7e9edd34d8b397b904522ac2,4578e3d245c1a346f010eea4788425897de7b543,2024-01-18 17:11:23+01:00,"feat(adapter-pg,adapter-neon): Enforce usage of connection pool (#22687) (#22700)

* feat(adapter-pg,adapter-neon): Enforce usage of connection pool

Adapters don't work with non-pooled `Client` instances. For `pg` and
`neon` we enforce it only on type level, so check won't work for JS
projects. In this PR, we are checking the passed instance and ensuring
it is a `Pool`, similarly to what we already do for `planetscale`.

Fix prisma/team-orm#616

* Add test script

* Attempt to unify jest configs #2

* Fix couple of problems",24,5.9.0,test-template.yml,MODIFY,8,0,,"22687,22700",SevInf,User,CONTRIBUTOR,SevInf,User,2024-01-18T14:12:37Z,2024-01-18T16:11:24Z,closed,,,,"PR was already reviewed in #22687, this iteration just
fixes PG import without breaking engine executor.
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/dd9f933_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/dd9f933_test-template.yml,1.0,1.0,1.0,"@@ -867,6 +867,14 @@ jobs:
         name: 'adapter-planetscale'
         working-directory: packages/adapter-planetscale
 
+      - run: pnpm run test
+        name: 'adapter-neon'
+        working-directory: packages/adapter-neon
+
+      - run: pnpm run test
+        name: 'adapter-pg'
+        working-directory: packages/adapter-pg
+
       - uses: codecov/codecov-action@v3
         with:
           files: ./packages/adapter-planetscale/src/__tests__/coverage/clover.xml
",True,False,False,False,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,9c14954337375caaa880c92003a0c8fca35afde5,4cca5b667e23c21de0f0219f9eb2f08ea60a8115,2024-01-22 15:23:56-10:00,feat(client): exports map (#22630),96,5.9.0,test-template.yml,MODIFY,5,5,,22630,millsp,User,MEMBER,millsp,User,2024-01-12T00:14:49Z,2024-01-23T01:23:56Z,closed,,millsp,User,"This PR enables the new DX that we want for our `driverAdapters` preview for edge functions. In order to learn more about this, please read this [document](https://www.notion.so/prismaio/Current-and-Future-Client-DA-DX-64b26c6b85c548288c29d4b0ef2b8ed4). Additionally, this [document](https://www.notion.so/prismaio/DX-rundown-Edge-Functions-support-d191797e03cd4b15b42fed07b1febebe) turns the previous document and other related research (successes and failures) into a summary and a plan, so you may be interested into reading it.

## Exports maps

In a nutshell, we want to get rid of `@prisma/client/edge` and `engineType=wasm`. In order to achieve this, we use an [exports map](https://nodejs.org/api/packages.html#conditional-exports). The exports map is responsible for loading the correct client for the correct runtime.

## Custom outputs

However, it is important to note that export maps don't work with custom outputs, because they only work from within `node_modules`. This is where things are more complicated: we want to make it work there as well so that our DX is equal in all directions.

## Warning channels

In order to make this work, a user using custom outputs will be prompted to add their local package folder as a dependency to their own `package.json`. We have 3 channels to let them know about that:
* `pnpm prisma generate` will emit the first piece of information with instructions and docs
* If they missed that, then they will get a deprecation warning on their imported client (via types)
* If they missed that, then they will get a warning with the same information as above (via runtime)

Once they have setup their local prisma client as a dependency, the exports map works and all the warnings disappear. A warning can happen if a user has either not imported their local client as a dependency, or they have misconfigured their `tsconfig.json`'s `moduleResolution`. In either of these cases the exports maps either don't work or don't work optimally and the warning will be displayed through one of the channels.

## Warning emission

In a few words, the mechanism that supports turning these warnings on and off is based on the exports map itself. First of all, such warnings can only appear on custom output clients, they should never appear otherwise.
When an exports map isn't working, and a user is importing their client like eg. `../prisma/client`, under the hood `../prisma/client/index` is actually loaded. We rely on this behavior to:
1. Include a runtime warning in `index`
2. Include a type-level warning in `index.d.ts`
3. (We always output instructions for custom outputs on generate)

## Warning suppression

So `index` becomes a ""warning `index`"" for custom outputs, to deliver further instructions. When instructions are applied, the exports map then works and now `../prisma/client` was replaced with a `db` import (since we ask users to make it a proper dependency now). So now when a user imports `db`, it is gated through the exports map and does not load `index` anymore, it loads `default` -- the warning-less counterpart of `index`.

Under the hood, the way this works is that `default` is the actual generated client and types, and `index` is just a thin wrapper on top of it to emit warnings as needed. For the types `index` overrides the `PrismaClient` type to mark it as deprecated and re-exports all the rest. For the runtime, `index` re-exports everything from `default` as well and has an additional `console.warn`.

## Better imports

This then supports our users so that they don't have to think about importing `@prisma/client` vs `@prisma/client/edge` vs `@prisma/client/wasm`. That also means that we could simplify our instructions on generate, so the part about `@prisma/client/edge` is gone there too (the Accelerate hint remains though).

## Exports mappings

Another thing that the exports map enables for us is the ability to remove `engineType=wasm`. This is no longer a requirement because on runtimes like `workerd`, the exports map will point to `@prisma/client/wasm` under the hood, which is a client capable of loading the wasm engine in edge runtimes. Let's recap our runtimes and entrypoints:
* `@prisma/client/default`: Our Node.js client that works with `engineType`
* `@prisma/client/edge`: Now a client that is solely meant to run with Accelerate
* `@prisma/client/wasm`: Similar to `edge`, but can run both Accelerate and Wasm

Of course, all these imports happen under the hood and are managed by the exports map. In a nutshell, these are the mappings that the exports map helps us achieve can be summarized like the following:
* `nodejs` -> `@prisma/client/default` (Accelerate, Library, Binary)
* `worker` -> `@prisma/client/wasm` (Accelerate, Wasm)

`@prisma/client/edge` could thus in theory show a deprecation warning too in the future, and we have a task for it for GA.

## Removal of `engineType=wasm`

Because the exports map is able to do the right decisions for us, it means we no longer need `engineType=wasm`. We will now always have a `wasm` client generated, and a small tradeoff of that means that the `query-engine.wasm` will always be included into the generated folder, unless `prisma generate --no-engine` is being used, which will restrict to only being able to use Accelerate in edge runtimes.

Another consequence of this is that Node.js will always use the `library` (or `binary`) engine, and after this PR will no longer be able to load Wasm files. This is a conscious choice, as we've measured that `driverAdapters` are slightly more efficient via N-API, we will only load the Wasm engine if we need to (ie. on edge runtimes). This is not set in stone and we can change it in the future, of course.

## New client runtime

As you might have guessed, as there is a new `@prisma/client/wasm` endpoint there is also a new client runtime: `client/runtime/wasm`. The `wasm` client runtime shares much of its configuration with the `edge` one and are nearly similar in the way they are built.

The key differences between `edge` and `wasm` after the changes from this PR is that `edge` is now exclusively used for Accelerate and thus only contains the `DataProxyEngine`. On the other hand `wasm` includes both the `LibraryEngine` and `DataProxyEngine` (that follows the usual pattern that we always include Accelerate in any of our runtime builds).

Additionally, as mentioned earlier, `library` will not include any Wasm loading abilities anymore.

## Changes to our test setup

Because we made that the Wasm engine cannot be loaded in Node.js anymore and because `engineType=wasm` went way, it required us to adapt our tests and functional tests to accommodate these changes. The main change in our test setup is the introduction of `--client-runtime` which under the hood will force loading one of the compiled client runtimes (found in `packages/client/runtime`). They can be `edge`, `wasm`, or `node`, and of course these namings are meant as a parallel to our exports map.

Being able to run `--client-runtime wasm` has enabled us to test our `wasm` client more thoroughly as it is the same runtime file that runs on Cloudflare Workers. Previously, we ran our tests against the `node` runtime even when testing Wasm via `driverAdapters` (ie. the un-polyfilled version of the runtime). Now only the Wasm loading remains Node.js based, as we run our tests in `jest`, not `workerd`.

## Other changes

### Generation cleanup

In order to implement this, I had to touch many places in our generation code. I felt like it was becoming critical to cleanup in order to be able to maneuver in this space now and in the future, as the code is getting more confusing and less structured over time and as we add new things on top of legacy. I took the opportunity to deep dive and improve things along the way.

### Generation performance

As I added more things, it degraded the performance by 40% (according to CodSpeed). I noticed that we were cloning the dmmf with `klona` multiple times in order to generate the clients. So I turned our `DMMF` into a `Readonly` type and got rid of `klona`. Additionally, I made the properties of `DMMFHelper` lazy, so they only compute when we need them. This resulted in a 30% generation speed increase (according to CodSpeed).

### Fix of a bug in `WasmLoader`

I found that there was a race condition in our Wasm loader, which could probably happen in production. I found this because it was exacerbated somehow by the changes in our functional test setup.

### Cleanup of ""dummy file"" logic

We have some code that creates dummy files before a client is generated. I needed to update this area and noticed quite some duplication there, which could make changes prone to error. So a small bonus refactor along the way.

### Better snapshots for edge/wasm clients

We've had a long standing issue where we had to skip some tests and snapshots because edge/wasm clients cannot read from disk, however in order to show pretty errors with line numbers we also read the source files from the path retrieved by the stacktrace. Now a `$fs` global utility is injected by jest to allow edge/wasm clients to do just that, so we don't need to skip tests.

/integration",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/9c14954_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/9c14954_test-template.yml,0.18932038834951456,0.941747572815534,0.7524271844660194,"@@ -214,7 +214,7 @@ jobs:
           JEST_JUNIT_SUITE_NAME: 'client/functional'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
-      - run: pnpm run test:functional --data-proxy --edge-client --shard ${{ matrix.shard }}
+      - run: pnpm run test:functional --data-proxy --client-runtime edge --shard ${{ matrix.shard }}
         working-directory: packages/client
         env:
           NODE_OPTIONS: '--max-old-space-size=8096'
@@ -252,14 +252,14 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        engine-type: ['library', 'wasm']
-        adapter: ['js_pg', 'js_neon', 'js_libsql', 'js_planetscale']
+        clientRuntime: ['node', 'wasm']
+        flavor: ['js_pg', 'js_neon', 'js_libsql', 'js_planetscale']
         shard: ['1/6', '2/6', '3/6', '4/6', '5/6', '6/6']
         node: [20] #[16, 18, 20]
         previewFeatures: ['driverAdapters', 'driverAdapters,relationJoins']
         exclude:
           # Exclude relationJoins tests with WASM because the WASM engine does not include the necessary changes yet.
-          - engine-type: 'wasm'
+          - clientRuntime: 'wasm'
             previewFeatures: 'driverAdapters,relationJoins'
     steps:
       - uses: actions/checkout@v4
@@ -280,7 +280,7 @@ jobs:
           engine-hash: ${{ inputs.engineHash }}
           skip-tsc: false
 
-      - run: pnpm run test:functional --adapter ${{ matrix.adapter }} --shard ${{ matrix.shard }} --engine-type ${{ matrix.engine-type }} --preview-features ${{ matrix.previewFeatures }} --runInBand
+      - run: pnpm run test:functional --adapter ${{ matrix.flavor }} --shard ${{ matrix.shard }} --client-runtime ${{ matrix.clientRuntime }} --preview-features ${{ matrix.previewFeatures }} --runInBand
         working-directory: packages/client
         env:
           PRISMA_DISABLE_QUAINT_EXECUTORS: true, # ensures quaint runs no queries
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,bfef7c1b51996ff1dd6d94a7d0ddd2e33066d96b,87571c1d504fe0e6574fcd2d9fd00ed9ee4cd43c,2024-01-24 16:49:08+01:00,test(client): setup testing `adapter-d1` in functional tests (#22769),21,5.9.0,test-template.yml,MODIFY,1,1,,22769,Jolg42,User,MEMBER,Jolg42,User,2024-01-23T14:23:56Z,2024-01-24T15:49:09Z,closed,,Jolg42,User,"Contributes to https://github.com/prisma/team-orm/issues/830

Closes https://github.com/prisma/team-orm/issues/848

This uses `wrangler-proxy` to query the local D1 emulated by `wrangler`.

Since the Schema engine does not know how to communicate with D1 I used D1 client for executing the DDL.

To run the tests, I use
```
pnpm run test:functional:code --preview-features=driverAdapters --adapter=js_d1 --runInBand
```",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/bfef7c1_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/bfef7c1_test-template.yml,0.0,0.0,0.9272727272727272,"@@ -253,7 +253,7 @@ jobs:
       fail-fast: false
       matrix:
         clientRuntime: ['node', 'wasm']
-        flavor: ['js_pg', 'js_neon', 'js_libsql', 'js_planetscale']
+        flavor: ['js_pg', 'js_neon', 'js_libsql', 'js_planetscale'] # 'js_d1'
         shard: ['1/6', '2/6', '3/6', '4/6', '5/6', '6/6']
         node: [20] #[16, 18, 20]
         previewFeatures: ['driverAdapters', 'driverAdapters,relationJoins']
",True,False,False,False,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,602f627d847f30ff7d8f613bd4fa89f36a42f740,3110548e23eae4ca66a62c817782421ccfedb357,2024-01-25 05:19:56-10:00,ci(e2e): run in parallel (#22796),2,5.9.0,test-template.yml,MODIFY,1,1,,22796,millsp,User,MEMBER,millsp,User,2024-01-24T19:22:52Z,2024-01-25T15:19:56Z,closed,,millsp,User,Small improvement to shorten e2e tests by 5 minutes (from 14 minutes down to 9 minutes) by utilizing all available cores.,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/602f627_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/602f627_test-template.yml,1.0,1.0,1.0,"@@ -441,7 +441,7 @@ jobs:
           # Fails if set to true
           skip-tsc: false
 
-      - run: pnpm run test:e2e --skipBuild --verbose --runInBand
+      - run: pnpm run test:e2e --skipBuild --verbose
         working-directory: packages/client
         env:
           NODE_OPTIONS: '--max-old-space-size=8096'
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,6a0cf5d403b09f00b2cd136de5500f548a8d4cae,134780c4f87a63561ecaff4e5b6acbaabdb20a56,2024-01-26 09:38:29+01:00,"chore(deps): update peter-evans/find-comment action to v3 (#22823)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",2,,test-template.yml,MODIFY,1,1,,22823,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-01-26T01:27:08Z,2024-01-26T08:38:29Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [peter-evans/find-comment](https://togithub.com/peter-evans/find-comment) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>peter-evans/find-comment (peter-evans/find-comment)</summary>

### [`v3`](https://togithub.com/peter-evans/find-comment/compare/v2...v3)

[Compare Source](https://togithub.com/peter-evans/find-comment/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xMzUuMCIsInVwZGF0ZWRJblZlciI6IjM3LjEzNS4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/6a0cf5d_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/6a0cf5d_test-template.yml,None,None,None,"@@ -370,7 +370,7 @@ jobs:
             }
 
       - name: Find report comment
-        uses: peter-evans/find-comment@v2
+        uses: peter-evans/find-comment@v3
         id: fc
         if: ${{ always() && github.event_name == 'pull_request' }}
         with:
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,6a0cf5d403b09f00b2cd136de5500f548a8d4cae,134780c4f87a63561ecaff4e5b6acbaabdb20a56,2024-01-26 09:38:29+01:00,"chore(deps): update peter-evans/find-comment action to v3 (#22823)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",2,,test.yml,MODIFY,2,2,,22823,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-01-26T01:27:08Z,2024-01-26T08:38:29Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [peter-evans/find-comment](https://togithub.com/peter-evans/find-comment) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>peter-evans/find-comment (peter-evans/find-comment)</summary>

### [`v3`](https://togithub.com/peter-evans/find-comment/compare/v2...v3)

[Compare Source](https://togithub.com/peter-evans/find-comment/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xMzUuMCIsInVwZGF0ZWRJblZlciI6IjM3LjEzNS4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/6a0cf5d_test.yml,../Mining/generated/scripts/prisma/files_src_after/6a0cf5d_test.yml,None,None,None,"@@ -68,7 +68,7 @@ jobs:
           echo ""Pull Request Body contains /integration: ${{ contains(env.PR_BODY, '/integration') }}""
 
       - name: Find ""ci test all"" comment
-        uses: peter-evans/find-comment@v2
+        uses: peter-evans/find-comment@v3
         id: findTestAllComment
         if: ${{ github.event_name == 'pull_request' }}
         with:
@@ -118,7 +118,7 @@ jobs:
     runs-on: ubuntu-latest
     steps:
       - name: Find past custom engine comment
-        uses: peter-evans/find-comment@v2
+        uses: peter-evans/find-comment@v3
         id: findEngineComment
         if: ${{ github.event_name == 'pull_request' }}
         with:
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,48babac532e1cdafa1d5f0f186c6ed2d6672f4b9,6a0cf5d403b09f00b2cd136de5500f548a8d4cae,2024-01-26 09:39:15+01:00,"chore(deps): update peter-evans/create-or-update-comment action to v4 (#22822)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",2,,test-template.yml,MODIFY,2,2,,22822,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-01-26T01:27:03Z,2024-01-26T08:39:15Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [peter-evans/create-or-update-comment](https://togithub.com/peter-evans/create-or-update-comment) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>peter-evans/create-or-update-comment (peter-evans/create-or-update-comment)</summary>

### [`v4`](https://togithub.com/peter-evans/create-or-update-comment/compare/v3...v4)

[Compare Source](https://togithub.com/peter-evans/create-or-update-comment/compare/v3...v4)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xMzUuMCIsInVwZGF0ZWRJblZlciI6IjM3LjEzNS4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/48babac_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/48babac_test-template.yml,None,None,None,"@@ -379,7 +379,7 @@ jobs:
           body-includes: 'Client memory tests, node ${{ matrix.node}}, ${{ matrix.queryEngine }}:'
 
       - name: Create or update remote comment (failure)
-        uses: peter-evans/create-or-update-comment@v3
+        uses: peter-evans/create-or-update-comment@v4
         if: ${{ failure() && steps.upload-report.outputs.url }}
         with:
           comment-id: ${{ steps.fc.outputs.comment-id }}
@@ -391,7 +391,7 @@ jobs:
           edit-mode: replace
 
       - name: Create or update remote comment (success)
-        uses: peter-evans/create-or-update-comment@v3
+        uses: peter-evans/create-or-update-comment@v4
         if: ${{ success() && steps.fc.outputs.comment-id != '' }}
         with:
           comment-id: ${{ steps.fc.outputs.comment-id }}
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,48babac532e1cdafa1d5f0f186c6ed2d6672f4b9,6a0cf5d403b09f00b2cd136de5500f548a8d4cae,2024-01-26 09:39:15+01:00,"chore(deps): update peter-evans/create-or-update-comment action to v4 (#22822)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",2,,test.yml,MODIFY,2,2,,22822,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-01-26T01:27:03Z,2024-01-26T08:39:15Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [peter-evans/create-or-update-comment](https://togithub.com/peter-evans/create-or-update-comment) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>peter-evans/create-or-update-comment (peter-evans/create-or-update-comment)</summary>

### [`v4`](https://togithub.com/peter-evans/create-or-update-comment/compare/v3...v4)

[Compare Source](https://togithub.com/peter-evans/create-or-update-comment/compare/v3...v4)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xMzUuMCIsInVwZGF0ZWRJblZlciI6IjM3LjEzNS4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/48babac_test.yml,../Mining/generated/scripts/prisma/files_src_after/48babac_test.yml,None,None,None,"@@ -125,7 +125,7 @@ jobs:
           issue-number: ${{ github.event.pull_request.number }}
           body-includes: '<!-- custom-engine -->'
       - name: Create or update comment (block)
-        uses: peter-evans/create-or-update-comment@v3
+        uses: peter-evans/create-or-update-comment@v4
         if: ${{ needs.build_custom_engine.outputs.engineHash != '' }}
         with:
           comment-id: ${{ steps.findEngineComment.outputs.comment-id }}
@@ -142,7 +142,7 @@ jobs:
           edit-mode: replace
 
       - name: Create or update comment (clear)
-        uses: peter-evans/create-or-update-comment@v3
+        uses: peter-evans/create-or-update-comment@v4
         if: ${{ steps.findEngineComment.outputs.comment-id != '' && needs.build_custom_engine.outputs.engineHash == '' }}
         with:
           comment-id: ${{ steps.findEngineComment.outputs.comment-id }}
",True,False,False,False,False,True,True
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,f1c966a8ecee4a90172b70c26c18e0cd79bb80f4,02784e15412484aef0b1d990030d4c4835515bcb,2024-01-26 05:25:52-10:00,ci: track published package sizes (#22819),4,5.9.0,bundle-size.yml,MODIFY,5,3,,22819,millsp,User,MEMBER,millsp,User,2024-01-25T19:49:11Z,2024-01-26T15:25:52Z,closed,,millsp,User,,../Mining/generated/scripts/prisma/current_code/bundle-size.yml,../Mining/generated/scripts/prisma/files_src_before/f1c966a_bundle-size.yml,../Mining/generated/scripts/prisma/files_src_after/f1c966a_bundle-size.yml,None,None,None,"@@ -35,10 +35,12 @@ jobs:
         with:
           node-version: 18
           pnpm-version: 8
-          skip-tsc: true
-          skip-build: true
+          skip-tsc: false
+
+      - name: Pack all packages
+        run: pnpm -r --parallel exec pnpm pack
 
       - uses: andresz1/size-limit-action@v1
         with:
           github_token: ${{ secrets.GITHUB_TOKEN }}
-          skip_step: install
+          skip_step: build
",False,False,False,False,False,False,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,d766850bb6a8d80089dc0ca572ae644372495ee0,60c02d2044a713d4bfd9c94cbd6c497a445bb790,2024-01-29 06:33:30-10:00,"fix(cli, client): deletion of engines when `--no-engine` is passed (#22832)",5,5.9.0,test-template.yml,MODIFY,1,1,,22832,millsp,User,MEMBER,millsp,User,2024-01-26T19:40:28Z,2024-01-29T16:33:31Z,closed,,millsp,User,"We knew we introduced a small regression when we fixed https://github.com/prisma/prisma/issues/17685, this fixes it.",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/d766850_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/d766850_test-template.yml,1.0,1.0,1.0,"@@ -441,7 +441,7 @@ jobs:
           # Fails if set to true
           skip-tsc: false
 
-      - run: pnpm run test:e2e --skipBuild --verbose
+      - run: pnpm run test:e2e --verbose
         working-directory: packages/client
         env:
           NODE_OPTIONS: '--max-old-space-size=8096'
",True,False,False,False,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,3f269177235ec592718e3f366f9b41b6dbbc9788,fca0b6d83023dda43ab0d2640c0e8fb28bcaf041,2024-01-29 07:07:03-10:00,"ci(client): track project bundle sizes (#22833)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",13,5.9.0,bundle-size.yml,MODIFY,4,0,,22833,millsp,User,MEMBER,millsp,User,2024-01-26T22:20:02Z,2024-01-29T17:07:04Z,closed,,millsp,User,"This PR will allow us to track the gzip sizes of a Cloudflare Worker deployment for a bare-bones project using Prisma Client. For the schema, we are using one introspected from the Mastodon database.",../Mining/generated/scripts/prisma/current_code/bundle-size.yml,../Mining/generated/scripts/prisma/files_src_before/3f26917_bundle-size.yml,../Mining/generated/scripts/prisma/files_src_after/3f26917_bundle-size.yml,0.6666666666666666,1.0,1.0,"@@ -40,6 +40,10 @@ jobs:
       - name: Pack all packages
         run: pnpm -r --parallel exec pnpm pack
 
+      - name: Run bundle size project
+        working-directory: packages/bundle-size
+        run: pnpm run create-gzip-files
+
       - uses: andresz1/size-limit-action@v1
         with:
           github_token: ${{ secrets.GITHUB_TOKEN }}
",False,False,False,False,False,False,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,d24da1e454505ab10757bbe7457ed993095fefcb,b5791ea835e53b853fa107d09ed44e6d823c54a3,2024-02-01 18:09:15+01:00,"chore(deps): update nick-fields/retry action to v3 (#22909)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",2,,test-template.yml,MODIFY,10,10,,22909,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-02-01T02:06:04Z,2024-02-01T17:09:16Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [nick-fields/retry](https://togithub.com/nick-fields/retry) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>nick-fields/retry (nick-fields/retry)</summary>

### [`v3`](https://togithub.com/nick-fields/retry/compare/v2...v3)

[Compare Source](https://togithub.com/nick-fields/retry/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xNTMuMiIsInVwZGF0ZWRJblZlciI6IjM3LjE1My4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/d24da1e_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/d24da1e_test-template.yml,None,None,None,"@@ -125,7 +125,7 @@ jobs:
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> ""$GITHUB_ENV""
 
       - name: Start Docker Compose Services
-        uses: nick-fields/retry@v2
+        uses: nick-fields/retry@v3
         with:
           timeout_minutes: 10
           max_attempts: 5
@@ -191,7 +191,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Start Docker Compose Services
-        uses: nick-fields/retry@v2
+        uses: nick-fields/retry@v3
         with:
           timeout_minutes: 10
           max_attempts: 5
@@ -265,7 +265,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Start Docker Compose Services
-        uses: nick-fields/retry@v2
+        uses: nick-fields/retry@v3
         with:
           timeout_minutes: 10
           max_attempts: 5
@@ -326,7 +326,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Start Docker Compose Services
-        uses: nick-fields/retry@v2
+        uses: nick-fields/retry@v3
         with:
           timeout_minutes: 10
           max_attempts: 5
@@ -425,7 +425,7 @@ jobs:
 
       # Not currently needed, but we might need it in the future
       - name: Start Docker Compose Services
-        uses: nick-fields/retry@v2
+        uses: nick-fields/retry@v3
         with:
           timeout_minutes: 10
           max_attempts: 5
@@ -477,7 +477,7 @@ jobs:
           fi
 
       - name: Start Docker Compose Services
-        uses: nick-fields/retry@v2
+        uses: nick-fields/retry@v3
         with:
           timeout_minutes: 10
           max_attempts: 5
@@ -609,7 +609,7 @@ jobs:
           echo ""PRISMA_CLIENT_ENGINE_TYPE=${{ matrix.queryEngine }}"" >> ""$GITHUB_ENV""
 
       - name: Start Docker Compose Services
-        uses: nick-fields/retry@v2
+        uses: nick-fields/retry@v3
         with:
           timeout_minutes: 10
           max_attempts: 5
@@ -653,7 +653,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Start Docker Compose Services
-        uses: nick-fields/retry@v2
+        uses: nick-fields/retry@v3
         with:
           timeout_minutes: 10
           max_attempts: 5
@@ -705,7 +705,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Start Docker Compose Services
-        uses: nick-fields/retry@v2
+        uses: nick-fields/retry@v3
         with:
           timeout_minutes: 10
           max_attempts: 5
@@ -757,7 +757,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - name: Start Docker Compose Services
-        uses: nick-fields/retry@v2
+        uses: nick-fields/retry@v3
         with:
           timeout_minutes: 10
           max_attempts: 5
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,d24da1e454505ab10757bbe7457ed993095fefcb,b5791ea835e53b853fa107d09ed44e6d823c54a3,2024-02-01 18:09:15+01:00,"chore(deps): update nick-fields/retry action to v3 (#22909)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",2,,update-engines-version.yml,MODIFY,3,3,,22909,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-02-01T02:06:04Z,2024-02-01T17:09:16Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [nick-fields/retry](https://togithub.com/nick-fields/retry) | action | major | `v2` -> `v3` |

---

### Release Notes

<details>
<summary>nick-fields/retry (nick-fields/retry)</summary>

### [`v3`](https://togithub.com/nick-fields/retry/compare/v2...v3)

[Compare Source](https://togithub.com/nick-fields/retry/compare/v2...v3)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xNTMuMiIsInVwZGF0ZWRJblZlciI6IjM3LjE1My4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/d24da1e_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/d24da1e_update-engines-version.yml,None,None,None,"@@ -58,7 +58,7 @@ jobs:
           pnpm --package=@prisma/ensure-npm-release dlx enr update -p @prisma/query-engine-wasm -u ${{ github.event.inputs.version }}
 
       - name: Update the dependencies (@prisma/engines-version)
-        uses: nick-fields/retry@v2
+        uses: nick-fields/retry@v3
         with:
           timeout_minutes: 7
           max_attempts: 3
@@ -67,7 +67,7 @@ jobs:
             pnpm update -r @prisma/engines-version@${{ github.event.inputs.version }}
 
       - name: Update the dependencies (@prisma/prisma-schema-wasm)
-        uses: nick-fields/retry@v2
+        uses: nick-fields/retry@v3
         with:
           timeout_minutes: 7
           max_attempts: 3
@@ -76,7 +76,7 @@ jobs:
             pnpm update -r @prisma/prisma-schema-wasm@${{ github.event.inputs.version }}
 
       - name: Update the dependencies (@prisma/query-engine-wasm)
-        uses: nick-fields/retry@v2
+        uses: nick-fields/retry@v3
         with:
           timeout_minutes: 7
           max_attempts: 3
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,8491f24bcb53e64efe4428291099469c551d0e2c,d24da1e454505ab10757bbe7457ed993095fefcb,2024-02-01 18:09:52+01:00,"chore(deps): update codecov/codecov-action action to v4 (#22908)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",1,,test-template.yml,MODIFY,25,25,,22908,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-02-01T02:05:49Z,2024-02-01T17:09:53Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [codecov/codecov-action](https://togithub.com/codecov/codecov-action) | action | major | `v3` -> `v4` |

---

### Release Notes

<details>
<summary>codecov/codecov-action (codecov/codecov-action)</summary>

### [`v4`](https://togithub.com/codecov/codecov-action/compare/v3...v4)

[Compare Source](https://togithub.com/codecov/codecov-action/compare/v3...v4)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xNTMuMiIsInVwZGF0ZWRJblZlciI6IjM3LjE1My4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/8491f24_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/8491f24_test-template.yml,None,None,None,"@@ -154,7 +154,7 @@ jobs:
           contains(inputs.jobsToRun, '-client-')
         working-directory: packages/client
 
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client,ubuntu,${{ matrix.queryEngine }}
@@ -221,7 +221,7 @@ jobs:
           JEST_JUNIT_SUITE_NAME: 'client/functional'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client,ubuntu,dataproxy
@@ -289,7 +289,7 @@ jobs:
           JEST_JUNIT_SUITE_NAME: 'client/functional'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client,ubuntu,driveradapters
@@ -552,7 +552,7 @@ jobs:
       - run: pnpm run test src/__tests__/types/types.test.ts
         working-directory: packages/client
 
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client-legacy-types,ubuntu,library,binary
@@ -627,7 +627,7 @@ jobs:
       - run: pnpm run test
         working-directory: packages/integration-tests
 
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         with:
           files: ./packages/integration-tests/src/__tests__/coverage/clover.xml
           flags: integration-tests,${{ matrix.node }},${{ matrix.queryEngine }}
@@ -679,7 +679,7 @@ jobs:
       - run: pnpm run test
         working-directory: packages/internals
 
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         with:
           files: ./packages/internals/src/__tests__/coverage/clover.xml
           flags: internals,${{ matrix.os }},${{ matrix.queryEngine }}
@@ -731,7 +731,7 @@ jobs:
       - run: pnpm run test
         working-directory: packages/migrate
 
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         with:
           files: ./packages/migrate/src/__tests__/coverage/clover.xml
           flags: migrate,${{ matrix.os }},${{ matrix.queryEngine }}
@@ -783,7 +783,7 @@ jobs:
       - run: pnpm run test
         working-directory: packages/cli
 
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         with:
           files: ./packages/cli/src/__tests__/coverage/clover.xml
           flags: cli,${{ matrix.os }},${{ matrix.queryEngine }}
@@ -817,7 +817,7 @@ jobs:
         name: 'debug'
         working-directory: packages/debug
 
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         with:
           files: ./packages/debug/src/__tests__/coverage/clover.xml
           flags: debug,${{ matrix.os }},library,binary
@@ -827,7 +827,7 @@ jobs:
         name: 'generator-helper'
         working-directory: packages/generator-helper
 
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         with:
           files: ./packages/generator-helper/src/__tests__/coverage/clover.xml
           flags: generator-helper,${{ matrix.os }},library,binary
@@ -837,7 +837,7 @@ jobs:
         name: 'get-platform'
         working-directory: packages/get-platform
 
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         with:
           files: ./packages/get-platform/src/__tests__/coverage/clover.xml
           flags: get-platform,${{ matrix.os }},library,binary
@@ -847,7 +847,7 @@ jobs:
         name: 'fetch-engine'
         working-directory: packages/fetch-engine
 
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         with:
           files: ./packages/fetch-engine/src/__tests__/coverage/clover.xml
           flags: fetch-engine,${{ matrix.os }},library,binary
@@ -857,7 +857,7 @@ jobs:
         name: 'engines'
         working-directory: packages/engines
 
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         with:
           files: ./packages/engines/src/__tests__/coverage/clover.xml
           flags: engines,${{ matrix.os }},library,binary
@@ -875,7 +875,7 @@ jobs:
         name: 'adapter-pg'
         working-directory: packages/adapter-pg
 
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         with:
           files: ./packages/adapter-planetscale/src/__tests__/coverage/clover.xml
           flags: adapter-planetscale,${{ matrix.os }},library,binary
@@ -885,7 +885,7 @@ jobs:
         name: 'instrumentation'
         working-directory: packages/instrumentation
 
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         with:
           files: ./packages/instrumentation/src/__tests__/coverage/clover.xml
           flags: instrumentation,${{ matrix.os }},library,binary
@@ -956,7 +956,7 @@ jobs:
           JEST_JUNIT_SUITE_NAME: 'client/functional'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
@@ -1026,7 +1026,7 @@ jobs:
         env:
           JEST_JUNIT_SUITE_NAME: 'internals'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-internals-')
         with:
           files: ./packages/internals/src/__tests__/coverage/clover.xml
@@ -1044,7 +1044,7 @@ jobs:
           NODE_OPTIONS: ""${{ matrix.os == 'macos-13' && '--max-old-space-size=14336' || '--max-old-space-size=3072' }}""
           JEST_JUNIT_SUITE_NAME: 'client/old'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-')
         with:
           files: ./packages/client/src/__tests__/coverage/clover.xml
@@ -1058,7 +1058,7 @@ jobs:
         env:
           JEST_JUNIT_SUITE_NAME: 'migrate'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-migrate-')
         with:
           files: ./packages/migrate/src/__tests__/coverage/clover.xml
@@ -1072,7 +1072,7 @@ jobs:
         env:
           JEST_JUNIT_SUITE_NAME: 'cli'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-cli-')
         with:
           files: ./packages/cli/src/__tests__/coverage/clover.xml
@@ -1086,7 +1086,7 @@ jobs:
         env:
           JEST_JUNIT_SUITE_NAME: 'debug'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-')
         with:
           files: ./packages/debug/src/__tests__/coverage/clover.xml
@@ -1100,7 +1100,7 @@ jobs:
         env:
           JEST_JUNIT_SUITE_NAME: 'generator-helper'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-')
         with:
           files: ./packages/generator-helper/src/__tests__/coverage/clover.xml
@@ -1114,7 +1114,7 @@ jobs:
         env:
           JEST_JUNIT_SUITE_NAME: 'get-platform'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-')
         with:
           files: ./packages/get-platform/src/__tests__/coverage/clover.xml
@@ -1128,7 +1128,7 @@ jobs:
         env:
           JEST_JUNIT_SUITE_NAME: 'fetch-engine'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-')
         with:
           files: ./packages/fetch-engine/src/__tests__/coverage/clover.xml
@@ -1142,7 +1142,7 @@ jobs:
         env:
           JEST_JUNIT_SUITE_NAME: 'engines'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v3
+      - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-')
         with:
           files: ./packages/engines/src/__tests__/coverage/clover.xml
",True,False,False,False,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,0495588f43c62ec58fef432e33d9786c79aa318a,5b660fca8650b58785ed599dde62d106c8df4797,2024-02-05 09:54:08-10:00,ci(bundle-size): properly diff sizes on PRs (#22960),7,5.10.0,bundle-size.yml,MODIFY,3,9,,22960,millsp,User,MEMBER,millsp,User,2024-02-05T19:40:21Z,2024-02-05T19:54:08Z,closed,,millsp,User,"I have this PR, which reduces the [size](https://github.com/prisma/prisma/pull/22864), but as you can see, the report says it does not on the gzip size while it does on the bundle. These numbers are incorrect obviously, and it's because I think I am not letting the github action do its thing properly. This PR attempts to fix that.",../Mining/generated/scripts/prisma/current_code/bundle-size.yml,../Mining/generated/scripts/prisma/files_src_before/0495588_bundle-size.yml,../Mining/generated/scripts/prisma/files_src_after/0495588_bundle-size.yml,0.0,0.0,0.0,"@@ -35,16 +35,10 @@ jobs:
         with:
           node-version: 18
           pnpm-version: 8
-          skip-tsc: false
-
-      - name: Pack all packages
-        run: pnpm -r --parallel exec pnpm pack
-
-      - name: Run bundle size project
-        working-directory: packages/bundle-size
-        run: pnpm run create-gzip-files
+          skip-tsc: true
+          skip-build: true
 
       - uses: andresz1/size-limit-action@v1
         with:
           github_token: ${{ secrets.GITHUB_TOKEN }}
-          skip_step: build
+          build_script: bundle-size
",False,False,False,False,False,False,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,44a9d3035b3680d0604c3454dae32a7096d88603,fa3cc1b1c2311488c0b83df07e7d5f9397435c12,2024-02-08 11:16:26+01:00,"chore(deps): update peter-evans/create-pull-request action to v6 (#22910)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>
[skip ci]",2,,update-engines-version.yml,MODIFY,3,3,,22910,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-02-01T02:06:10Z,2024-02-08T10:16:26Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [peter-evans/create-pull-request](https://togithub.com/peter-evans/create-pull-request) | action | major | `v5` -> `v6` |

---

### Release Notes

<details>
<summary>peter-evans/create-pull-request (peter-evans/create-pull-request)</summary>

### [`v6`](https://togithub.com/peter-evans/create-pull-request/compare/v5...v6)

[Compare Source](https://togithub.com/peter-evans/create-pull-request/compare/v5...v6)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xNTMuMiIsInVwZGF0ZWRJblZlciI6IjM3LjE1My4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/44a9d30_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/44a9d30_update-engines-version.yml,None,None,None,"@@ -99,7 +99,7 @@ jobs:
       - name: Create Pull Request
         id: cpr
         if: github.event.inputs.npmDistTag == 'latest'
-        uses: peter-evans/create-pull-request@v5
+        uses: peter-evans/create-pull-request@v6
         with:
           token: ${{ secrets.BOT_TOKEN }}
           commit-message: 'chore(deps): update engines to ${{ github.event.inputs.version }}'
@@ -146,7 +146,7 @@ jobs:
       - name: Create Pull Request for Integration Engine
         id: cpr-integration
         if: github.event.inputs.npmDistTag == 'integration'
-        uses: peter-evans/create-pull-request@v5
+        uses: peter-evans/create-pull-request@v6
         with:
           token: ${{ secrets.BOT_TOKEN }}
           commit-message: 'chore(deps): update engines to ${{ github.event.inputs.version }}'
@@ -189,7 +189,7 @@ jobs:
       - name: Create Pull Request for Patch Engine
         id: cpr-patch
         if: github.event.inputs.npmDistTag == 'patch'
-        uses: peter-evans/create-pull-request@v5
+        uses: peter-evans/create-pull-request@v6
         with:
           token: ${{ secrets.BOT_TOKEN }}
           commit-message: 'chore(deps): update engines to ${{ github.event.inputs.version }}'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,44a9d3035b3680d0604c3454dae32a7096d88603,fa3cc1b1c2311488c0b83df07e7d5f9397435c12,2024-02-08 11:16:26+01:00,"chore(deps): update peter-evans/create-pull-request action to v6 (#22910)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>
[skip ci]",2,,update-studio-version.yml,MODIFY,1,1,,22910,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-02-01T02:06:10Z,2024-02-08T10:16:26Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [peter-evans/create-pull-request](https://togithub.com/peter-evans/create-pull-request) | action | major | `v5` -> `v6` |

---

### Release Notes

<details>
<summary>peter-evans/create-pull-request (peter-evans/create-pull-request)</summary>

### [`v6`](https://togithub.com/peter-evans/create-pull-request/compare/v5...v6)

[Compare Source](https://togithub.com/peter-evans/create-pull-request/compare/v5...v6)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xNTMuMiIsInVwZGF0ZWRJblZlciI6IjM3LjE1My4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/44a9d30_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/44a9d30_update-studio-version.yml,None,None,None,"@@ -40,7 +40,7 @@ jobs:
 
       - name: Create Pull Request
         id: cpr
-        uses: peter-evans/create-pull-request@v5
+        uses: peter-evans/create-pull-request@v6
         with:
           token: ${{ secrets.BOT_TOKEN }}
           commit-message: 'chore(deps): update studio to ${{ github.event.inputs.version }}'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,cbe17482764710d518d6dad1594e124394847961,80d65a7fb899b36eece588bf488e23eb26deff24,2024-02-08 12:47:00+01:00,"chore(deps): update pnpm/action-setup action to v3 (#23018)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",3,,update-engines-version.yml,MODIFY,1,1,,23018,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-02-08T11:25:23Z,2024-02-08T11:47:00Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | major | `v2.4.0` -> `v3.0.0` |

---

### Release Notes

<details>
<summary>pnpm/action-setup (pnpm/action-setup)</summary>

### [`v3.0.0`](https://togithub.com/pnpm/action-setup/compare/v2.4.0...v3.0.0)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.4.0...v3.0.0)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xNzMuMCIsInVwZGF0ZWRJblZlciI6IjM3LjE3My4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/cbe1748_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/cbe1748_update-engines-version.yml,None,None,None,"@@ -29,7 +29,7 @@ jobs:
 
       - uses: actions/checkout@v4
 
-      - uses: pnpm/action-setup@v2.4.0
+      - uses: pnpm/action-setup@v3.0.0
         with:
           version: 8
 
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,cbe17482764710d518d6dad1594e124394847961,80d65a7fb899b36eece588bf488e23eb26deff24,2024-02-08 12:47:00+01:00,"chore(deps): update pnpm/action-setup action to v3 (#23018)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",3,,update-studio-version.yml,MODIFY,1,1,,23018,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-02-08T11:25:23Z,2024-02-08T11:47:00Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [pnpm/action-setup](https://togithub.com/pnpm/action-setup) | action | major | `v2.4.0` -> `v3.0.0` |

---

### Release Notes

<details>
<summary>pnpm/action-setup (pnpm/action-setup)</summary>

### [`v3.0.0`](https://togithub.com/pnpm/action-setup/compare/v2.4.0...v3.0.0)

[Compare Source](https://togithub.com/pnpm/action-setup/compare/v2.4.0...v3.0.0)

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xNzMuMCIsInVwZGF0ZWRJblZlciI6IjM3LjE3My4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/cbe1748_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/cbe1748_update-studio-version.yml,None,None,None,"@@ -15,7 +15,7 @@ jobs:
     steps:
       - uses: actions/checkout@v4
 
-      - uses: pnpm/action-setup@v2.4.0
+      - uses: pnpm/action-setup@v3.0.0
         with:
           version: 8
 
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,25c863f54d5b90ccf57f7de31aa1c75dbba98036,326bc162fae2b17b417653273e003b9be596ef52,2024-02-08 17:01:25+01:00,ci: use CODECOV_TOKEN (#23021),2,5.10.0,test-template.yml,MODIFY,27,0,,23021,Jolg42,User,MEMBER,Jolg42,User,2024-02-08T14:20:36Z,2024-02-08T16:01:25Z,closed,,,,"Needed since https://github.com/prisma/prisma/pull/22908

To avoid failures that are reported as warnings, for example
https://github.com/prisma/prisma/actions/runs/7830436419
<img width=""885"" alt=""Screenshot 2024-02-08 at 15 35 49"" src=""https://github.com/prisma/prisma/assets/1328733/a4e1180d-f428-4321-8ee4-e32f4a5a6510"">


While looking at this I requested adding the GitHub app which added 2 “checks”, these will always pass as I configured them to be informational.

We can remove this later if that is not useful
<img width=""697"" alt=""Screenshot 2024-02-08 at 15 49 26"" src=""https://github.com/prisma/prisma/assets/1328733/ef1f556d-16ed-4a80-99fa-6fbea44ab8ed"">
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/25c863f_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/25c863f_test-template.yml,None,None,None,"@@ -40,6 +40,8 @@ on:
         required: false
       BOT_TOKEN:
         required: false
+      CODECOV_TOKEN:
+        required: false
 
 env:
   HAS_BUILDPULSE_SECRETS: ${{ secrets.BUILDPULSE_ACCESS_KEY_ID != '' && secrets.BUILDPULSE_SECRET_ACCESS_KEY != '' }}
@@ -156,6 +158,7 @@ jobs:
 
       - uses: codecov/codecov-action@v4
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client,ubuntu,${{ matrix.queryEngine }}
           name: client-ubuntu-${{ matrix.queryEngine }}
@@ -223,6 +226,7 @@ jobs:
 
       - uses: codecov/codecov-action@v4
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client,ubuntu,dataproxy
           name: client-ubuntu-dataproxy
@@ -291,6 +295,7 @@ jobs:
 
       - uses: codecov/codecov-action@v4
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client,ubuntu,driveradapters
           name: client-ubuntu-driveradapters
@@ -554,6 +559,7 @@ jobs:
 
       - uses: codecov/codecov-action@v4
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client-legacy-types,ubuntu,library,binary
           name: client-legacy-types-ubuntu
@@ -629,6 +635,7 @@ jobs:
 
       - uses: codecov/codecov-action@v4
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/integration-tests/src/__tests__/coverage/clover.xml
           flags: integration-tests,${{ matrix.node }},${{ matrix.queryEngine }}
           name: integration-tests-${{ matrix.node }}-${{ matrix.queryEngine }}
@@ -681,6 +688,7 @@ jobs:
 
       - uses: codecov/codecov-action@v4
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/internals/src/__tests__/coverage/clover.xml
           flags: internals,${{ matrix.os }},${{ matrix.queryEngine }}
           name: internals-${{ matrix.os }}-${{ matrix.queryEngine }}
@@ -733,6 +741,7 @@ jobs:
 
       - uses: codecov/codecov-action@v4
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/migrate/src/__tests__/coverage/clover.xml
           flags: migrate,${{ matrix.os }},${{ matrix.queryEngine }}
           name: migrate-${{ matrix.os }}-${{ matrix.queryEngine }}
@@ -785,6 +794,7 @@ jobs:
 
       - uses: codecov/codecov-action@v4
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/cli/src/__tests__/coverage/clover.xml
           flags: cli,${{ matrix.os }},${{ matrix.queryEngine }}
           name: cli-${{ matrix.os }}-${{ matrix.queryEngine }}
@@ -819,6 +829,7 @@ jobs:
 
       - uses: codecov/codecov-action@v4
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/debug/src/__tests__/coverage/clover.xml
           flags: debug,${{ matrix.os }},library,binary
           name: debug-${{ matrix.os }}
@@ -829,6 +840,7 @@ jobs:
 
       - uses: codecov/codecov-action@v4
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/generator-helper/src/__tests__/coverage/clover.xml
           flags: generator-helper,${{ matrix.os }},library,binary
           name: generator-helper-${{ matrix.os }}
@@ -839,6 +851,7 @@ jobs:
 
       - uses: codecov/codecov-action@v4
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/get-platform/src/__tests__/coverage/clover.xml
           flags: get-platform,${{ matrix.os }},library,binary
           name: get-platform-${{ matrix.os }}
@@ -849,6 +862,7 @@ jobs:
 
       - uses: codecov/codecov-action@v4
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/fetch-engine/src/__tests__/coverage/clover.xml
           flags: fetch-engine,${{ matrix.os }},library,binary
           name: fetch-engine-${{ matrix.os }}
@@ -859,6 +873,7 @@ jobs:
 
       - uses: codecov/codecov-action@v4
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/engines/src/__tests__/coverage/clover.xml
           flags: engines,${{ matrix.os }},library,binary
           name: engines-${{ matrix.os }}
@@ -877,6 +892,7 @@ jobs:
 
       - uses: codecov/codecov-action@v4
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/adapter-planetscale/src/__tests__/coverage/clover.xml
           flags: adapter-planetscale,${{ matrix.os }},library,binary
           name: adapter-planetscale-${{ matrix.os }}
@@ -887,6 +903,7 @@ jobs:
 
       - uses: codecov/codecov-action@v4
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/instrumentation/src/__tests__/coverage/clover.xml
           flags: instrumentation,${{ matrix.os }},library,binary
           name: instrumentation-${{ matrix.os }}
@@ -958,6 +975,7 @@ jobs:
 
       - uses: codecov/codecov-action@v4
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
           name: client-functional-${{ matrix.os }}-${{ matrix.queryEngine }}
@@ -1029,6 +1047,7 @@ jobs:
       - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-internals-')
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/internals/src/__tests__/coverage/clover.xml
           flags: internals,${{ matrix.os }},${{ matrix.queryEngine }}
           name: internals-${{ matrix.os }}-${{ matrix.queryEngine }}
@@ -1047,6 +1066,7 @@ jobs:
       - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-')
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/client/src/__tests__/coverage/clover.xml
           flags: client,${{ matrix.os }},${{ matrix.queryEngine }}
           name: client-${{ matrix.os }}-${{ matrix.queryEngine }}
@@ -1061,6 +1081,7 @@ jobs:
       - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-migrate-')
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/migrate/src/__tests__/coverage/clover.xml
           flags: migrate,${{ matrix.os }},${{ matrix.queryEngine }}
           name: migrate-${{ matrix.os }}-${{ matrix.queryEngine }}
@@ -1075,6 +1096,7 @@ jobs:
       - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-cli-')
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/cli/src/__tests__/coverage/clover.xml
           flags: cli,${{ matrix.os }},${{ matrix.queryEngine }}
           name: cli-${{ matrix.os }}-${{ matrix.queryEngine }}
@@ -1089,6 +1111,7 @@ jobs:
       - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-')
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/debug/src/__tests__/coverage/clover.xml
           flags: debug,${{ matrix.os }},library,binary
           name: debug-${{ matrix.os }}
@@ -1103,6 +1126,7 @@ jobs:
       - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-')
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/generator-helper/src/__tests__/coverage/clover.xml
           flags: generator-helper,${{ matrix.os }},library,binary
           name: generator-helper-${{ matrix.os }}
@@ -1117,6 +1141,7 @@ jobs:
       - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-')
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/get-platform/src/__tests__/coverage/clover.xml
           flags: get-platform,${{ matrix.os }},library,binary
           name: get-platform-${{ matrix.os }}
@@ -1131,6 +1156,7 @@ jobs:
       - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-')
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/fetch-engine/src/__tests__/coverage/clover.xml
           flags: fetch-engine,${{ matrix.os }},library,binary
           name: fetch-engine-${{ matrix.os }}
@@ -1145,6 +1171,7 @@ jobs:
       - uses: codecov/codecov-action@v4
         if: contains(inputs.jobsToRun, '-all-')
         with:
+          token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/engines/src/__tests__/coverage/clover.xml
           flags: engines,${{ matrix.os }},library,binary
           name: engines-${{ matrix.os }}
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,095cba1a1b79d0d950246b07c9fb48d22fd7f229,3de96ab09fa2f33be8cc635bb3a8e07729bac713,2024-02-08 18:39:15+01:00,"ci:Revert ""chore(deps): update codecov/codecov-action action to v4"" (#23028)",1,5.10.0,test-template.yml,MODIFY,25,25,,23028,Jolg42,User,MEMBER,Jolg42,User,2024-02-08T17:28:36Z,2024-02-08T17:39:15Z,closed,,,,"Reverts prisma/prisma#22908

Because it fails too often with `EPIPE` errors

See tracking issues
https://github.com/codecov/codecov-action/issues/1281
https://github.com/codecov/codecov-action/issues/1280",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/095cba1_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/095cba1_test-template.yml,None,None,None,"@@ -156,7 +156,7 @@ jobs:
           contains(inputs.jobsToRun, '-client-')
         working-directory: packages/client
 
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/client/src/__tests__/coverage/clover.xml
@@ -224,7 +224,7 @@ jobs:
           JEST_JUNIT_SUITE_NAME: 'client/functional'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/client/src/__tests__/coverage/clover.xml
@@ -293,7 +293,7 @@ jobs:
           JEST_JUNIT_SUITE_NAME: 'client/functional'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/client/src/__tests__/coverage/clover.xml
@@ -557,7 +557,7 @@ jobs:
       - run: pnpm run test src/__tests__/types/types.test.ts
         working-directory: packages/client
 
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/client/src/__tests__/coverage/clover.xml
@@ -633,7 +633,7 @@ jobs:
       - run: pnpm run test
         working-directory: packages/integration-tests
 
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/integration-tests/src/__tests__/coverage/clover.xml
@@ -686,7 +686,7 @@ jobs:
       - run: pnpm run test
         working-directory: packages/internals
 
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/internals/src/__tests__/coverage/clover.xml
@@ -739,7 +739,7 @@ jobs:
       - run: pnpm run test
         working-directory: packages/migrate
 
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/migrate/src/__tests__/coverage/clover.xml
@@ -792,7 +792,7 @@ jobs:
       - run: pnpm run test
         working-directory: packages/cli
 
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/cli/src/__tests__/coverage/clover.xml
@@ -827,7 +827,7 @@ jobs:
         name: 'debug'
         working-directory: packages/debug
 
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/debug/src/__tests__/coverage/clover.xml
@@ -838,7 +838,7 @@ jobs:
         name: 'generator-helper'
         working-directory: packages/generator-helper
 
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/generator-helper/src/__tests__/coverage/clover.xml
@@ -849,7 +849,7 @@ jobs:
         name: 'get-platform'
         working-directory: packages/get-platform
 
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/get-platform/src/__tests__/coverage/clover.xml
@@ -860,7 +860,7 @@ jobs:
         name: 'fetch-engine'
         working-directory: packages/fetch-engine
 
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/fetch-engine/src/__tests__/coverage/clover.xml
@@ -871,7 +871,7 @@ jobs:
         name: 'engines'
         working-directory: packages/engines
 
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/engines/src/__tests__/coverage/clover.xml
@@ -890,7 +890,7 @@ jobs:
         name: 'adapter-pg'
         working-directory: packages/adapter-pg
 
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/adapter-planetscale/src/__tests__/coverage/clover.xml
@@ -901,7 +901,7 @@ jobs:
         name: 'instrumentation'
         working-directory: packages/instrumentation
 
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/instrumentation/src/__tests__/coverage/clover.xml
@@ -973,7 +973,7 @@ jobs:
           JEST_JUNIT_SUITE_NAME: 'client/functional'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
           files: ./packages/client/src/__tests__/coverage/clover.xml
@@ -1044,7 +1044,7 @@ jobs:
         env:
           JEST_JUNIT_SUITE_NAME: 'internals'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-internals-')
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
@@ -1063,7 +1063,7 @@ jobs:
           NODE_OPTIONS: ""${{ matrix.os == 'macos-13' && '--max-old-space-size=14336' || '--max-old-space-size=3072' }}""
           JEST_JUNIT_SUITE_NAME: 'client/old'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-client-')
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
@@ -1078,7 +1078,7 @@ jobs:
         env:
           JEST_JUNIT_SUITE_NAME: 'migrate'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-migrate-')
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
@@ -1093,7 +1093,7 @@ jobs:
         env:
           JEST_JUNIT_SUITE_NAME: 'cli'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         if: contains(inputs.jobsToRun, '-all-') || contains(inputs.jobsToRun, '-cli-')
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
@@ -1108,7 +1108,7 @@ jobs:
         env:
           JEST_JUNIT_SUITE_NAME: 'debug'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         if: contains(inputs.jobsToRun, '-all-')
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
@@ -1123,7 +1123,7 @@ jobs:
         env:
           JEST_JUNIT_SUITE_NAME: 'generator-helper'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         if: contains(inputs.jobsToRun, '-all-')
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
@@ -1138,7 +1138,7 @@ jobs:
         env:
           JEST_JUNIT_SUITE_NAME: 'get-platform'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         if: contains(inputs.jobsToRun, '-all-')
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
@@ -1153,7 +1153,7 @@ jobs:
         env:
           JEST_JUNIT_SUITE_NAME: 'fetch-engine'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         if: contains(inputs.jobsToRun, '-all-')
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
@@ -1168,7 +1168,7 @@ jobs:
         env:
           JEST_JUNIT_SUITE_NAME: 'engines'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
-      - uses: codecov/codecov-action@v4
+      - uses: codecov/codecov-action@v3
         if: contains(inputs.jobsToRun, '-all-')
         with:
           token: ${{ secrets.CODECOV_TOKEN }}
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,ac2f048c470f30b127ffa17ce1b852db564c7b0c,e0022fbde789fab90b19f4b04bb2b34d8ed54b14,2024-02-12 09:20:06+01:00,ci(mongodb-migrate): change seeding script (#23044),5,5.10.0,test-template.yml,MODIFY,1,1,,23044,Jolg42,User,MEMBER,Jolg42,User,2024-02-09T10:35:40Z,2024-02-12T08:20:07Z,closed,,,,Closes https://github.com/prisma/team-orm/issues/901,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/ac2f048_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/ac2f048_test-template.yml,None,None,None,"@@ -718,7 +718,7 @@ jobs:
           timeout_minutes: 10
           max_attempts: 5
           retry_wait_seconds: 120
-          command: docker compose -f docker/docker-compose.yml up --wait --detach postgres mysql mssql mongodb_migrate mongodb_migrate_seed cockroachdb
+          command: docker compose -f docker/docker-compose.yml up --wait --detach postgres mysql mssql mongodb_migrate cockroachdb
 
       - name: Set CLI Engine Type
         run: |
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,132fe1787e64e57f1312a1ea1a25d9201b8d6fd0,5d4998327e55dd06fcb9bb6e303db4e63c7b55fe,2024-02-13 09:51:46+01:00,refactor(cli/platform): optimize structure for CI runs (#23056),23,5.10.0,test-template.yml,MODIFY,41,0,,23056,Jolg42,User,MEMBER,Jolg42,User,2024-02-09T16:18:32Z,2024-02-13T08:51:46Z,closed,,,,"Closes https://github.com/prisma/team-orm/issues/894

adds these jobs:
<img width=""715"" alt=""Screenshot 2024-02-12 at 10 08 08"" src=""https://github.com/prisma/prisma/assets/1328733/af56a72a-3e55-4520-a3eb-7816b445b0f8"">
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/132fe17_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/132fe17_test-template.yml,0.3333333333333333,0.3333333333333333,1.0,"@@ -799,6 +799,47 @@ jobs:
           flags: cli,${{ matrix.os }},${{ matrix.queryEngine }}
           name: cli-${{ matrix.os }}-${{ matrix.queryEngine }}
 
+  #
+  # CLI-PLATFORM-COMMANDS (only)
+  #
+  cli-platform-commands:
+    name: CLI platform
+    timeout-minutes: 10
+    runs-on: ${{ matrix.os }}
+    if: |
+      contains(inputs.jobsToRun, '-all-') ||
+      contains(inputs.jobsToRun, '-cli-platform-')
+    strategy:
+      fail-fast: false
+      matrix:
+        os: [ubuntu-latest]
+        node: [16, 18, 20]
+        include:
+          - os: windows-latest
+            version: 16
+          - os: macos-latest
+            version: 16
+    steps:
+      - uses: actions/checkout@v4
+
+      - name: Install & build
+        uses: ./.github/actions/setup
+        with:
+          node-version: ${{ matrix.node }}
+          pnpm-version: ${{ inputs.pnpmVersion }}
+          engine-hash: ${{ inputs.engineHash }}
+          skip-tsc: true
+
+      - run: pnpm run test:platform
+        working-directory: packages/cli
+
+      - uses: codecov/codecov-action@v3
+        with:
+          token: ${{ secrets.CODECOV_TOKEN }}
+          files: ./packages/cli/src/__tests__/coverage/clover.xml
+          flags: cli-platform,${{ matrix.os }}
+          name: cli-platform-${{ matrix.os }}
+
   #
   # All the other packages!
   #
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,354aaf0a7bc18a95d715d4d118d66faf988d3683,857abb9c64a2c7d2e08328f3bf6b5b0c3885e09a,2024-02-14 15:39:23+01:00,test(client): D1 tests (#22794),41,5.10.0,test-template.yml,MODIFY,1,1,,22794,Jolg42,User,MEMBER,Jolg42,User,2024-01-24T15:54:32Z,2024-02-14T14:39:24Z,closed,,"Jolg42, Druue","User, User","Closes https://github.com/prisma/team-orm/issues/855

Part of https://github.com/prisma/team-orm/issues/856",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/354aaf0_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/354aaf0_test-template.yml,0.0,0.6407766990291263,0.0,"@@ -257,7 +257,7 @@ jobs:
       fail-fast: false
       matrix:
         clientRuntime: ['node', 'wasm']
-        flavor: ['js_pg', 'js_neon', 'js_libsql', 'js_planetscale'] # 'js_d1'
+        flavor: ['js_pg', 'js_neon', 'js_libsql', 'js_planetscale', 'js_d1']
         shard: ['1/6', '2/6', '3/6', '4/6', '5/6', '6/6']
         node: [20] #[16, 18, 20]
         previewFeatures: ['driverAdapters', 'driverAdapters,relationJoins']
",True,False,False,False,False,True,False
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,9cf7df88e471b085c597e2d2d75f3d8ba408823b,aa1b68367d0513754784f1e20ee7d3f9917b47c9,2024-03-04 10:41:46+01:00,"chore(deps): update ana06/get-changed-files action to v2.3.0 (#23268)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",1,,test.yml,MODIFY,1,1,,23268,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-02-24T00:58:08Z,2024-03-04T09:41:46Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [Ana06/get-changed-files](https://togithub.com/Ana06/get-changed-files) | action | minor | `v2.2.0` -> `v2.3.0` |

---

### Release Notes

<details>
<summary>Ana06/get-changed-files (Ana06/get-changed-files)</summary>

### [`v2.3.0`](https://togithub.com/Ana06/get-changed-files/releases/tag/v2.3.0)

[Compare Source](https://togithub.com/Ana06/get-changed-files/compare/v2.2.0...v2.3.0)

This project is a fork of [jitterbit/get-changed-files](https://togithub.com/jitterbit/get-changed-files), which:

-   Supports `pull_request_target`
-   Allows to filter files using regular expressions
-   Removes the ahead check
-   Considers renamed modified files as modified
-   Adds `added_modified_renamed` that includes renamed non-modified files and all files in `added_modified`
-   Uses Node 20

#### Changes

-   Update to Node 20
-   Update dependencies

#### Raw diff

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yMDAuMCIsInVwZGF0ZWRJblZlciI6IjM3LjIwMC4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/test.yml,../Mining/generated/scripts/prisma/files_src_before/9cf7df8_test.yml,../Mining/generated/scripts/prisma/files_src_after/9cf7df8_test.yml,None,None,None,"@@ -51,7 +51,7 @@ jobs:
       - uses: actions/checkout@v4
 
       - id: files
-        uses: Ana06/get-changed-files@v2.2.0 # it's a fork of jitterbit/get-changed-files@v1 which works better with pull requests
+        uses: Ana06/get-changed-files@v2.3.0 # it's a fork of jitterbit/get-changed-files@v1 which works better with pull requests
         with:
           format: 'json'
       - id: detect
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,cbd8aadce93692f5f28cc5d18d71a8fe388c5d9b,9cf7df88e471b085c597e2d2d75f3d8ba408823b,2024-03-04 11:09:52+01:00,"chore(deps): update rhysd/actionlint docker tag to v1.6.27 (#23272)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",1,,lint-workflow-files.yml,MODIFY,1,1,,23272,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-02-24T16:36:19Z,2024-03-04T10:09:52Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| rhysd/actionlint | docker | patch | `1.6.26` -> `1.6.27` |

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yMDAuMCIsInVwZGF0ZWRJblZlciI6IjM3LjIwMC4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/lint-workflow-files.yml,../Mining/generated/scripts/prisma/files_src_before/cbd8aad_lint-workflow-files.yml,../Mining/generated/scripts/prisma/files_src_after/cbd8aad_lint-workflow-files.yml,None,None,None,"@@ -13,4 +13,4 @@ jobs:
       # see https://github.com/rhysd/actionlint/blob/main/docs/usage.md
       - name: Check workflow files
         # https://hub.docker.com/r/rhysd/actionlint/tags
-        uses: docker://rhysd/actionlint:1.6.26
+        uses: docker://rhysd/actionlint:1.6.27
",False,False,False,False,False,False,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,1b96064c89c2d70a81e9223029f920380dc9f0e1,b1f86d89ae54ceb69889ac167e56457746f8c4af,2024-03-04 11:58:58+01:00,"ci: use macOS 14 (#22904)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",2,5.11.0,build-engine-branch.yml,MODIFY,1,1,,22904,millsp,User,MEMBER,Jolg42,User,2024-01-31T20:17:16Z,2024-03-04T10:58:58Z,closed,topic: tech debt,millsp,User,,../Mining/generated/scripts/prisma/current_code/build-engine-branch.yml,../Mining/generated/scripts/prisma/files_src_before/1b96064_build-engine-branch.yml,../Mining/generated/scripts/prisma/files_src_after/1b96064_build-engine-branch.yml,None,None,None,"@@ -43,7 +43,7 @@ jobs:
     name: Build
     strategy:
       matrix:
-        os: [ubuntu-latest, macos-13, windows-latest]
+        os: [ubuntu-latest, macos-14, windows-latest]
     runs-on: ${{ matrix.os }}
     needs: parseCommand
     if: ${{ needs.parseCommand.outputs.branchName != '' }}
",True,False,False,False,False,True,False
prisma,pierre,User,pierreantoine.urvoy@gmail.com,GitHub,User,noreply@github.com,1b96064c89c2d70a81e9223029f920380dc9f0e1,b1f86d89ae54ceb69889ac167e56457746f8c4af,2024-03-04 11:58:58+01:00,"ci: use macOS 14 (#22904)

Co-authored-by: Joël Galeran <Jolg42@users.noreply.github.com>",2,5.11.0,test-template.yml,MODIFY,4,4,,22904,millsp,User,MEMBER,Jolg42,User,2024-01-31T20:17:16Z,2024-03-04T10:58:58Z,closed,topic: tech debt,millsp,User,,../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/1b96064_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/1b96064_test-template.yml,None,None,None,"@@ -968,7 +968,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        os: [macos-13, windows-latest]
+        os: [macos-14, windows-latest]
         node: [16]
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
         shard: ['1/2', '2/2']
@@ -1010,7 +1010,7 @@ jobs:
         env:
           # allow Node.js to allocate at most 14GB of heap on macOS and 7GB on Windows
           # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
-          NODE_OPTIONS: ""${{ matrix.os == 'macos-13' && '--max-old-space-size=14336' || '--max-old-space-size=7168' }}""
+          NODE_OPTIONS: ""${{ matrix.os == 'macos-14' && '--max-old-space-size=14336' || '--max-old-space-size=7168' }}""
           JEST_JUNIT_SUITE_NAME: 'client/functional'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
 
@@ -1046,7 +1046,7 @@ jobs:
     strategy:
       fail-fast: false
       matrix:
-        os: [macos-13, windows-latest]
+        os: [macos-14, windows-latest]
         node: [16]
         queryEngine: ${{ fromJson(inputs.queryEngine) }}
     steps:
@@ -1101,7 +1101,7 @@ jobs:
           # Allow Node.js to allocate at most a certain amount heap on macOS and a different amount on Windows
           # Note that this value should be lower than the total amount of RAM available
           # https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
-          NODE_OPTIONS: ""${{ matrix.os == 'macos-13' && '--max-old-space-size=14336' || '--max-old-space-size=3072' }}""
+          NODE_OPTIONS: ""${{ matrix.os == 'macos-14' && '--max-old-space-size=14336' || '--max-old-space-size=3072' }}""
           JEST_JUNIT_SUITE_NAME: 'client/old'
           JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
       - uses: codecov/codecov-action@v3
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,b05acd60fdedecdc917251b8558fd85cced93432,9dbc4d77fc14bc7af33ff5ca468cce69a0767e3d,2024-03-06 10:09:54+01:00,"ci(dist-tag): add d1 to early-access (#23380)

[skip ci]",1,5.11.0,manage-dist-tag.yml,MODIFY,2,1,,23380,Jolg42,User,MEMBER,Jolg42,User,2024-03-06T09:09:21Z,2024-03-06T09:09:55Z,closed,,Jolg42,User,[skip ci],../Mining/generated/scripts/prisma/current_code/manage-dist-tag.yml,../Mining/generated/scripts/prisma/files_src_before/b05acd6_manage-dist-tag.yml,../Mining/generated/scripts/prisma/files_src_after/b05acd6_manage-dist-tag.yml,None,None,None,"@@ -50,10 +50,11 @@ jobs:
           sleep 10
 
           npm dist-tag ""${{ env.ACTION }}"" ""@prisma/client${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
-          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-planetscale${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-d1${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
           npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-libsql${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
           npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-neon${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
           npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-pg${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-planetscale${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
           npm dist-tag ""${{ env.ACTION }}"" ""prisma${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
         env:
           # Secrets
",False,False,False,False,True,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,95fa6ec97f45db5ebd5f468bf002a7984e853694,cff910a6798a4b92b1f076877263e529a44d987d,2024-03-19 15:17:49+01:00,ci(manage-dist-tags): remove adapters now in Preview (#23539),1,5.12.0,manage-dist-tag.yml,MODIFY,3,5,,23539,Jolg42,User,MEMBER,Jolg42,User,2024-03-19T14:06:35Z,2024-03-19T14:17:50Z,closed,,Jolg42,User,,../Mining/generated/scripts/prisma/current_code/manage-dist-tag.yml,../Mining/generated/scripts/prisma/files_src_before/95fa6ec_manage-dist-tag.yml,../Mining/generated/scripts/prisma/files_src_after/95fa6ec_manage-dist-tag.yml,None,None,None,"@@ -50,12 +50,10 @@ jobs:
           sleep 10
 
           npm dist-tag ""${{ env.ACTION }}"" ""@prisma/client${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
-          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-d1${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
-          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-libsql${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
-          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-neon${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
-          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-pg${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
-          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-planetscale${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
           npm dist-tag ""${{ env.ACTION }}"" ""prisma${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+
+          npm dist-tag ""${{ env.ACTION }}"" ""@prisma/adapter-d1${{ env.VERSION }}"" ""${{ env.TAG_NAME }}""
+
         env:
           # Secrets
           # Note: must use personal access token
",False,False,False,False,True,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c91c90b716782d87add05d9c076351003c6071d0,bb3f4f6252b470f59ff79c7e448fe3b990be5fef,2024-03-20 09:59:58+01:00,"chore(deps): update rtcamp/action-slack-notify action to v2.3.0 (#23556)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",8,,benchmark.yml,MODIFY,1,1,,23556,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-03-20T06:29:58Z,2024-03-20T08:59:58Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [rtCamp/action-slack-notify](https://togithub.com/rtCamp/action-slack-notify) | action | minor | `v2.2.1` -> `v2.3.0` |

---

### Release Notes

<details>
<summary>rtCamp/action-slack-notify (rtCamp/action-slack-notify)</summary>

### [`v2.3.0`](https://togithub.com/rtCamp/action-slack-notify/releases/tag/v2.3.0): Version 2.3.0

[Compare Source](https://togithub.com/rtCamp/action-slack-notify/compare/v2.2.1...v2.3.0)

##### What's Changed

-   Add github action to build for ARM and x86 by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/160](https://togithub.com/rtCamp/action-slack-notify/pull/160)
-   Update actions used for building and pushing to latest by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/161](https://togithub.com/rtCamp/action-slack-notify/pull/161)
-   Resolve a series of existing issues by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/162](https://togithub.com/rtCamp/action-slack-notify/pull/162)
-   Update README to include other `SLACK_COLOR` valid values by [@&#8203;mochetts](https://togithub.com/mochetts) in [https://github.com/rtCamp/action-slack-notify/pull/144](https://togithub.com/rtCamp/action-slack-notify/pull/144)
-   lowercase EnvSlackColor by [@&#8203;ilyatovbin-pp](https://togithub.com/ilyatovbin-pp) in [https://github.com/rtCamp/action-slack-notify/pull/130](https://togithub.com/rtCamp/action-slack-notify/pull/130)
-   Add support for Application Tokens + Resolve Remaining Issues by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/164](https://togithub.com/rtCamp/action-slack-notify/pull/164)
-   Add fix for uncleared spaces around variables and file uploads by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/166](https://togithub.com/rtCamp/action-slack-notify/pull/166)
-   Fix `invalid reference format: repository name must be lowercase` error by [@&#8203;ohbarye](https://togithub.com/ohbarye) in [https://github.com/rtCamp/action-slack-notify/pull/167](https://togithub.com/rtCamp/action-slack-notify/pull/167)

##### New Contributors

-   [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/160](https://togithub.com/rtCamp/action-slack-notify/pull/160)
-   [@&#8203;mochetts](https://togithub.com/mochetts) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/144](https://togithub.com/rtCamp/action-slack-notify/pull/144)
-   [@&#8203;ilyatovbin-pp](https://togithub.com/ilyatovbin-pp) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/130](https://togithub.com/rtCamp/action-slack-notify/pull/130)
-   [@&#8203;ohbarye](https://togithub.com/ohbarye) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/167](https://togithub.com/rtCamp/action-slack-notify/pull/167)

**Full Changelog**: https://github.com/rtCamp/action-slack-notify/compare/v2.2.1...v2.3.0

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNDUuMCIsInVwZGF0ZWRJblZlciI6IjM3LjI0NS4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/c91c90b_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/c91c90b_benchmark.yml,None,None,None,"@@ -97,7 +97,7 @@ jobs:
 
       - name: Slack Notification on Failure
         if: ${{ failure() && github.ref == 'refs/heads/main' }}
-        uses: rtCamp/action-slack-notify@v2.2.1
+        uses: rtCamp/action-slack-notify@v2.3.0
         env:
           SLACK_TITLE: 'Benchmark failed :x:'
           SLACK_COLOR: '#FF0000'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c91c90b716782d87add05d9c076351003c6071d0,bb3f4f6252b470f59ff79c7e448fe3b990be5fef,2024-03-20 09:59:58+01:00,"chore(deps): update rtcamp/action-slack-notify action to v2.3.0 (#23556)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",8,,codeql-analysis.yml,MODIFY,1,1,,23556,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-03-20T06:29:58Z,2024-03-20T08:59:58Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [rtCamp/action-slack-notify](https://togithub.com/rtCamp/action-slack-notify) | action | minor | `v2.2.1` -> `v2.3.0` |

---

### Release Notes

<details>
<summary>rtCamp/action-slack-notify (rtCamp/action-slack-notify)</summary>

### [`v2.3.0`](https://togithub.com/rtCamp/action-slack-notify/releases/tag/v2.3.0): Version 2.3.0

[Compare Source](https://togithub.com/rtCamp/action-slack-notify/compare/v2.2.1...v2.3.0)

##### What's Changed

-   Add github action to build for ARM and x86 by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/160](https://togithub.com/rtCamp/action-slack-notify/pull/160)
-   Update actions used for building and pushing to latest by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/161](https://togithub.com/rtCamp/action-slack-notify/pull/161)
-   Resolve a series of existing issues by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/162](https://togithub.com/rtCamp/action-slack-notify/pull/162)
-   Update README to include other `SLACK_COLOR` valid values by [@&#8203;mochetts](https://togithub.com/mochetts) in [https://github.com/rtCamp/action-slack-notify/pull/144](https://togithub.com/rtCamp/action-slack-notify/pull/144)
-   lowercase EnvSlackColor by [@&#8203;ilyatovbin-pp](https://togithub.com/ilyatovbin-pp) in [https://github.com/rtCamp/action-slack-notify/pull/130](https://togithub.com/rtCamp/action-slack-notify/pull/130)
-   Add support for Application Tokens + Resolve Remaining Issues by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/164](https://togithub.com/rtCamp/action-slack-notify/pull/164)
-   Add fix for uncleared spaces around variables and file uploads by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/166](https://togithub.com/rtCamp/action-slack-notify/pull/166)
-   Fix `invalid reference format: repository name must be lowercase` error by [@&#8203;ohbarye](https://togithub.com/ohbarye) in [https://github.com/rtCamp/action-slack-notify/pull/167](https://togithub.com/rtCamp/action-slack-notify/pull/167)

##### New Contributors

-   [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/160](https://togithub.com/rtCamp/action-slack-notify/pull/160)
-   [@&#8203;mochetts](https://togithub.com/mochetts) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/144](https://togithub.com/rtCamp/action-slack-notify/pull/144)
-   [@&#8203;ilyatovbin-pp](https://togithub.com/ilyatovbin-pp) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/130](https://togithub.com/rtCamp/action-slack-notify/pull/130)
-   [@&#8203;ohbarye](https://togithub.com/ohbarye) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/167](https://togithub.com/rtCamp/action-slack-notify/pull/167)

**Full Changelog**: https://github.com/rtCamp/action-slack-notify/compare/v2.2.1...v2.3.0

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNDUuMCIsInVwZGF0ZWRJblZlciI6IjM3LjI0NS4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/codeql-analysis.yml,../Mining/generated/scripts/prisma/files_src_before/c91c90b_codeql-analysis.yml,../Mining/generated/scripts/prisma/files_src_after/c91c90b_codeql-analysis.yml,None,None,None,"@@ -52,7 +52,7 @@ jobs:
 
       - name: Slack Notification on Failure
         if: ${{ failure() }}
-        uses: rtCamp/action-slack-notify@v2.2.1
+        uses: rtCamp/action-slack-notify@v2.3.0
         env:
           SLACK_TITLE: 'CodeQL: Code Scanning failed :x:'
           SLACK_COLOR: '#FF0000'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c91c90b716782d87add05d9c076351003c6071d0,bb3f4f6252b470f59ff79c7e448fe3b990be5fef,2024-03-20 09:59:58+01:00,"chore(deps): update rtcamp/action-slack-notify action to v2.3.0 (#23556)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",8,,daily-test.yml,MODIFY,1,1,,23556,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-03-20T06:29:58Z,2024-03-20T08:59:58Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [rtCamp/action-slack-notify](https://togithub.com/rtCamp/action-slack-notify) | action | minor | `v2.2.1` -> `v2.3.0` |

---

### Release Notes

<details>
<summary>rtCamp/action-slack-notify (rtCamp/action-slack-notify)</summary>

### [`v2.3.0`](https://togithub.com/rtCamp/action-slack-notify/releases/tag/v2.3.0): Version 2.3.0

[Compare Source](https://togithub.com/rtCamp/action-slack-notify/compare/v2.2.1...v2.3.0)

##### What's Changed

-   Add github action to build for ARM and x86 by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/160](https://togithub.com/rtCamp/action-slack-notify/pull/160)
-   Update actions used for building and pushing to latest by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/161](https://togithub.com/rtCamp/action-slack-notify/pull/161)
-   Resolve a series of existing issues by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/162](https://togithub.com/rtCamp/action-slack-notify/pull/162)
-   Update README to include other `SLACK_COLOR` valid values by [@&#8203;mochetts](https://togithub.com/mochetts) in [https://github.com/rtCamp/action-slack-notify/pull/144](https://togithub.com/rtCamp/action-slack-notify/pull/144)
-   lowercase EnvSlackColor by [@&#8203;ilyatovbin-pp](https://togithub.com/ilyatovbin-pp) in [https://github.com/rtCamp/action-slack-notify/pull/130](https://togithub.com/rtCamp/action-slack-notify/pull/130)
-   Add support for Application Tokens + Resolve Remaining Issues by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/164](https://togithub.com/rtCamp/action-slack-notify/pull/164)
-   Add fix for uncleared spaces around variables and file uploads by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/166](https://togithub.com/rtCamp/action-slack-notify/pull/166)
-   Fix `invalid reference format: repository name must be lowercase` error by [@&#8203;ohbarye](https://togithub.com/ohbarye) in [https://github.com/rtCamp/action-slack-notify/pull/167](https://togithub.com/rtCamp/action-slack-notify/pull/167)

##### New Contributors

-   [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/160](https://togithub.com/rtCamp/action-slack-notify/pull/160)
-   [@&#8203;mochetts](https://togithub.com/mochetts) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/144](https://togithub.com/rtCamp/action-slack-notify/pull/144)
-   [@&#8203;ilyatovbin-pp](https://togithub.com/ilyatovbin-pp) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/130](https://togithub.com/rtCamp/action-slack-notify/pull/130)
-   [@&#8203;ohbarye](https://togithub.com/ohbarye) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/167](https://togithub.com/rtCamp/action-slack-notify/pull/167)

**Full Changelog**: https://github.com/rtCamp/action-slack-notify/compare/v2.2.1...v2.3.0

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNDUuMCIsInVwZGF0ZWRJblZlciI6IjM3LjI0NS4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/daily-test.yml,../Mining/generated/scripts/prisma/files_src_before/c91c90b_daily-test.yml,../Mining/generated/scripts/prisma/files_src_after/c91c90b_daily-test.yml,None,None,None,"@@ -24,7 +24,7 @@ jobs:
         run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> ""$GITHUB_ENV""
 
       - name: Slack Notification on Failure
-        uses: rtCamp/action-slack-notify@v2.2.1
+        uses: rtCamp/action-slack-notify@v2.3.0
         env:
           SLACK_TITLE: 'prisma/prisma daily build failed :x:'
           SLACK_COLOR: '#FF0000'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c91c90b716782d87add05d9c076351003c6071d0,bb3f4f6252b470f59ff79c7e448fe3b990be5fef,2024-03-20 09:59:58+01:00,"chore(deps): update rtcamp/action-slack-notify action to v2.3.0 (#23556)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",8,,label-stale-issues.yml,MODIFY,1,1,,23556,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-03-20T06:29:58Z,2024-03-20T08:59:58Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [rtCamp/action-slack-notify](https://togithub.com/rtCamp/action-slack-notify) | action | minor | `v2.2.1` -> `v2.3.0` |

---

### Release Notes

<details>
<summary>rtCamp/action-slack-notify (rtCamp/action-slack-notify)</summary>

### [`v2.3.0`](https://togithub.com/rtCamp/action-slack-notify/releases/tag/v2.3.0): Version 2.3.0

[Compare Source](https://togithub.com/rtCamp/action-slack-notify/compare/v2.2.1...v2.3.0)

##### What's Changed

-   Add github action to build for ARM and x86 by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/160](https://togithub.com/rtCamp/action-slack-notify/pull/160)
-   Update actions used for building and pushing to latest by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/161](https://togithub.com/rtCamp/action-slack-notify/pull/161)
-   Resolve a series of existing issues by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/162](https://togithub.com/rtCamp/action-slack-notify/pull/162)
-   Update README to include other `SLACK_COLOR` valid values by [@&#8203;mochetts](https://togithub.com/mochetts) in [https://github.com/rtCamp/action-slack-notify/pull/144](https://togithub.com/rtCamp/action-slack-notify/pull/144)
-   lowercase EnvSlackColor by [@&#8203;ilyatovbin-pp](https://togithub.com/ilyatovbin-pp) in [https://github.com/rtCamp/action-slack-notify/pull/130](https://togithub.com/rtCamp/action-slack-notify/pull/130)
-   Add support for Application Tokens + Resolve Remaining Issues by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/164](https://togithub.com/rtCamp/action-slack-notify/pull/164)
-   Add fix for uncleared spaces around variables and file uploads by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/166](https://togithub.com/rtCamp/action-slack-notify/pull/166)
-   Fix `invalid reference format: repository name must be lowercase` error by [@&#8203;ohbarye](https://togithub.com/ohbarye) in [https://github.com/rtCamp/action-slack-notify/pull/167](https://togithub.com/rtCamp/action-slack-notify/pull/167)

##### New Contributors

-   [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/160](https://togithub.com/rtCamp/action-slack-notify/pull/160)
-   [@&#8203;mochetts](https://togithub.com/mochetts) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/144](https://togithub.com/rtCamp/action-slack-notify/pull/144)
-   [@&#8203;ilyatovbin-pp](https://togithub.com/ilyatovbin-pp) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/130](https://togithub.com/rtCamp/action-slack-notify/pull/130)
-   [@&#8203;ohbarye](https://togithub.com/ohbarye) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/167](https://togithub.com/rtCamp/action-slack-notify/pull/167)

**Full Changelog**: https://github.com/rtCamp/action-slack-notify/compare/v2.2.1...v2.3.0

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNDUuMCIsInVwZGF0ZWRJblZlciI6IjM3LjI0NS4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_before/c91c90b_label-stale-issues.yml,../Mining/generated/scripts/prisma/files_src_after/c91c90b_label-stale-issues.yml,None,None,None,"@@ -27,7 +27,7 @@ jobs:
 
       - name: Slack Notification on Failure
         if: ${{ failure() }}
-        uses: rtCamp/action-slack-notify@v2.2.1
+        uses: rtCamp/action-slack-notify@v2.3.0
         env:
           SLACK_TITLE: 'Labels stale issues failed :x:'
           SLACK_COLOR: '#FF0000'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c91c90b716782d87add05d9c076351003c6071d0,bb3f4f6252b470f59ff79c7e448fe3b990be5fef,2024-03-20 09:59:58+01:00,"chore(deps): update rtcamp/action-slack-notify action to v2.3.0 (#23556)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",8,,release-ci.yml,MODIFY,2,2,,23556,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-03-20T06:29:58Z,2024-03-20T08:59:58Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [rtCamp/action-slack-notify](https://togithub.com/rtCamp/action-slack-notify) | action | minor | `v2.2.1` -> `v2.3.0` |

---

### Release Notes

<details>
<summary>rtCamp/action-slack-notify (rtCamp/action-slack-notify)</summary>

### [`v2.3.0`](https://togithub.com/rtCamp/action-slack-notify/releases/tag/v2.3.0): Version 2.3.0

[Compare Source](https://togithub.com/rtCamp/action-slack-notify/compare/v2.2.1...v2.3.0)

##### What's Changed

-   Add github action to build for ARM and x86 by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/160](https://togithub.com/rtCamp/action-slack-notify/pull/160)
-   Update actions used for building and pushing to latest by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/161](https://togithub.com/rtCamp/action-slack-notify/pull/161)
-   Resolve a series of existing issues by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/162](https://togithub.com/rtCamp/action-slack-notify/pull/162)
-   Update README to include other `SLACK_COLOR` valid values by [@&#8203;mochetts](https://togithub.com/mochetts) in [https://github.com/rtCamp/action-slack-notify/pull/144](https://togithub.com/rtCamp/action-slack-notify/pull/144)
-   lowercase EnvSlackColor by [@&#8203;ilyatovbin-pp](https://togithub.com/ilyatovbin-pp) in [https://github.com/rtCamp/action-slack-notify/pull/130](https://togithub.com/rtCamp/action-slack-notify/pull/130)
-   Add support for Application Tokens + Resolve Remaining Issues by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/164](https://togithub.com/rtCamp/action-slack-notify/pull/164)
-   Add fix for uncleared spaces around variables and file uploads by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/166](https://togithub.com/rtCamp/action-slack-notify/pull/166)
-   Fix `invalid reference format: repository name must be lowercase` error by [@&#8203;ohbarye](https://togithub.com/ohbarye) in [https://github.com/rtCamp/action-slack-notify/pull/167](https://togithub.com/rtCamp/action-slack-notify/pull/167)

##### New Contributors

-   [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/160](https://togithub.com/rtCamp/action-slack-notify/pull/160)
-   [@&#8203;mochetts](https://togithub.com/mochetts) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/144](https://togithub.com/rtCamp/action-slack-notify/pull/144)
-   [@&#8203;ilyatovbin-pp](https://togithub.com/ilyatovbin-pp) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/130](https://togithub.com/rtCamp/action-slack-notify/pull/130)
-   [@&#8203;ohbarye](https://togithub.com/ohbarye) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/167](https://togithub.com/rtCamp/action-slack-notify/pull/167)

**Full Changelog**: https://github.com/rtCamp/action-slack-notify/compare/v2.2.1...v2.3.0

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNDUuMCIsInVwZGF0ZWRJblZlciI6IjM3LjI0NS4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/release-ci.yml,../Mining/generated/scripts/prisma/files_src_before/c91c90b_release-ci.yml,../Mining/generated/scripts/prisma/files_src_after/c91c90b_release-ci.yml,None,None,None,"@@ -131,7 +131,7 @@ jobs:
         run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> ""$GITHUB_ENV""
 
       - name: Slack Notification on Success
-        uses: rtCamp/action-slack-notify@v2.2.1
+        uses: rtCamp/action-slack-notify@v2.3.0
         env:
           SLACK_TITLE: 'prisma/prisma Release ${{ needs.release.outputs.prismaVersion }} succeeded :white_check_mark:'
           SLACK_COLOR: '#55ff55'
@@ -149,7 +149,7 @@ jobs:
         run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> ""$GITHUB_ENV""
 
       - name: Slack Notification on Failure
-        uses: rtCamp/action-slack-notify@v2.2.1
+        uses: rtCamp/action-slack-notify@v2.3.0
         env:
           SLACK_TITLE: 'prisma/prisma Release from ${{ github.ref_name }} to dev/integration failed :x:'
           SLACK_COLOR: '#FF0000'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c91c90b716782d87add05d9c076351003c6071d0,bb3f4f6252b470f59ff79c7e448fe3b990be5fef,2024-03-20 09:59:58+01:00,"chore(deps): update rtcamp/action-slack-notify action to v2.3.0 (#23556)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",8,,release-latest.yml,MODIFY,2,2,,23556,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-03-20T06:29:58Z,2024-03-20T08:59:58Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [rtCamp/action-slack-notify](https://togithub.com/rtCamp/action-slack-notify) | action | minor | `v2.2.1` -> `v2.3.0` |

---

### Release Notes

<details>
<summary>rtCamp/action-slack-notify (rtCamp/action-slack-notify)</summary>

### [`v2.3.0`](https://togithub.com/rtCamp/action-slack-notify/releases/tag/v2.3.0): Version 2.3.0

[Compare Source](https://togithub.com/rtCamp/action-slack-notify/compare/v2.2.1...v2.3.0)

##### What's Changed

-   Add github action to build for ARM and x86 by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/160](https://togithub.com/rtCamp/action-slack-notify/pull/160)
-   Update actions used for building and pushing to latest by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/161](https://togithub.com/rtCamp/action-slack-notify/pull/161)
-   Resolve a series of existing issues by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/162](https://togithub.com/rtCamp/action-slack-notify/pull/162)
-   Update README to include other `SLACK_COLOR` valid values by [@&#8203;mochetts](https://togithub.com/mochetts) in [https://github.com/rtCamp/action-slack-notify/pull/144](https://togithub.com/rtCamp/action-slack-notify/pull/144)
-   lowercase EnvSlackColor by [@&#8203;ilyatovbin-pp](https://togithub.com/ilyatovbin-pp) in [https://github.com/rtCamp/action-slack-notify/pull/130](https://togithub.com/rtCamp/action-slack-notify/pull/130)
-   Add support for Application Tokens + Resolve Remaining Issues by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/164](https://togithub.com/rtCamp/action-slack-notify/pull/164)
-   Add fix for uncleared spaces around variables and file uploads by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/166](https://togithub.com/rtCamp/action-slack-notify/pull/166)
-   Fix `invalid reference format: repository name must be lowercase` error by [@&#8203;ohbarye](https://togithub.com/ohbarye) in [https://github.com/rtCamp/action-slack-notify/pull/167](https://togithub.com/rtCamp/action-slack-notify/pull/167)

##### New Contributors

-   [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/160](https://togithub.com/rtCamp/action-slack-notify/pull/160)
-   [@&#8203;mochetts](https://togithub.com/mochetts) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/144](https://togithub.com/rtCamp/action-slack-notify/pull/144)
-   [@&#8203;ilyatovbin-pp](https://togithub.com/ilyatovbin-pp) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/130](https://togithub.com/rtCamp/action-slack-notify/pull/130)
-   [@&#8203;ohbarye](https://togithub.com/ohbarye) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/167](https://togithub.com/rtCamp/action-slack-notify/pull/167)

**Full Changelog**: https://github.com/rtCamp/action-slack-notify/compare/v2.2.1...v2.3.0

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNDUuMCIsInVwZGF0ZWRJblZlciI6IjM3LjI0NS4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/release-latest.yml,../Mining/generated/scripts/prisma/files_src_before/c91c90b_release-latest.yml,../Mining/generated/scripts/prisma/files_src_after/c91c90b_release-latest.yml,None,None,None,"@@ -128,7 +128,7 @@ jobs:
         run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> ""$GITHUB_ENV""
 
       - name: Slack Notification on Success
-        uses: rtCamp/action-slack-notify@v2.2.1
+        uses: rtCamp/action-slack-notify@v2.3.0
         env:
           SLACK_TITLE: 'prisma/prisma Release ${{ needs.release.outputs.prismaVersion }} succeeded :white_check_mark:'
           SLACK_COLOR: '#55ff55'
@@ -146,7 +146,7 @@ jobs:
         run: echo ""SLACK_FOOTER=<$GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID|Click here to go to the job logs>"" >> ""$GITHUB_ENV""
 
       - name: Slack Notification on Failure
-        uses: rtCamp/action-slack-notify@v2.2.1
+        uses: rtCamp/action-slack-notify@v2.3.0
         env:
           SLACK_TITLE: 'prisma/prisma Release ${{ github.event.inputs.targetVersion }} from ${{ github.ref_name }} on latest tag failed :x:'
           SLACK_COLOR: '#FF0000'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c91c90b716782d87add05d9c076351003c6071d0,bb3f4f6252b470f59ff79c7e448fe3b990be5fef,2024-03-20 09:59:58+01:00,"chore(deps): update rtcamp/action-slack-notify action to v2.3.0 (#23556)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",8,,update-engines-version.yml,MODIFY,1,1,,23556,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-03-20T06:29:58Z,2024-03-20T08:59:58Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [rtCamp/action-slack-notify](https://togithub.com/rtCamp/action-slack-notify) | action | minor | `v2.2.1` -> `v2.3.0` |

---

### Release Notes

<details>
<summary>rtCamp/action-slack-notify (rtCamp/action-slack-notify)</summary>

### [`v2.3.0`](https://togithub.com/rtCamp/action-slack-notify/releases/tag/v2.3.0): Version 2.3.0

[Compare Source](https://togithub.com/rtCamp/action-slack-notify/compare/v2.2.1...v2.3.0)

##### What's Changed

-   Add github action to build for ARM and x86 by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/160](https://togithub.com/rtCamp/action-slack-notify/pull/160)
-   Update actions used for building and pushing to latest by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/161](https://togithub.com/rtCamp/action-slack-notify/pull/161)
-   Resolve a series of existing issues by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/162](https://togithub.com/rtCamp/action-slack-notify/pull/162)
-   Update README to include other `SLACK_COLOR` valid values by [@&#8203;mochetts](https://togithub.com/mochetts) in [https://github.com/rtCamp/action-slack-notify/pull/144](https://togithub.com/rtCamp/action-slack-notify/pull/144)
-   lowercase EnvSlackColor by [@&#8203;ilyatovbin-pp](https://togithub.com/ilyatovbin-pp) in [https://github.com/rtCamp/action-slack-notify/pull/130](https://togithub.com/rtCamp/action-slack-notify/pull/130)
-   Add support for Application Tokens + Resolve Remaining Issues by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/164](https://togithub.com/rtCamp/action-slack-notify/pull/164)
-   Add fix for uncleared spaces around variables and file uploads by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/166](https://togithub.com/rtCamp/action-slack-notify/pull/166)
-   Fix `invalid reference format: repository name must be lowercase` error by [@&#8203;ohbarye](https://togithub.com/ohbarye) in [https://github.com/rtCamp/action-slack-notify/pull/167](https://togithub.com/rtCamp/action-slack-notify/pull/167)

##### New Contributors

-   [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/160](https://togithub.com/rtCamp/action-slack-notify/pull/160)
-   [@&#8203;mochetts](https://togithub.com/mochetts) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/144](https://togithub.com/rtCamp/action-slack-notify/pull/144)
-   [@&#8203;ilyatovbin-pp](https://togithub.com/ilyatovbin-pp) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/130](https://togithub.com/rtCamp/action-slack-notify/pull/130)
-   [@&#8203;ohbarye](https://togithub.com/ohbarye) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/167](https://togithub.com/rtCamp/action-slack-notify/pull/167)

**Full Changelog**: https://github.com/rtCamp/action-slack-notify/compare/v2.2.1...v2.3.0

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNDUuMCIsInVwZGF0ZWRJblZlciI6IjM3LjI0NS4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/c91c90b_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/c91c90b_update-engines-version.yml,None,None,None,"@@ -221,7 +221,7 @@ jobs:
 
       - name: Slack Notification on Failure
         if: ${{ failure() }}
-        uses: rtCamp/action-slack-notify@v2.2.1
+        uses: rtCamp/action-slack-notify@v2.3.0
         env:
           SLACK_TITLE: 'Update Engines Version failed :x:'
           SLACK_COLOR: '#FF0000'
",True,False,False,False,False,True,True
prisma,renovate[bot],Bot,29139614+renovate[bot]@users.noreply.github.com,GitHub,User,noreply@github.com,c91c90b716782d87add05d9c076351003c6071d0,bb3f4f6252b470f59ff79c7e448fe3b990be5fef,2024-03-20 09:59:58+01:00,"chore(deps): update rtcamp/action-slack-notify action to v2.3.0 (#23556)

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",8,,update-studio-version.yml,MODIFY,1,1,,23556,renovate[bot],Bot,CONTRIBUTOR,Jolg42,User,2024-03-20T06:29:58Z,2024-03-20T08:59:58Z,closed,,,,"[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [rtCamp/action-slack-notify](https://togithub.com/rtCamp/action-slack-notify) | action | minor | `v2.2.1` -> `v2.3.0` |

---

### Release Notes

<details>
<summary>rtCamp/action-slack-notify (rtCamp/action-slack-notify)</summary>

### [`v2.3.0`](https://togithub.com/rtCamp/action-slack-notify/releases/tag/v2.3.0): Version 2.3.0

[Compare Source](https://togithub.com/rtCamp/action-slack-notify/compare/v2.2.1...v2.3.0)

##### What's Changed

-   Add github action to build for ARM and x86 by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/160](https://togithub.com/rtCamp/action-slack-notify/pull/160)
-   Update actions used for building and pushing to latest by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/161](https://togithub.com/rtCamp/action-slack-notify/pull/161)
-   Resolve a series of existing issues by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/162](https://togithub.com/rtCamp/action-slack-notify/pull/162)
-   Update README to include other `SLACK_COLOR` valid values by [@&#8203;mochetts](https://togithub.com/mochetts) in [https://github.com/rtCamp/action-slack-notify/pull/144](https://togithub.com/rtCamp/action-slack-notify/pull/144)
-   lowercase EnvSlackColor by [@&#8203;ilyatovbin-pp](https://togithub.com/ilyatovbin-pp) in [https://github.com/rtCamp/action-slack-notify/pull/130](https://togithub.com/rtCamp/action-slack-notify/pull/130)
-   Add support for Application Tokens + Resolve Remaining Issues by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/164](https://togithub.com/rtCamp/action-slack-notify/pull/164)
-   Add fix for uncleared spaces around variables and file uploads by [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) in [https://github.com/rtCamp/action-slack-notify/pull/166](https://togithub.com/rtCamp/action-slack-notify/pull/166)
-   Fix `invalid reference format: repository name must be lowercase` error by [@&#8203;ohbarye](https://togithub.com/ohbarye) in [https://github.com/rtCamp/action-slack-notify/pull/167](https://togithub.com/rtCamp/action-slack-notify/pull/167)

##### New Contributors

-   [@&#8203;L0RD-ZER0](https://togithub.com/L0RD-ZER0) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/160](https://togithub.com/rtCamp/action-slack-notify/pull/160)
-   [@&#8203;mochetts](https://togithub.com/mochetts) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/144](https://togithub.com/rtCamp/action-slack-notify/pull/144)
-   [@&#8203;ilyatovbin-pp](https://togithub.com/ilyatovbin-pp) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/130](https://togithub.com/rtCamp/action-slack-notify/pull/130)
-   [@&#8203;ohbarye](https://togithub.com/ohbarye) made their first contribution in [https://github.com/rtCamp/action-slack-notify/pull/167](https://togithub.com/rtCamp/action-slack-notify/pull/167)

**Full Changelog**: https://github.com/rtCamp/action-slack-notify/compare/v2.2.1...v2.3.0

</details>

---

### Configuration

📅 **Schedule**: Branch creation - ""before 7am every weekday,every weekend"" (UTC), Automerge - At any time (no schedule defined).

🚦 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

♻ **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

🔕 **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/prisma/prisma).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNDUuMCIsInVwZGF0ZWRJblZlciI6IjM3LjI0NS4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->
",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/c91c90b_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/c91c90b_update-studio-version.yml,None,None,None,"@@ -82,7 +82,7 @@ jobs:
 
       - name: Slack Notification on Failure
         if: ${{ failure() }}
-        uses: rtCamp/action-slack-notify@v2.2.1
+        uses: rtCamp/action-slack-notify@v2.3.0
         env:
           SLACK_TITLE: 'Update Studio Version failed :x:'
           SLACK_COLOR: '#FF0000'
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,5912f303cb774521b073c682f16c168764089023,0566ebbcec0dc239177d0771d3da382e18e41cd2,2024-03-25 10:48:07+01:00,ci(driver-adapter): remove relationJoins exclusion (#23594),1,5.12.0,test-template.yml,MODIFY,0,4,,23594,Jolg42,User,MEMBER,aqrln,User,2024-03-22T16:36:26Z,2024-03-25T09:48:08Z,closed,,Jolg42,User,"I'm curious to see what happens.

Closes https://github.com/prisma/team-orm/issues/697",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/5912f30_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/5912f30_test-template.yml,None,None,None,"@@ -261,10 +261,6 @@ jobs:
         shard: ['1/6', '2/6', '3/6', '4/6', '5/6', '6/6']
         node: [20] #[16, 18, 20]
         previewFeatures: ['driverAdapters', 'driverAdapters,relationJoins']
-        exclude:
-          # Exclude relationJoins tests with WASM because the WASM engine does not include the necessary changes yet.
-          - clientRuntime: 'wasm'
-            previewFeatures: 'driverAdapters,relationJoins'
     steps:
       - uses: actions/checkout@v4
 
",True,False,False,False,False,True,False
prisma,Serhii Tatarintsev,User,tatarintsev@prisma.io,GitHub,User,noreply@github.com,07f8b3a7bb0a7e4731c4c12e63d1b3fa59a1bba8,85f43beff2c267ed19e76a8bd333ad3473dd83c8,2024-03-26 10:34:23+01:00,"feat(schema-files-loader): Add a package for loading multiple schema files (#23581)

* feat(schema-files-loader): Add a package for loading multiple schema files

This package will be reused between language-tools and cli to unfiy
multiple files loading logic.

Logic is the following: all *.prisma files and symlinks within the
directory are considered to be a part of the same schema. Subfolder are
ignored for now.

Close prisma/team-orm#1037

* Fix things

* Fix build

* Fix node 16

* Attempt to fix win",22,5.12.0,test-template.yml,MODIFY,27,0,,23581,SevInf,User,CONTRIBUTOR,SevInf,User,2024-03-21T12:46:38Z,2024-03-26T09:34:24Z,closed,,,,"This package will be reused between language-tools and cli to unfiy
multiple files loading logic.

Logic is the following: all *.prisma files and symlinks within the
directory are considered to be a part of the same schema. Subfolder are
ignored for now.

Close prisma/team-orm#1037
",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/07f8b3a_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/07f8b3a_test-template.yml,1.0,1.0,1.0,"@@ -945,6 +945,17 @@ jobs:
           flags: instrumentation,${{ matrix.os }},library,binary
           name: instrumentation-${{ matrix.os }}
 
+      - run: pnpm run test
+        name: 'schema-files-loader'
+        working-directory: packages/schema-files-loader
+
+      - uses: codecov/codecov-action@v3
+        with:
+          token: ${{ secrets.CODECOV_TOKEN }}
+          files: ./packages/schema-files-loader/src/__tests__/coverage/clover.xml
+          flags: schema-files-loader,${{ matrix.os }},library,binary
+          name: schema-files-loader-${{ matrix.os }}
+
   #
   # Run all tests on macOS and Windows.
   #
@@ -1213,6 +1224,22 @@ jobs:
           flags: engines,${{ matrix.os }},library,binary
           name: engines-${{ matrix.os }}
 
+      - name: Test packages/schema-files-loader
+        if: contains(inputs.jobsToRun, '-all-')
+        run: pnpm run test
+        working-directory: packages/schema-files-loader
+        env:
+          JEST_JUNIT_SUITE_NAME: 'schema-files-loader'
+          JEST_JUNIT_UNIQUE_OUTPUT_NAME: true
+
+      - uses: codecov/codecov-action@v3
+        if: contains(inputs.jobsToRun, '-all-')
+        with:
+          token: ${{ secrets.CODECOV_TOKEN }}
+          files: ./packages/engines/src/__tests__/coverage/clover.xml
+          flags: schema-files-loader,${{ matrix.os }},library,binary
+          name: schema-files-loader-${{ matrix.os }}
+
       - name: Upload test results to BuildPulse for flaky test detection
         # Only run this step for branches where we have access to secrets.
         # Run this step even when the tests fail. Skip if the workflow is cancelled.
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,3d415f08c5ca9602d61574a4826f2219c764403e,dcdeac02733df0b43a7914a1f719d59ef766172e,2024-04-02 13:18:31+02:00,ci: pin pnpm to 8.15.5 (#23691),10,5.12.0,benchmark.yml,MODIFY,1,1,,23691,Jolg42,User,MEMBER,Jolg42,User,2024-04-02T10:17:04Z,2024-04-02T11:18:31Z,closed,,Jolg42,User,"https://github.com/pnpm/pnpm/releases/tag/v8.15.6 was released 14h ago and tests are failing since.

Re-running old runs results in the same error = CLI Studio tests were passing with 8.15.5 and below.",../Mining/generated/scripts/prisma/current_code/benchmark.yml,../Mining/generated/scripts/prisma/files_src_before/3d415f0_benchmark.yml,../Mining/generated/scripts/prisma/files_src_after/3d415f0_benchmark.yml,None,None,None,"@@ -61,7 +61,7 @@ jobs:
         uses: ./.github/actions/setup
         with:
           node-version: 20
-          pnpm-version: 8
+          pnpm-version: 8.15.5
           skip-tsc: false
 
       - name: Run benchmarks
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,3d415f08c5ca9602d61574a4826f2219c764403e,dcdeac02733df0b43a7914a1f719d59ef766172e,2024-04-02 13:18:31+02:00,ci: pin pnpm to 8.15.5 (#23691),10,5.12.0,bundle-size.yml,MODIFY,1,1,,23691,Jolg42,User,MEMBER,Jolg42,User,2024-04-02T10:17:04Z,2024-04-02T11:18:31Z,closed,,Jolg42,User,"https://github.com/pnpm/pnpm/releases/tag/v8.15.6 was released 14h ago and tests are failing since.

Re-running old runs results in the same error = CLI Studio tests were passing with 8.15.5 and below.",../Mining/generated/scripts/prisma/current_code/bundle-size.yml,../Mining/generated/scripts/prisma/files_src_before/3d415f0_bundle-size.yml,../Mining/generated/scripts/prisma/files_src_after/3d415f0_bundle-size.yml,None,None,None,"@@ -34,7 +34,7 @@ jobs:
         uses: ./.github/actions/setup
         with:
           node-version: 18
-          pnpm-version: 8
+          pnpm-version: 8.15.5
           skip-tsc: true
           skip-build: true
 
",False,False,False,False,False,False,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,3d415f08c5ca9602d61574a4826f2219c764403e,dcdeac02733df0b43a7914a1f719d59ef766172e,2024-04-02 13:18:31+02:00,ci: pin pnpm to 8.15.5 (#23691),10,5.12.0,release-ci.yml,MODIFY,1,1,,23691,Jolg42,User,MEMBER,Jolg42,User,2024-04-02T10:17:04Z,2024-04-02T11:18:31Z,closed,,Jolg42,User,"https://github.com/pnpm/pnpm/releases/tag/v8.15.6 was released 14h ago and tests are failing since.

Re-running old runs results in the same error = CLI Studio tests were passing with 8.15.5 and below.",../Mining/generated/scripts/prisma/current_code/release-ci.yml,../Mining/generated/scripts/prisma/files_src_before/3d415f0_release-ci.yml,../Mining/generated/scripts/prisma/files_src_after/3d415f0_release-ci.yml,None,None,None,"@@ -59,7 +59,7 @@ jobs:
         uses: ./.github/actions/setup
         with:
           node-version: 18
-          pnpm-version: 8
+          pnpm-version: 8.15.5
           skip-tsc: false
 
       - name: Publish all packages to npm
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,3d415f08c5ca9602d61574a4826f2219c764403e,dcdeac02733df0b43a7914a1f719d59ef766172e,2024-04-02 13:18:31+02:00,ci: pin pnpm to 8.15.5 (#23691),10,5.12.0,release-latest.yml,MODIFY,1,1,,23691,Jolg42,User,MEMBER,Jolg42,User,2024-04-02T10:17:04Z,2024-04-02T11:18:31Z,closed,,Jolg42,User,"https://github.com/pnpm/pnpm/releases/tag/v8.15.6 was released 14h ago and tests are failing since.

Re-running old runs results in the same error = CLI Studio tests were passing with 8.15.5 and below.",../Mining/generated/scripts/prisma/current_code/release-latest.yml,../Mining/generated/scripts/prisma/files_src_before/3d415f0_release-latest.yml,../Mining/generated/scripts/prisma/files_src_after/3d415f0_release-latest.yml,None,None,None,"@@ -50,7 +50,7 @@ jobs:
       - uses: ./.github/actions/setup
         with:
           node-version: 18
-          pnpm-version: 8
+          pnpm-version: 8.15.5
           skip-tsc: false
 
       - name: Publish all packages to npm
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,3d415f08c5ca9602d61574a4826f2219c764403e,dcdeac02733df0b43a7914a1f719d59ef766172e,2024-04-02 13:18:31+02:00,ci: pin pnpm to 8.15.5 (#23691),10,5.12.0,test-template.yml,MODIFY,1,1,,23691,Jolg42,User,MEMBER,Jolg42,User,2024-04-02T10:17:04Z,2024-04-02T11:18:31Z,closed,,Jolg42,User,"https://github.com/pnpm/pnpm/releases/tag/v8.15.6 was released 14h ago and tests are failing since.

Re-running old runs results in the same error = CLI Studio tests were passing with 8.15.5 and below.",../Mining/generated/scripts/prisma/current_code/test-template.yml,../Mining/generated/scripts/prisma/files_src_before/3d415f0_test-template.yml,../Mining/generated/scripts/prisma/files_src_after/3d415f0_test-template.yml,None,None,None,"@@ -28,7 +28,7 @@ on:
       pnpmVersion:
         description: pnpm package manager version
         type: string
-        default: '8'
+        default: '8.15.5'
       engineHash:
         description: Customly-built engine hash to use
         type: string
",True,False,False,False,False,True,False
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,3d415f08c5ca9602d61574a4826f2219c764403e,dcdeac02733df0b43a7914a1f719d59ef766172e,2024-04-02 13:18:31+02:00,ci: pin pnpm to 8.15.5 (#23691),10,5.12.0,update-engines-version.yml,MODIFY,1,1,,23691,Jolg42,User,MEMBER,Jolg42,User,2024-04-02T10:17:04Z,2024-04-02T11:18:31Z,closed,,Jolg42,User,"https://github.com/pnpm/pnpm/releases/tag/v8.15.6 was released 14h ago and tests are failing since.

Re-running old runs results in the same error = CLI Studio tests were passing with 8.15.5 and below.",../Mining/generated/scripts/prisma/current_code/update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_before/3d415f0_update-engines-version.yml,../Mining/generated/scripts/prisma/files_src_after/3d415f0_update-engines-version.yml,None,None,None,"@@ -31,7 +31,7 @@ jobs:
 
       - uses: pnpm/action-setup@v3.0.0
         with:
-          version: 8
+          version: 8.15.5
 
       - uses: actions/setup-node@v4
         with:
",True,False,False,False,False,True,True
prisma,Joël Galeran,User,Jolg42@users.noreply.github.com,GitHub,User,noreply@github.com,3d415f08c5ca9602d61574a4826f2219c764403e,dcdeac02733df0b43a7914a1f719d59ef766172e,2024-04-02 13:18:31+02:00,ci: pin pnpm to 8.15.5 (#23691),10,5.12.0,update-studio-version.yml,MODIFY,1,1,,23691,Jolg42,User,MEMBER,Jolg42,User,2024-04-02T10:17:04Z,2024-04-02T11:18:31Z,closed,,Jolg42,User,"https://github.com/pnpm/pnpm/releases/tag/v8.15.6 was released 14h ago and tests are failing since.

Re-running old runs results in the same error = CLI Studio tests were passing with 8.15.5 and below.",../Mining/generated/scripts/prisma/current_code/update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_before/3d415f0_update-studio-version.yml,../Mining/generated/scripts/prisma/files_src_after/3d415f0_update-studio-version.yml,None,None,None,"@@ -17,7 +17,7 @@ jobs:
 
       - uses: pnpm/action-setup@v3.0.0
         with:
-          version: 8
+          version: 8.15.5
 
       - uses: actions/setup-node@v4
         with:
",True,False,False,False,False,True,True
prisma,Oscar Franco,User,ospfranco@gmail.com,GitHub,User,noreply@github.com,0e3f95f0a8faa7e47dcd17b8e5035c84a2ed4ac2,183c14d2aa6059fc3c00c95363887e8941b3d911,2024-04-22 17:07:17+02:00,"feat: React Native support (#23637)

* Add support for RN

* Merge fixes

* Correct type of applyPending migrations

* Fix comment about react native

* Update snapshots

* Wrap transaction methods

* Filter DS_store file for macos

* Reverse DS_store check for tests

* Update snapshot

* Rename commonEdgeWasmOverrides to commonRuntimeOverrides

* Change commonEdgeWasmRuntimeBuildConfig to NODE: 'false""

* Rename rn target to react-native

* Change last rn reference

* Change return type of applyPendingMigrations

* Remove push schema call

* Do not generate applyPendingMigrations for type for other targets

* Create a react native library loader

* Fix package.json exported files

* Update test

* Prevent importing from package

* Update snapshots

* Update packages/client/src/runtime/core/engines/library/ReactNativeLibraryLoader.ts

Co-authored-by: Serhii Tatarintsev <sergey@tatarintsev.me>

* Add e2e github flow

* Add pull request trigger

* tweak CI

* Add install git lfs on the CI script

* Point react-native.d.ts to the correct types file

* Emit react native types

* Fix pod hash on e2e flow

* Hide under preview feature

---------

Co-authored-by: Serhii Tatarintsev <sergey@tatarintsev.me>
Co-authored-by: Sergey Tatarintsev <tatarintsev@prisma.io>",20,5.13.0,e2e-react-native.yml,ADD,137,0,,23637,ospfranco,User,CONTRIBUTOR,SevInf,User,2024-03-27T10:03:15Z,2024-04-22T15:07:17Z,closed,,,,,../Mining/generated/scripts/prisma/current_code/e2e-react-native.yml,../Mining/generated/scripts/prisma/files_src_before/0e3f95f_e2e-react-native.yml,../Mining/generated/scripts/prisma/files_src_after/0e3f95f_e2e-react-native.yml,0.5757575757575758,0.8939393939393939,0.9848484848484849,"@@ -0,0 +1,137 @@
+name: e2e-ios
+on:
+  push:
+    branches:
+      - main
+      - '*.*.x'
+    paths-ignore:
+      # Any update here needs to be done for `pull_request`, see below
+      # and all files (test.yml, benchmark.yml, release-ci.yml, bundle-size.yml)
+      - '*.md'
+      # - '*.bench.ts' -> should not be ignored in this workflow
+      - 'LICENSE'
+      - '.dockerignore'
+      - 'scripts/ci/publish.ts'
+      - '.github/CODEOWNERS'
+      - '.github/renovate.json'
+      - '.github/ISSUE_TEMPLATE/**'
+      - '.github/DISCUSSION_TEMPLATE/**'
+      - '.devcontainer/**'
+      - '.vscode/**'
+      - 'graphs/**'
+      - 'sandbox/**'
+  pull_request:
+    paths-ignore:
+      # Any update here needs to be done for `push`, see above
+      # and all files (test.yml, benchmark.yml, release-ci.yml)
+      - '*.md'
+      # - '*.bench.ts' -> should not be ignored in this workflow
+      - 'LICENSE'
+      - '.dockerignore'
+      - 'scripts/ci/publish.ts'
+      - '.github/CODEOWNERS'
+      - '.github/renovate.json'
+      - '.github/ISSUE_TEMPLATE/**'
+      - '.github/DISCUSSION_TEMPLATE/**'
+      - '.devcontainer/**'
+      - '.vscode/**'
+      - 'graphs/**'
+      - 'sandbox/**'
+
+jobs:
+  e2e-ios:
+    runs-on: macos-latest
+    steps:
+      - name: install git lfs
+        run: |
+          brew install git-lfs
+          git lfs install
+        env:
+          HOMEBREW_NO_AUTO_UPDATE: 1
+          HOMEBREW_NO_INSTALL_CLEANUP: 1
+
+      - uses: actions/checkout@v4
+
+      - name: Install & build
+        uses: ./.github/actions/setup
+        with:
+          node-version: 18
+          pnpm-version: 8.15.5
+          skip-tsc: true
+
+      - run: pnpm run dev
+        working-directory: packages/client
+
+      - name: clone react-native-prisma repo
+        run: git clone http://github.com/prisma/react-native-prisma.git
+
+      - name: Enable corepack
+        run: corepack enable yarn
+
+      - name: change example app to use local prisma client
+        working-directory: react-native-prisma/example
+        run: yarn add @prisma/client@../../packages/client
+
+      - name: Install dependencies
+        working-directory: react-native-prisma
+        run: yarn
+
+      - name: Install example dependencies
+        working-directory: react-native-prisma/example
+        run: yarn
+
+      - name: Install macOS dependencies
+        run: |
+          brew tap wix/brew
+          brew install applesimutils
+        env:
+          HOMEBREW_NO_AUTO_UPDATE: 1
+          HOMEBREW_NO_INSTALL_CLEANUP: 1
+
+      - name: Setup Ruby
+        uses: ruby/setup-ruby@v1
+        with:
+          ruby-version: 3.1.2
+          bundler-cache: true
+
+      - name: Cache CocoaPods
+        id: cache-cocoapods
+        uses: actions/cache@v3
+        with:
+          path: react-native-prisma/example/ios/Pods
+          key: ${{ runner.os }}-pods-${{ hashFiles('react-native-prisma/example/ios/Podfile.lock') }}
+          restore-keys: |
+            ${{ runner.os }}-pods-
+
+      - name: Install CocoaPods
+        working-directory: react-native-prisma/example
+        if: steps.cache-cocoapods.outputs.cache-hit != 'true'
+        run: cd ios ; pod install ; cd -
+
+      - name: Detox rebuild framework cache
+        working-directory: react-native-prisma/example
+        run: yarn detox rebuild-framework-cache
+
+      - name: Cache Detox build
+        id: cache-detox-build
+        uses: actions/cache@v3
+        with:
+          path: react-native-prisma/example/ios/build
+          key: ${{ runner.os }}-detox-build
+          restore-keys: |
+            ${{ runner.os }}-detox-build
+
+      - name: Detox build
+        working-directory: react-native-prisma/example
+        run: yarn detox build --configuration ios.sim.release
+
+      - name: Detox test
+        working-directory: react-native-prisma/example
+        run: yarn detox test --configuration ios.sim.release --cleanup --headless --record-logs all
+
+      - name: Upload artifacts
+        if: failure()
+        uses: actions/upload-artifact@v3
+        with:
+          name: detox-artifacts
+          path: artifacts
",True,False,False,False,False,True,False
